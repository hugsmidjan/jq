// $.fn.selectybox 1.0  -- (c) 2012 Hugsmiðjan ehf. - MIT/GPL
!function(t){var e="selecty-button-cfg",s=t.fn.selectybox=function(s){var a=this;if(s==="destroy"){a.each(function(){var s=t(this),o=s.data(e);if(o){s.removeData(e).css("opacity","").parent().after(s).remove();t.each(o.selectCSS||{},function(t){s.css(t,"")})}});return a}else{s=t.extend({},o,s);return a.pushStack(a.filter("select").data(e,s).wrap(s.wrapper).each(function(){var e=t(this);t(s.button).text(e.find("option:selected").text()||s.emptyVal).insertBefore(e)}).css({opacity:1e-4}).css(s.selectCSS).parent().css(s.wrapperCSS).on("focusin focusout","select",function(e){t(this).parent().toggleClass(s.focusClass,e.type==="focusin")}).on("change keypress","select",function(e){var o=t(this);setTimeout(function(){o.prev().text(o.find("option:selected").text()||s.emptyVal)},0)}).toArray())}},o=s.defaults={wrapper:'<span class="selecty"/>',button:'<span class="selecty-button"/>',focusClass:"focused",emptyVal:"     ",wrapperCSS:{position:"relative"},selectCSS:{position:"absolute",bottom:0,left:0}}}(jQuery);
