// $.fn.selectybox 1.0  -- (c) 2012 Hugsmi√∞jan ehf. - MIT/GPL
(function(b){var f=(b.fn.selectybox=function(a,e){if("val"===a)this.val(e).trigger("change.selectybox");else if("destroy"===a)this.each(function(){var a=b(this),d=a.data("selecty-button-cfg");d&&(a.removeData("selecty-button-cfg").css("opacity","").parent().after(a).remove(),b.each(d.selectCSS||{},function(b){a.css(b,"")}))});else return a=b.extend({},f,a),this.pushStack(this.filter("select").data("selecty-button-cfg",a).wrap(a.wrapper).each(function(){var c=b(this);b(a.button).text(c.find("option:selected").text()|| a.emptyVal).insertBefore(c)}).css({opacity:1E-4}).css(a.selectCSS).parent().css(a.wrapperCSS).on("focusin focusout","select",function(c){b(this).parent().toggleClass(a.focusClass,"focusin"===c.type)}).on("change.selectybox keyup","select",function(c){var d=b(this);setTimeout(function(){d.prev().text(d.find("option:selected").text()||a.emptyVal)},0)}).toArray());return this}).defaults={wrapper:'<span class="selecty"/>',button:'<span class="selecty-button"/>',focusClass:"focused",emptyVal:"\u00a0 \u00a0 \u00a0", wrapperCSS:{position:"relative"},selectCSS:{position:"absolute",bottom:0,left:0}}})(jQuery);
