// $.fn.selectybox 1.0  -- (c) 2012-2014 Hugsmiðjan ehf. - MIT/GPL
!function(e){var t="selecty-button-cfg",s="change.selectybox",a=e.fn.selectybox=function(a,c){var n=this;if("val"===a)n.val(c).trigger(s);else{if("destroy"!==a)return a=e.extend({},o,a),n.pushStack(n.filter("select").data(t,a).wrap(a.wrapper).each(function(){var t=e(this);e(a.button).text(t.find("option:selected").text()||a.emptyVal)[t.val()?"removeClass":"addClass"]("selecty-empty").insertBefore(t)}).css({opacity:1e-4}).css(a.selectCSS).parent().css(a.wrapperCSS).on("focusin focusout","select",function(t){e(this).parent().toggleClass(a.focusClass,"focusin"===t.type)}).on(s+" keyup","select",function(){var t=e(this);setTimeout(function(){t.prev().text(t.find("option:selected").text()||a.emptyVal)[t.val()?"removeClass":"addClass"]("selecty-empty")},0)}).toArray());n.each(function(){var s=e(this),a=s.data(t);a&&(s.removeData(t).css("opacity","").parent().after(s).remove(),e.each(a.selectCSS||{},function(e){s.css(e,"")}))})}return n},o=a.defaults={wrapper:'<span class="selecty"/>',button:'<span class="selecty-button"/>',focusClass:"focused",emptyVal:"     ",wrapperCSS:{position:"relative"},selectCSS:{position:"absolute",bottom:0,left:0}}}(jQuery);
