/* $.fn.selectybox 1.0  -- (c) 2012 Hugsmiðjan ehf. - MIT/GPL   @preserve */
!function(e){var t="selecty-button-cfg",s="change.selectybox",a=e.fn.selectybox=function(a,r){var c=this;if("refresh"===a)c.trigger(s);else if("val"===a)c.val(r).trigger(s);else{if("destroy"!==a)return a=e.extend({},o,a),c.pushStack(c.filter("select").data(t,a).wrap(a.wrapper).before(a.button).css({opacity:1e-4}).css(a.selectCSS).on(s+" keyup",function(){var t=e(this),s=t.find("option:selected").text();setTimeout(function(){t.prev().text(s?a.text?a.text(s):s:a.emptyVal)[t.val()?"removeClass":"addClass"]("selecty-empty")},0)}).trigger(s).parent().css(a.wrapperCSS).on("focusin focusout","select",function(t){e(this).parent().toggleClass(a.focusClass,"focusin"===t.type)}).toArray());c.each(function(){var s=e(this),a=s.data(t);a&&(s.removeData(t).css("opacity","").parent().after(s).remove(),e.each(a.selectCSS||{},function(e){s.css(e,"")}))})}return c},o=a.defaults={wrapper:'<span class="selecty"/>',button:'<span class="selecty-button"/>',focusClass:"focused",emptyVal:"     ",wrapperCSS:{position:"relative"},selectCSS:{position:"absolute",bottom:0,left:0}}}(jQuery);