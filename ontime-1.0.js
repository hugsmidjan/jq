// encoding: utf-8
// $.fn.ontime 1.0  -- (c) 2009 Hugsmi√∞jan ehf. 
(function(j,k,o){var v={h:3600000,m:60000,s:1000,ms:1},r=function(){},C=j.beget||function(c,b){r.prototype=c;return b?j.extend(new r,b):new r},l=k+'.',s=k+'end.',w=k,p=function(c){var b=c;if(c&&typeof c!='number'){if(c.getTime){b=c.getTime()-(new Date()).getTime()}else{c=(c+'').replace(/ /g,'').toLowerCase();var h;if(h=c.match(/^(\d\d?):(\d\d)(:(\d\d))?$/)){var m=new Date();m.setHours(h[1]);m.setMinutes(h[2]);m.setSeconds(h[4]||0);b=m.getTime()-(new Date()).getTime();b+=b<0?24*v.h:0}else if(/\d/.test(c)){if(/[msh]/.test(c)){b=0;var d=/([0-9.]+)([msh]s?)\D*/g;while(h=d.exec(c)){b+=Math.round(parseFloat(h[1])*(v[h[2]]||0))}}else{b=parseInt(c,10)}}}}return(typeof b=='number'&&b>=0)?b:o};j[k]=function(){var c=j(document);return c[k].apply(c,arguments)};j[k].parse=p;j.fn[k]=function(){if(this.length){var x=arguments,e={};i=x.length;while(i--){var t=x[i],y=j.isFunction(t)?'f':(typeof t).substr(0,1),D=e[y]||(e[y]=[]);D.unshift(t)}if(e.s&&/^(cancel|end|pause|resume)$/.test(e.s[0])){var q=e.s[0],f=e.s[1]||w,z=(new Date()).getTime(),A=q=='end';this.each(function(){var c=j(this),b=c.data(l+f+'-data');if(b){var h=b.length,m,d;while(d=b[--h]){m=d._8?'Interval':'Timeout';if(q=='resume'){d._1=window['set'+m](d._3,d._4-d._5);if(d._2){d._0=setTimeout(d._2,d._9-d._6)}}else{window['clear'+m](d._1);if(d._0){clearTimeout(d._0);d._0=o}}if(q=='pause'){d._5=z-d._7;d._6=z-d._a}}if(q=='cancel'||A){b.length=0;A&&c.trigger(s+f,c.data(l+f));c.removeData(l+f);if(!e.b||!e.b[0]){c.unbind(l+f);c.unbind(s+f)}}}})}else{var a=(e.o&&e.o[0])||{},B=e.f&&e.f[0];if(e.s){a.label=e.s[e.s.length-1]}if(e.n){a.interval=e.n[0];if(e.n.length>1){a.reps=e.n[1]}}a=j.extend({label:w,reps:0,unbind:1},a);a.interval=p(a.interval);a.start=p(a.start);a.stop=p(a.stop);if(a.interval==o){a.interval=10;if(a.start){a.interval=a.start;a.reps=a.reps||1}}if(a.start==o){a.start=a.interval}var f=a.label;this.each(function(){var b=j(this),h=b.data(l+f+'-data'),m=0,d=!!h,n=a.collide;if(!h){h=[];b.data(l+f+'-data',h)}if(d){if(!n||n=='replace'){b[k]('cancel',f)}else if(n=='yield'){return}}a.fn&&b.bind(l+f,a.fn);a.end&&b.bind(s+f,a.end);B&&b.bind(l+f,B);if(d&&n){if(n=='yieldtimer'){return}else if(n=='updatetimer'){b[k]('cancel',f,true)}}var g={},u=function(){g._7=(new Date()).getTime();var c=j.Event(l+f);!a.bubble&&c.stopPropagation();b.trigger(c,[m,b.data(l+f)]);if(c.isDefaultPrevented()||(a.reps!==0&&++m>=a.reps)){b[k]('end',f,!a.unbind)}},E=g._3=function(){g._3=u;g._8=1;g._4=a.interval;g._1=setInterval(u,a.interval);u()};g._4=a.start;g._1=setTimeout(E,a.start);g._a=g._7=(new Date()).getTime();g._6=g._5=0;if(a.stop){g._9=a.stop;g._2=function(){b[k]('end',f,!a.unbind)};g._0=setTimeout(g._2,a.stop)}h.push(g);b.data(l+f,C(a))})}}return this}})(jQuery,'ontime');
