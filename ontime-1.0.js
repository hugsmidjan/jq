// encoding: utf-8
// $.fn.ontime 1.0  -- (c) 2009 Hugsmi√∞jan ehf. 
(function(k,l,o){var v={h:3600000,m:60000,s:1000,ms:1},r=function(){},D=k.beget||function(b,e){r.prototype=b;return e?k.extend(new r,e):new r},m=l+'.',s=l+'end.',w=l,p=function(b){var e=b;if(b&&typeof b!='number'){if(b.getTime){e=b.getTime()-(new Date()).getTime()}else{b=(b+'').replace(/ /g,'').toLowerCase();var d;if(d=b.match(/^(\d\d?):(\d\d)(:(\d\d))?$/)){var j=new Date();j.setHours(d[1]);j.setMinutes(d[2]);j.setSeconds(d[4]||0);e=j.getTime()-(new Date()).getTime();e+=e<0?24*v.h:0}else if(/\d/.test(b)){if(/[msh]/.test(b)){e=0;var c=/([0-9.]+)([msh]s?)\D*/g;while(d=c.exec(b)){e+=Math.round(parseFloat(d[1])*(v[d[2]]||0))}}else{e=parseInt(b,10)}}}}return(typeof e=='number'&&e>=0)?e:o};k[l]=function(){var b=k(document);return b[l].apply(b,arguments)};k[l].parse=p;k.fn[l]=function(){if(this.length){var x=arguments,f={};i=x.length;while(i--){var t=x[i],y=k.isFunction(t)?'f':(typeof t).substr(0,1),E=f[y]||(f[y]=[]);E.unshift(t)}if(f.s&&/^(cancel|end|pause|resume)$/.test(f.s[0])){var q=f.s[0],g=f.s[1]||w,z=(new Date()).getTime(),A=q=='end';this.each(function(){var b=k(this),e=b.data(m+g+'-data');if(e){var d=e.length,j,c;while(c=e[--d]){j=c._8?'Interval':'Timeout';if(q=='resume'){c._1=window['set'+j](c._3,c._4-c._5);if(c._2){c._0=setTimeout(c._2,c._9-c._6)}}else{window['clear'+j](c._1);if(c._0){clearTimeout(c._0);c._0=o}}if(q=='pause'){c._5=z-c._7;c._6=z-c._a}}if(q=='cancel'||A){e.length=0;A&&b.trigger(s+g,b.data(m+g));b.removeData(m+g);if(!f.b||!f.b[0]){b.unbind(m+g);b.unbind(s+g)}}}})}else{var a=(f.o&&f.o[0])||{},B=f.f&&f.f[0];if(f.s){a.label=f.s[f.s.length-1]}if(f.n){a.interval=f.n[0];if(f.n.length>1){a.reps=f.n[1]}}a=k.extend({label:w,reps:0,unbind:1},a);a.interval=p(a.interval);a.start=p(a.start);a.stop=p(a.stop);if(a.interval==o){a.interval=10;if(a.start){a.interval=a.start;a.reps=a.reps||1}}if(a.start==o){a.start=a.interval}var g=a.label;this.each(function(){var d=k(this),j=d.data(m+g+'-data'),c=0,C=!!j,n=a.collide;if(!j){j=[];d.data(m+g+'-data',j)}if(C){if(!n||n=='replace'){d[l]('cancel',g)}else if(n=='yield'){return}}a.fn&&d.bind(m+g,a.fn);a.end&&d.bind(s+g,a.end);B&&d.bind(m+g,B);if(C&&n){if(n=='yieldtimer'){return}else if(n=='updatetimer'){d[l]('cancel',g,true)}}var h={},u=function(){h._7=(new Date()).getTime();var e=k.Event(m+g);if(!a.bubble){d.one(e.type,function(b){b.stopPropagation()})}d.trigger(e,[c,d.data(m+g)]);if(e.isDefaultPrevented()||(a.reps!==0&&++c>=a.reps)){d[l]('end',g,!a.unbind)}},F=h._3=function(){h._3=u;h._8=1;h._4=a.interval;h._1=setInterval(u,a.interval);u()};h._4=a.start;h._1=setTimeout(F,a.start);h._a=h._7=(new Date()).getTime();h._6=h._5=0;if(a.stop){h._9=a.stop;h._2=function(){d[l]('end',g,!a.unbind)};h._0=setTimeout(h._2,a.stop)}j.push(h);d.data(m+g,D(a))})}}return this}})(jQuery,'ontime');
