/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t,n=e.jQuery,r=n(e),o=n(document),i=n("html"),a=function(t){!e.FormatChange&&r.trigger(t,[n.formatChange.media])};n.initMobileMenu=function(e){e=n.extend({stickyHeader:!0,startOpen:!1,mediaGroup:"Small",name:"menu",evPrefix:"mobile",menuButton:".skiplink a"},e);var s=e.mediaGroup,l="function"==typeof s?s:function(e,t){return!s||e[t+s]},c="formatchange."+e.evPrefix+e.name,u=e.startOpen,d="is-"+e.name,f=d+"-closed",m=d+"-open",g=d+"-active",p=e.evPrefix+e.name,v=!1;return r.on(c,function(a,d){if(!v&&l(d,"became")){v=!v;var h;i.addClass(e.startOpen?m:f),n(e.menuButton).on("click.toggleMenu",function(e){var a=this;e.preventDefault(),u?(t=null,o.trigger(p+"close"),i.removeClass(m).addClass(f),r.scrollTop(h),a.blur(),o.trigger(p+"closed")):(t&&n(t).trigger("click.toggleMenu"),t=a,o.trigger(p+"open"),h=r.scrollTop()||1,i.addClass(m).removeClass(f),n(n(a).attr("href")).focusHere(),r.scrollTop(1),o.trigger(p+"opened")),u=!u}),!s&&r.off(c),i.addClass(g)}else v&&l(d,"left")&&(v=!v,u&&(t=null,o.trigger(p+"close"),u=!1,o.trigger(p+"closed")),n(e.menuButton).off("click.toggleMenu"),i.removeClass(g+" "+m+" "+f))}),a(c),e.stickyHeader&&n.initStickyHeader(n.extend({},e,{name:"header"})),n},n.initStickyHeader=function(o){o=n.extend({name:"header",upLimit:70,downLimit:50,mediaGroup:"Small",headerHeight:function(){return parseInt(i.css("padding-top"),10)}},o);var s=o.mediaGroup,l="function"==typeof s?s:function(e,t){return!s||e[t+s]},c="formatchange.stickyheader",u="scroll.stickyheader",d="is-"+o.name,f=d+"-fixed",m=d+"-hidden",g=d+"-shown",p=!1;return r.on(c,function(a,d){if(!p&&l(d,"became")){p=!p;var v,h=0,C=o.headerHeight(),k="pageXOffset"in e,y=!1,x=!1;r.on(u,n.throttleFn(function(){if(!t){var n=k?e.pageYOffset:document.documentElement.scrollTop,r=n>C;if(v&&clearTimeout(v),r!==y&&(y=r,h=n,i.toggleClass(f+" "+m,y),y||(i.removeClass(g),x=!1)),y){var a,s=n-h;(a=s>o.downLimit)?x&&(i.removeClass(g).addClass(m),x=!1):(a=s<-o.upLimit)&&(x||(i.removeClass(m).addClass(g),x=!0)),a?h=n:v=setTimeout(function(){h=n},1e3)}}},!0,50)).trigger(u),!s&&r.off(c)}else p&&l(d,"left")&&(p=!p,r.off(u),i.removeClass(f+" "+g))}),a(c),n}}(window);
