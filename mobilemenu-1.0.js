/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t,n=e(window),r=e(document),i=e("html"),o=!window.FormatChange;e.initMobileMenu=function(a){a=e.extend({stickyHeader:!0,startOpen:!1,mediaGroup:"Small",name:"menu",evPrefix:"mobile",menuButton:".skiplink a"},a);var l="function"==typeof a.mediaGroup?a.mediaGroup:function(e,t){return!a.mediaGroup||e[t+a.mediaGroup]},s="formatchange."+a.evPrefix+a.name,d=a.startOpen,u="is-"+a.name,m=u+"-closed",c=u+"-open",f=u+"-active",g=a.evPrefix+a.name;return n.on(s,function(o,u){if(l(u,"became")){var f;i.addClass(a.startOpen?c:m),e(a.menuButton).on("click.toggleMenu",function(o){var a=this;if(o.preventDefault(),d)t=null,r.trigger(g+"close"),i.removeClass(c),i.addClass(m),n.scrollTop(f),a.blur(),r.trigger(g+"closed");else{t&&e(t).trigger("click.toggleMenu"),t=a,r.trigger(g+"open"),f=n.scrollTop()||1,i.addClass(c),i.removeClass(m);var l=e(e(a).attr("href"));l.focusHere(),n.scrollTop(1),r.trigger(g+"opened")}d=!d}),!u&&n.off(s)}else l(u,"left")&&(d&&(t=null,r.trigger(g+"close"),d=!1,i.removeClass(c+" "+m),r.trigger(g+"closed")),e(a.menuButton).off("click.toggleMenu"))}),o&&n.trigger(s,[e.formatChange.media]),i.addClass(f),a.stickyHeader&&e.initStickyHeader(e.extend({},a,{name:"header"})),e},e.initStickyHeader=function(r){r=e.extend({name:"header",upLimit:70,downLimit:50,mediaGroup:"Small",headerHeight:function(){return parseInt(i.css("padding-top"),10)}},r);var a="function"==typeof r.mediaGroup?r.mediaGroup:function(e,t){return!r.mediaGroup||e[t+r.mediaGroup]},l="formatchange.stickyheader",s="scroll.stickyheader",d="is-"+r.name,u=d+"-fixed",m=d+"-shown";return n.on(l,function(o,d){if(a(d,"became")){var c,f=0,g=r.headerHeight(),p="pageXOffset"in window,v=!1,h=!1;n.on(s,e.throttleFn(function(){if(!t){var e=p?window.pageYOffset:window.document.documentElement.scrollTop,n=e>g;if(c&&clearTimeout(c),n!==v&&(i.toggleClass(u,n),v&&(i.removeClass(m),h=!1),f=e,v=n),v){var o,a=e-f;(o=a>r.downLimit)?h&&(i.removeClass(m),h=!1):(o=a<-r.upLimit)&&(h||(i.addClass(m),h=!0)),o?f=e:c=setTimeout(function(){f=e},1e3)}}},!0,50)).trigger(s),!d&&n.off(l)}else a(d,"left")&&(n.off(s),i.removeClass(u+" "+m))}),o&&n.trigger(l,[e.formatChange.media]),e}}(jQuery);
