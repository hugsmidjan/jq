/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014 HugsmiÃ°jan ehf.  @preserve */
!function(e){var n,t=e.jQuery,r=t(e),o=t(document),i=t("html"),a=function(n){!e.FormatChange&&r.trigger(n,[t.formatChange.media])};t.initMobileMenu=function(e){e=t.extend({stickyHeader:!0,startOpen:!1,mediaGroup:"Small",name:"menu",evPrefix:"mobile",menuButton:".skiplink a"},e);var s=e.mediaGroup,l="function"==typeof s?s:function(e,n){return!s||e[n+s]},u="formatchange."+e.evPrefix+e.name,c=e.startOpen,d="is-"+e.name,f=d+"-closed",m=d+"-open",g=d+"-active",p=e.evPrefix+e.name,v=!1;return r.on(u,function(a,d){if(!v&&l(d,"became")){v=!v;var h;i.addClass(e.startOpen?m:f),t(e.menuButton).on("click.toggleMenu",function(e){var a=this;e.preventDefault(),c?(n=null,o.trigger(p+"close"),i.removeClass(m).addClass(f),r.scrollTop(h),a.blur(),o.trigger(p+"closed")):(n&&t(n).trigger("click.toggleMenu"),n=a,o.trigger(p+"open"),h=r.scrollTop()||1,i.addClass(m).removeClass(f),t(t(a).attr("href")).focusHere(),r.scrollTop(1),o.trigger(p+"opened")),c=!c}),!s&&r.off(u),i.addClass(g)}else v&&l(d,"left")&&(v=!v,c&&(n=null,o.trigger(p+"close"),c=!1,o.trigger(p+"closed")),t(e.menuButton).off("click.toggleMenu"),i.removeClass(g+" "+m+" "+f))}),a(u),e.stickyHeader&&t.initStickyHeader(t.extend({},e,{name:"header"})),t},t.initStickyHeader=function(o){o=t.extend({name:"header",upLimit:70,downLimit:50,mediaGroup:"Small",headerHeight:function(){return parseInt(i.css("padding-top"),10)},delay:50},o);var s=o.mediaGroup,l="function"==typeof s?s:function(e,n){return!s||e[n+s]},u=".sticky-"+name,c="formatchange"+u,d="scroll"+u,f=d+(o.onresize?" resize"+u:""),m="is-"+o.name,g=m+"-fixed",p=m+"-hidden",v=m+"-shown",h=!1;return r.on(c,function(a,u){if(!h&&l(u,"became")){h=!h;var m,C=0,k="pageXOffset"in e,y=!1,x=!1;r.on(f,t.throttleFn(function(){if(!n){var t=k?e.pageYOffset:document.documentElement.scrollTop,r=t>o.headerHeight();if(m&&clearTimeout(m),r!==y&&(y=r,C=t,i.toggleClass(g+" "+p,y),y||(i.removeClass(v),x=!1)),y){var a,s=t-C;(a=s>o.downLimit)?x&&(i.removeClass(v).addClass(p),x=!1):(a=s<-o.upLimit)&&(x||(i.removeClass(p).addClass(v),x=!0)),a?C=t:m=setTimeout(function(){C=t},1e3)}}},!0,o.delay)).trigger(d),!s&&r.off(c)}else h&&l(u,"left")&&(h=!h,r.off(f),i.removeClass(g+" "+v))}),a(c),t}}(window);
