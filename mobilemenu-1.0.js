/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t,n=e.jQuery,o=n(e),r=function(t){!e.FormatChange&&o.trigger(t,[n.formatChange.media])};n.initMobileMenu=function(i){i=i===!0?{minimal:!0}:i,i=n.extend({menuButton:".skiplink a",resetScroll:!0},i);var a,l,s,c,u,m,d,f,p=i.name||"menu",g=(i.evPrefix||"mobile")+p,h=".toggle-"+g,v="is-"+p,C=v+"-closed",y=v+"-open",S=v+"-active",k=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},H={start:function(){a||(c||(c=n(i.container||"html"),u=k()&&n(i.scrollElm||e),s=n(i.evTarget||document),i.menuButton&&(m=n(i.menuButton),d=n.focusHere&&m&&m.attr("href"),d=d&&n(d))),a=!0,l=i.startOpen,c.addClass(l?y:C).addClass(S),m&&m.on("click"+h,function(e){e.preventDefault(),l?H.close():H.open()}))},open:function(){a&&!l&&(s.trigger(g+"open"),f=k()&&u.scrollTop(),c.addClass(y).removeClass(C),d&&d.focusHere(),k()&&u.scrollTop(0),l=!0,s.trigger(g+"opened"))},close:function(e){a&&l&&(t=null,s.trigger(g+"close"),c.removeClass(y).addClass(C),e||(k()&&u.scrollTop(f),m&&m[0].blur()),l=!1,s.trigger(g+"closed"))},stop:function(){a&&(H.close(!0),m.off("click"+h),c.removeClass(S+" "+C),a=!1)}};if(!i.minimal){i.container="html",i.scrollElm=e,i.evTarget=document;var w="formatchange"+h,L="mediaGroup"in i?i.mediaGroup:"Small",T="function"==typeof L?L:function(e,t){return!L||e[t+L]};return o.on(w,function(e,n){!a&&T(n,"became")?(H.start(),s.on(g+"open"+h,function(){t&&t.close(),t=H}).on(g+"closed"+h,function(){t=null}),!L&&o.off(w)):a&&T(n,"left")&&(H.stop(),s.off(h))}),r(w),i.stickyHeader!==!1&&(H.stickyHeaderWidget=n.initStickyHeader(n.extend({},i,{name:"header"}))),n}return i.autoStart&&H.start(),H},n.initStickyHeader=function(i){i=i===!0?{minimal:!0}:i,i=n.extend({delay:50,recede:!0,upLimit:70,downLimit:50},i);var a,l,s=i.name||"header",c=".sticky-"+s,u="scroll"+c,m=u+(i.onresize?" resize"+c:""),d="is-"+s,f=d+"-fixed",p=d+"-hidden",g=d+"-shown",h=!1,v={upLimit:i.upLimit,downLimit:i.downLimit,recede:i.recede.apply?i.recede:function(){return i.recede},headerHeight:i.headerHeight||function(){return parseInt(a.css("padding-top"),10)},start:function(){if(!h){h=!0;var o,r=0,s="pageXOffset"in e,c=!1,d=!1,C=i.delay,y=function(){if(!t){var n=s?e.pageYOffset:document.documentElement.scrollTop,i=v.distY=n-v.headerHeight(),l=i>0;if(o&&clearTimeout(o),l!==c&&(c=l,r=n,a.toggleClass(f+" "+p,c),c||(a.removeClass(g),d=!1)),v.recede()&&c){var u,m=n-r;(u=m>v.downLimit)?d&&(a.removeClass(g).addClass(p),d=!1):(u=m<-v.upLimit)&&(d||(a.removeClass(p).addClass(g),d=!0)),u?r=n:o=setTimeout(function(){r=n},1e3)}v.isFixed=l,v.isShown=d}};a=a||n(i.container||"html"),l=l||n(i.scrollElm||e),l.on(m,C&&n.throttleFn?n.throttleFn(y,!0,C):y).trigger(u)}},stop:function(){h&&(h=!1,l.off(m),a.removeClass(f+" "+g+" "+p))}};if(!i.minimal){i.container="html",i.scrollElm=e;var C="formatchange"+c,y="mediaGroup"in i?i.mediaGroup:"Small",S="function"==typeof y?y:function(e,t){return!y||e[t+y]};return o.on(C,function(e,t){!h&&S(t,"became")?(v.start(),!y&&o.off(C)):h&&S(t,"left")&&v.stop()}),r(C),n}return i.autoStart&&v.start(),v}}(window);
