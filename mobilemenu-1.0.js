/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014-2016 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t=e.jQuery,n=t(e),o=function(o){!e.FormatChange&&n.trigger(o,[t.formatChange.media])};t.initMobileMenu=function(i){i=i===!0?{minimal:!0}:i,i=t.extend({menuButton:".skiplink a",resetScroll:!0},i);var r,c,u,a,l,m,d,f,s=i.name||"menu",p=(i.evPrefix||"mobile")+s,g=".toggle-"+p,v="is-"+s,h=v+"-closed",y=v+"-open",S=v+"-active",L=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},b={start:function(){r||(a||(a=(t(i.container)[0]||document.documentElement).classList,l=L()&&t(i.scrollElm||e),u=t(i.evTarget||document),i.menuButton&&(m=t(i.menuButton),d=t.focusHere&&m&&m.attr("href"),d=d&&t(d))),r=!0,c=i.startOpen,a.add(S,c?y:h),m&&m.on("click"+g,function(e){e.preventDefault(),c?b.close():b.open()}))},open:function(){r&&!c&&(u.trigger(p+"open"),f=L()&&l.scrollTop(),a.add(y),a.remove(h),d&&d.focusHere(),L()&&l.scrollTop(0),c=!0,u.trigger(p+"opened"))},close:function(e){r&&c&&(u.trigger(p+"close"),a.remove(y),a.add(h),e||(L()&&l.scrollTop(f),m&&m[0].blur()),c=!1,u.trigger(p+"closed"))},stop:function(){r&&(b.close(!0),m.off("click"+g),a.remove(S,h),r=!1)}};if(!i.minimal){i.container="html",i.scrollElm=e,i.evTarget=document;var k,H="formatchange"+g,T="mediaGroup"in i?i.mediaGroup:"Small",w="function"==typeof T?T:function(e,t){return!T||e[t+T]};return n.on(H,function(e,t){!r&&w(t,"became")?(b.start(),u.on(p+"open"+g,function(){k&&k.close(),k=b}).on(p+"closed"+g,function(){k=null}),!T&&n.off(H)):r&&w(t,"left")&&(b.stop(),u.off(g))}),o(H),i.stickyHeader!==!1&&(b.stickyHeaderWidget=t.initStickyHeader(t.extend({},i,{name:"header"}))),t}return i.autoStart&&b.start(),b},t.initStickyHeader=function(i){i=i===!0?{minimal:!0}:i,i=t.extend({delay:50,recede:!0,upLimit:70,downLimit:50},i);var r,c,u,a=i.name||"header",l=".sticky-"+a,m="scroll"+l,d=m+(i.onresize?" resize"+l:""),f="is-"+a,s=f+"-fixed",p=f+"-hidden",g=f+"-shown",v=!1,h=!1,y={upLimit:i.upLimit,downLimit:i.downLimit,recede:i.recede.apply?i.recede:function(){return i.recede},headerHeight:i.headerHeight||function(){return parseInt(getComputedStyle(r).paddingTop,10)},start:function(){if(!v){v=!0;var n,o=0,a="pageXOffset"in e,l=!1,f=!1,S=i.delay,L=function(){if(!h){var t=a?e.pageYOffset:document.documentElement.scrollTop,i=y.distY=t-y.headerHeight(),r=i>0;if(n&&clearTimeout(n),r!==l&&(l=r,o=t,c[l?"add":"remove"](s,p),l||(c.remove(g),f=!1)),y.recede()&&l){var u,m=t-o;(u=m>y.downLimit)?f&&(c.remove(g),c.add(p),f=!1):(u=m<-y.upLimit)&&(f||(c.remove(p),c.add(g),f=!0)),u?o=t:n=setTimeout(function(){o=t},1e3)}y.isFixed=r,y.isShown=f}};r=r||t(i.container)[0]||document.documentElement,c=r.classList,u=u||t(i.scrollElm||e),u.on(d,S&&t.throttleFn?t.throttleFn(L,!0,S):L).trigger(m)}},stop:function(){v&&(v=!1,u.off(d),c.remove(s,g,p))},pause:function(){h=!0},resume:function(){h=!1}};if(!i.minimal){i.container="html",i.scrollElm=e;var S="formatchange"+l,L="mediaGroup"in i?i.mediaGroup:"Small",b="function"==typeof L?L:function(e,t){return!L||e[t+L]};return n.on(S,function(e,o){!v&&b(o,"became")?(y.start(),t(document).on("mobilemenuopen",function(){y.pause()}).on("mobilemenuclosed",function(){y.resume()}),!L&&n.off(S)):v&&b(o,"left")&&(y.stop(),t(document).off("mobilemenuopen mobilemenuclosed"))}),o(S),t}return i.autoStart&&y.start(),y}}(window);
