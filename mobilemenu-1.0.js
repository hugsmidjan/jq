/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014-2016 HugsmiÃ°jan ehf.  @preserve */
!function(e){var n=e.jQuery,t=n(e),o=function(o){!e.FormatChange&&t.trigger(o,[(n.formatChange||{}).media])};n.initMobileMenu=function(r){var i={menuButton:".skiplink a",resetScroll:!0};r=r===!0?{minimal:!0}:r;for(var a in r)val=r[a],void 0!==val&&(i[a]=val);var c,u,l,m,f,d,s,p,v=i.name||"menu",g=(i.evPrefix||"mobile")+v,h=".toggle-"+g,y="is-"+v,S=y+"-closed",b=y+"-open",x=y+"-active",H=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},L={start:function(){c||(m||(m=(n(i.container)[0]||document.documentElement).classList,f=H()&&n(i.scrollElm||e),l=n(i.evTarget||document),i.menuButton&&(d=n(i.menuButton),s=i.setFocus&&n.focusHere&&d&&d.attr("href"),s=s&&n(s))),c=!0,u=i.startOpen,m.add(x),m.add(u?b:S),d&&d.on("click"+h,function(e){e.preventDefault(),u?L.close():L.open()}))},open:function(){c&&!u&&(l.trigger(g+"open"),p=H()&&f.scrollTop(),m.add(b),m.remove(S),s&&setTimeout(function(){s.focusHere()},i.focusDelay||0),H()&&f.scrollTop(0),u=!0,l.trigger(g+"opened"))},close:function(e){c&&u&&(l.trigger(g+"close"),m.remove(b),m.add(S),e||(H()&&f.scrollTop(p),d&&d[0].blur()),u=!1,l.trigger(g+"closed"))},stop:function(){c&&(L.close(!0),d.off("click"+h),m.remove(x),m.remove(S),c=!1)}};if(i.minimal)i.autoStart&&L.start();else{i.container="html",i.scrollElm=e,i.evTarget=document;var T,k="formatchange"+h,w="mediaGroup"in i?i.mediaGroup:"Small",E="function"==typeof w?w:function(e,n){return!w||e[n+w]};t.on(k,function(e,n){!c&&E(n,"became")?(L.start(),l.on(g+"open"+h,function(){T&&T.close(),T=L}).on(g+"closed"+h,function(){T=null}),!w&&t.off(k)):c&&E(n,"left")&&(L.stop(),l.off(h))}),o(k),i.stickyHeader!==!1&&(L.stickyHeaderWidget=n.initStickyHeader(n.extend({},i,{name:"header"})))}return L};var r=function(e,n){return"string"==typeof e?(n||document).querySelector(e):e};n.initStickyHeader=function(i){var a={delay:50,recede:!0,upLimit:70,downLimit:50};i=i===!0?{minimal:!0}:i;for(var c in i)val=i[c],void 0!==val&&(a[c]=val);var u,l,m,f,d,s=a.name||"header",p="is-"+s,v=p+"-unfixed",g=p+"-fixed",h=p+"-hidden",y=p+"-shown",S=!1,b=!1,x=a.headerHeight;x="headerHeight"in a?"number"==typeof x?function(){return a.headerHeight}:x:function(){return parseInt(getComputedStyle(u).paddingTop,10)};var H=a.unfixAt;H="unfixAt"in a?"number"==typeof H?function(){return a.unfixAt}:H:x;var L={upLimit:a.upLimit,downLimit:a.downLimit,recede:a.recede.apply?a.recede:function(){return a.recede},headerHeight:x,unfixAt:H,start:function(){if(!S){u=r(a.container)||document.documentElement,l=u.classList,m=r(a.scrollElm)||e,S=!0;var t=!m.tagName,o=t&&"pageXOffset"in m,i=t?m.document.documentElement:m;f=a.onresize,f=1===f||f,f===!0&&(f=t?m:e);var c,s=0,p=!1,T=!1,k=function(){if(!b){var e=o?m.pageYOffset:i.scrollTop;L.distY=e;var n=e>(p?H():x());if(clearTimeout(c),n!==p&&(p=n,s=e,l[p?"add":"remove"](g),l[p?"remove":"add"](v),p||(l.remove(y),l.remove(h),T=!1)),p&&L.recede()){var t,r=e-s;(t=r>L.downLimit)?T&&(l.remove(y),l.add(h),T=!1):(t=r<-L.upLimit)&&(T||(l.remove(h),l.add(y),T=!0)),t?s=e:c=setTimeout(function(){s=e},1e3)}L.isFixed=p,L.isShown=T}};a.delay&&n.throttleFn&&(k=n.throttleFn(k,!0,a.delay)),n(m).on("scroll",k),f&&("number"==typeof f?d=setInterval(k,f):n(f).on("resize",k)),k(),!L.isFixed&&l.add(v)}},stop:function(){S&&(S=!1,n(m).off("scroll"),f&&(clearInterval(d),n(f).off("resize")),l.remove(g),l.remove(y),l.remove(h))},pause:function(){b=!0},resume:function(){b=!1}};if(a.minimal)a.autoStart&&L.start();else{a.container="html",a.scrollElm=e;var T="formatchange.sticky-"+s,k="mediaGroup"in a?a.mediaGroup:"Small",w="function"==typeof k?k:function(e,n){return!k||e[n+k]};t.on(T,function(e,o){!S&&w(o,"became")?(L.start(),n(document).on("mobilemenuopen",function(){L.pause()}).on("mobilemenuclosed",function(){L.resume()}),!k&&t.off(T)):S&&w(o,"left")&&(L.stop(),n(document).off("mobilemenuopen mobilemenuclosed"))}),o(T)}return L}}(window);
