/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014-2016 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t=e.jQuery,n=t(e),o=function(o){!e.FormatChange&&n.trigger(o,[(t.formatChange||{}).media])};t.initMobileMenu=function(i){i=i===!0?{minimal:!0}:i,i=t.extend({menuButton:".skiplink a",resetScroll:!0},i);var r,c,a,l,m,u,d,s,f=i.name||"menu",p=(i.evPrefix||"mobile")+f,g=".toggle-"+p,v="is-"+f,h=v+"-closed",y=v+"-open",S=v+"-active",L=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},b={start:function(){r||(l||(l=(t(i.container)[0]||document.documentElement).classList,m=L()&&t(i.scrollElm||e),a=t(i.evTarget||document),i.menuButton&&(u=t(i.menuButton),d=t.focusHere&&u&&u.attr("href"),d=d&&t(d))),r=!0,c=i.startOpen,l.add(S),l.add(c?y:h),u&&u.on("click"+g,function(e){e.preventDefault(),c?b.close():b.open()}))},open:function(){r&&!c&&(a.trigger(p+"open"),s=L()&&m.scrollTop(),l.add(y),l.remove(h),d&&d.focusHere(),L()&&m.scrollTop(0),c=!0,a.trigger(p+"opened"))},close:function(e){r&&c&&(a.trigger(p+"close"),l.remove(y),l.add(h),e||(L()&&m.scrollTop(s),u&&u[0].blur()),c=!1,a.trigger(p+"closed"))},stop:function(){r&&(b.close(!0),u.off("click"+g),l.remove(S),l.remove(h),r=!1)}};if(i.minimal)i.autoStart&&b.start();else{i.container="html",i.scrollElm=e,i.evTarget=document;var k,H="formatchange"+g,T="mediaGroup"in i?i.mediaGroup:"Small",w="function"==typeof T?T:function(e,t){return!T||e[t+T]};n.on(H,function(e,t){!r&&w(t,"became")?(b.start(),a.on(p+"open"+g,function(){k&&k.close(),k=b}).on(p+"closed"+g,function(){k=null}),!T&&n.off(H)):r&&w(t,"left")&&(b.stop(),a.off(g))}),o(H),i.stickyHeader!==!1&&(b.stickyHeaderWidget=t.initStickyHeader(t.extend({},i,{name:"header"})))}return b},t.initStickyHeader=function(i){i=i===!0?{minimal:!0}:i,i=t.extend({delay:50,recede:!0,upLimit:70,downLimit:50},i);var r,c,a,l=i.name||"header",m=".sticky-"+l,u="scroll"+m,d=u+(i.onresize?" resize"+m:""),s="is-"+l,f=s+"-fixed",p=s+"-hidden",g=s+"-shown",v=!1,h=!1,y={upLimit:i.upLimit,downLimit:i.downLimit,recede:i.recede.apply?i.recede:function(){return i.recede},headerHeight:i.headerHeight||function(){return parseInt(getComputedStyle(r).paddingTop,10)},start:function(){if(!v){v=!0;var n,o=0,l="pageXOffset"in e,m=!1,s=!1,S=i.delay,L=function(){if(!h){var t=l?e.pageYOffset:document.documentElement.scrollTop;y.distY=t;var i=t>(m?0:y.headerHeight());if(clearTimeout(n),i!==m&&(m=i,o=t,c[m?"add":"remove"](f),m||(c.remove(g),c.remove(p),s=!1)),y.recede()&&m){var r,a=t-o;(r=a>y.downLimit)?s&&(c.remove(g),c.add(p),s=!1):(r=a<-y.upLimit)&&(s||(c.remove(p),c.add(g),s=!0)),r?o=t:n=setTimeout(function(){o=t},1e3)}y.isFixed=m,y.isShown=s}};r=r||t(i.container)[0]||document.documentElement,c=r.classList,a=a||t(i.scrollElm||e),a.on(d,S&&t.throttleFn?t.throttleFn(L,!0,S):L).trigger(u)}},stop:function(){v&&(v=!1,a.off(d),c.remove(f),c.remove(g),c.remove(p))},pause:function(){h=!0},resume:function(){h=!1}};if(i.minimal)i.autoStart&&y.start();else{i.container="html",i.scrollElm=e;var S="formatchange"+m,L="mediaGroup"in i?i.mediaGroup:"Small",b="function"==typeof L?L:function(e,t){return!L||e[t+L]};n.on(S,function(e,o){!v&&b(o,"became")?(y.start(),t(document).on("mobilemenuopen",function(){y.pause()}).on("mobilemenuclosed",function(){y.resume()}),!L&&n.off(S)):v&&b(o,"left")&&(y.stop(),t(document).off("mobilemenuopen mobilemenuclosed"))}),o(S)}return y}}(window);
