/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014-2016 HugsmiÃ°jan ehf.  @preserve */
!function(e){var n=e.jQuery,t=n(e),o=function(o){!e.FormatChange&&t.trigger(o,[(n.formatChange||{}).media])};n.initMobileMenu=function(r){var i={menuButton:".skiplink a",setFocus:!0,resetScroll:!0};r=!0===r?{minimal:!0}:r;for(var a in r){var c=r[a];void 0!==c&&(i[a]=c)}var u,l,m,f,d,s,p,v,g=i.name||"menu",h=(i.evPrefix||"mobile")+g,y=".toggle-"+h,S="is-"+g,b=S+"-closed",x=S+"-open",H=S+"-active",L=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},T={start:function(){u||(f||(f=(n(i.container)[0]||document.documentElement).classList,d=L()&&n(i.scrollElm||e),m=n(i.evTarget||document),i.menuButton&&(s=n(i.menuButton),p=i.setFocus&&n.focusHere&&s&&s.attr("href"),p=p&&n(p))),u=!0,l=i.startOpen,f.add(H),f.add(l?x:b),s&&s.on("click"+y,function(e){e.preventDefault(),l?T.close():T.open()}))},open:function(){u&&!l&&(m.trigger(h+"open"),v=L()&&d.scrollTop(),f.add(x),f.remove(b),p&&setTimeout(function(){p.focusHere()},i.focusDelay||0),L()&&d.scrollTop(0),l=!0,m.trigger(h+"opened"))},close:function(e){u&&l&&(m.trigger(h+"close"),f.remove(x),f.add(b),e||(L()&&d.scrollTop(v),s&&s[0].blur()),l=!1,m.trigger(h+"closed"))},stop:function(){u&&(T.close(!0),s.off("click"+y),f.remove(H),f.remove(b),u=!1)}};if(i.minimal)i.autoStart&&T.start();else{i.container="html",i.scrollElm=e,i.evTarget=document;var k,w="formatchange"+y,E="mediaGroup"in i?i.mediaGroup:"Small",F="function"==typeof E?E:function(e,n){return!E||e[n+E]};t.on(w,function(e,n){!u&&F(n,"became")?(T.start(),m.on(h+"open"+y,function(){k&&k.close(),k=T}).on(h+"closed"+y,function(){k=null}),!E&&t.off(w)):u&&F(n,"left")&&(T.stop(),m.off(y))}),o(w),!1!==i.stickyHeader&&(T.stickyHeaderWidget=n.initStickyHeader(n.extend({},i,{name:"header"})))}return T};var r=function(e,n){return"string"==typeof e?(n||document).querySelector(e):e};n.initStickyHeader=function(i){var a={delay:50,recede:!0,upLimit:70,downLimit:50};i=!0===i?{minimal:!0}:i;for(var c in i){var u=i[c];void 0!==u&&(a[c]=u)}var l,m,f,d,s,p=a.name||"header",v="is-"+p,g=v+"-unfixed",h=v+"-fixed",y=v+"-hidden",S=v+"-shown",b=!1,x=!1,H=a.headerHeight;H="headerHeight"in a?"number"==typeof H?function(){return a.headerHeight}:H:function(){return parseInt(getComputedStyle(l).paddingTop,10)};var L=a.unfixAt;L="unfixAt"in a?"number"==typeof L?function(){return a.unfixAt}:L:H;var T={upLimit:a.upLimit,downLimit:a.downLimit,recede:a.recede.apply?a.recede:function(){return a.recede},headerHeight:H,unfixAt:L,start:function(){if(!b){l=r(a.container)||document.documentElement,m=l.classList,f=r(a.scrollElm)||e,b=!0;var t=!f.tagName,o=t&&"pageXOffset"in f,i=t?f.document.documentElement:f;d=a.onresize,d=1===d||d,!0===d&&(d=t?f:e);var c,u=0,p=!1,v=!1,k=function(){if(!x){var e=o?f.pageYOffset:i.scrollTop;T.distY=e;var n=e>(p?L():H());if(clearTimeout(c),n!==p&&(p=n,u=e,m[p?"add":"remove"](h),m[p?"remove":"add"](g),p||(m.remove(S),m.remove(y),v=!1)),p&&T.recede()){var t,r=e-u;(t=r>T.downLimit)?v&&(m.remove(S),m.add(y),v=!1):(t=r<-T.upLimit)&&(v||(m.remove(y),m.add(S),v=!0)),t?u=e:c=setTimeout(function(){u=e},1e3)}T.isFixed=p,T.isShown=v}};a.delay&&n.throttleFn&&(k=n.throttleFn(k,!0,a.delay)),n(f).on("scroll",k),d&&("number"==typeof d?s=setInterval(k,d):n(d).on("resize",k)),k(),!T.isFixed&&m.add(g)}},stop:function(){b&&(b=!1,n(f).off("scroll"),d&&(clearInterval(s),n(d).off("resize")),m.remove(h),m.remove(S),m.remove(y))},pause:function(){x=!0},resume:function(){x=!1}};if(a.minimal)a.autoStart&&T.start();else{a.container="html",a.scrollElm=e;var k="formatchange.sticky-"+p,w="mediaGroup"in a?a.mediaGroup:"Small",E="function"==typeof w?w:function(e,n){return!w||e[n+w]};t.on(k,function(e,o){!b&&E(o,"became")?(T.start(),n(document).on("mobilemenuopen",function(){T.pause()}).on("mobilemenuclosed",function(){T.resume()}),!w&&t.off(k)):b&&E(o,"left")&&(T.stop(),n(document).off("mobilemenuopen mobilemenuclosed"))}),o(k)}return T}}(window);
