/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014-2016 HugsmiÃ°jan ehf.  @preserve */
!function(e){var n=e.jQuery,t=n(e),o=function(o){!e.FormatChange&&t.trigger(o,[(n.formatChange||{}).media])};n.initMobileMenu=function(r){var i={menuButton:".skiplink a",resetScroll:!0};r=r===!0?{minimal:!0}:r;for(var a in r)val=r[a],void 0!==val&&(i[a]=val);var c,u,l,m,f,d,s,p,v=i.name||"menu",g=(i.evPrefix||"mobile")+v,h=".toggle-"+g,y="is-"+v,S=y+"-closed",b=y+"-open",H=y+"-active",L=i.resetScroll.apply?i.resetScroll:function(){return i.resetScroll},k={start:function(){c||(m||(m=(n(i.container)[0]||document.documentElement).classList,f=L()&&n(i.scrollElm||e),l=n(i.evTarget||document),i.menuButton&&(d=n(i.menuButton),s=n.focusHere&&d&&d.attr("href"),s=s&&n(s))),c=!0,u=i.startOpen,m.add(H),m.add(u?b:S),d&&d.on("click"+h,function(e){e.preventDefault(),u?k.close():k.open()}))},open:function(){c&&!u&&(l.trigger(g+"open"),p=L()&&f.scrollTop(),m.add(b),m.remove(S),s&&s.focusHere(),L()&&f.scrollTop(0),u=!0,l.trigger(g+"opened"))},close:function(e){c&&u&&(l.trigger(g+"close"),m.remove(b),m.add(S),e||(L()&&f.scrollTop(p),d&&d[0].blur()),u=!1,l.trigger(g+"closed"))},stop:function(){c&&(k.close(!0),d.off("click"+h),m.remove(H),m.remove(S),c=!1)}};if(i.minimal)i.autoStart&&k.start();else{i.container="html",i.scrollElm=e,i.evTarget=document;var T,w="formatchange"+h,x="mediaGroup"in i?i.mediaGroup:"Small",E="function"==typeof x?x:function(e,n){return!x||e[n+x]};t.on(w,function(e,n){!c&&E(n,"became")?(k.start(),l.on(g+"open"+h,function(){T&&T.close(),T=k}).on(g+"closed"+h,function(){T=null}),!x&&t.off(w)):c&&E(n,"left")&&(k.stop(),l.off(h))}),o(w),i.stickyHeader!==!1&&(k.stickyHeaderWidget=n.initStickyHeader(n.extend({},i,{name:"header"})))}return k};var r=function(e,n){return"string"==typeof e?(n||document).querySelector(e):e};n.initStickyHeader=function(i){var a={delay:50,recede:!0,upLimit:70,downLimit:50};i=i===!0?{minimal:!0}:i;for(var c in i)val=i[c],void 0!==val&&(a[c]=val);var u,l,m,f,d,s=a.name||"header",p="is-"+s,v=p+"-fixed",g=p+"-hidden",h=p+"-shown",y=!1,S=!1,b=a.headerHeight;b="headerHeight"in a?"number"==typeof b?function(){return a.headerHeight}:b:function(){return parseInt(getComputedStyle(u).paddingTop,10)};var H=a.unfixAt;H="unfixAt"in a?"number"==typeof H?function(){return a.unfixAt}:H:b;var L={upLimit:a.upLimit,downLimit:a.downLimit,recede:a.recede.apply?a.recede:function(){return a.recede},headerHeight:b,unfixAt:H,start:function(){if(!y){u=r(a.container)||document.documentElement,l=u.classList,m=r(a.scrollElm)||e,y=!0;var t=!m.tagName,o=t&&"pageXOffset"in m,i=t?m.document.documentElement:m;f=a.onresize,f=1===f||f,f===!0&&(f=t?m:e);var c,s=0,p=!1,k=!1,T=function(){if(!S){var e=o?m.pageYOffset:i.scrollTop;L.distY=e;var n=e>(p?H():b());if(clearTimeout(c),n!==p&&(p=n,s=e,l[p?"add":"remove"](v),p||(l.remove(h),l.remove(g),k=!1)),p&&L.recede()){var t,r=e-s;(t=r>L.downLimit)?k&&(l.remove(h),l.add(g),k=!1):(t=r<-L.upLimit)&&(k||(l.remove(g),l.add(h),k=!0)),t?s=e:c=setTimeout(function(){s=e},1e3)}L.isFixed=p,L.isShown=k}};a.delay&&n.throttleFn&&(T=n.throttleFn(T,!0,a.delay)),n(m).on("scroll",T),f&&("number"==typeof f?d=setInterval(T,f):n(f).on("resize",T)),T()}},stop:function(){y&&(y=!1,n(m).off("scroll"),f&&(clearInterval(d),n(f).off("resize")),l.remove(v),l.remove(h),l.remove(g))},pause:function(){S=!0},resume:function(){S=!1}};if(a.minimal)a.autoStart&&L.start();else{a.container="html",a.scrollElm=e;var k="formatchange.sticky-"+s,T="mediaGroup"in a?a.mediaGroup:"Small",w="function"==typeof T?T:function(e,n){return!T||e[n+T]};t.on(k,function(e,o){!y&&w(o,"became")?(L.start(),n(document).on("mobilemenuopen",function(){L.pause()}).on("mobilemenuclosed",function(){L.resume()}),!T&&t.off(k)):y&&w(o,"left")&&(L.stop(),n(document).off("mobilemenuopen mobilemenuclosed"))}),o(k)}return L}}(window);
