/* jQuery MobileMenu and StickyHeader 1.0  -- (c) 2014 HugsmiÃ°jan ehf.  @preserve */
!function(e){var t,n=e.jQuery,r=n(e),o=n(document),i=n("html"),a=function(t){!e.FormatChange&&r.trigger(t,[n.formatChange.media])};n.initMobileMenu=function(e){e=n.extend({stickyHeader:!0,startOpen:!1,mediaGroup:"Small",name:"menu",evPrefix:"mobile",menuButton:".skiplink a"},e);var s=e.mediaGroup,l="function"==typeof s?s:function(e,t){return!s||e[t+s]},u="formatchange."+e.evPrefix+e.name,c=e.startOpen,d="is-"+e.name,f=d+"-closed",m=d+"-open",g=d+"-active",p=e.evPrefix+e.name,v=!1;return r.on(u,function(a,d){if(!v&&l(d,"became")){v=!v;var h;i.addClass(e.startOpen?m:f),n(e.menuButton).on("click.toggleMenu",function(e){var a=this;e.preventDefault(),c?(t=null,o.trigger(p+"close"),i.removeClass(m).addClass(f),r.scrollTop(h),a.blur(),o.trigger(p+"closed")):(t&&n(t).trigger("click.toggleMenu"),t=a,o.trigger(p+"open"),h=r.scrollTop()||1,i.addClass(m).removeClass(f),n(n(a).attr("href")).focusHere(),r.scrollTop(1),o.trigger(p+"opened")),c=!c}),!s&&r.off(u),i.addClass(g)}else v&&l(d,"left")&&(v=!v,c&&(t=null,o.trigger(p+"close"),c=!1,o.trigger(p+"closed")),n(e.menuButton).off("click.toggleMenu"),i.removeClass(g+" "+m+" "+f))}),a(u),e.stickyHeader&&n.initStickyHeader(n.extend({},e,{name:"header"})),n},n.initStickyHeader=function(o){o=n.extend({name:"header",upLimit:70,downLimit:50,mediaGroup:"Small",headerHeight:function(){return parseInt(i.css("padding-top"),10)}},o);var s=o.mediaGroup,l="function"==typeof s?s:function(e,t){return!s||e[t+s]},u=".stickyheader",c="formatchange"+u,d="scroll"+u,f=d+(o.onresize?" resize"+u:""),m="is-"+o.name,g=m+"-fixed",p=m+"-hidden",v=m+"-shown",h=!1;return r.on(c,function(a,u){if(!h&&l(u,"became")){h=!h;var m,C=0,k="pageXOffset"in e,y=!1,x=!1;r.on(f,n.throttleFn(function(){if(!t){var n=k?e.pageYOffset:document.documentElement.scrollTop,r=n>o.headerHeight();if(m&&clearTimeout(m),r!==y&&(y=r,C=n,i.toggleClass(g+" "+p,y),y||(i.removeClass(v),x=!1)),y){var a,s=n-C;(a=s>o.downLimit)?x&&(i.removeClass(v).addClass(p),x=!1):(a=s<-o.upLimit)&&(x||(i.removeClass(p).addClass(v),x=!0)),a?C=n:m=setTimeout(function(){C=n},1e3)}}},!0,50)).trigger(d),!s&&r.off(c)}else h&&l(u,"left")&&(h=!h,r.off(f),i.removeClass(g+" "+v))}),a(c),n}}(window);
