// encoding: utf-8
// $.fn.mailtoEnabler 1.0  -- (c) 2009 Hugsmiðjan ehf. 
jQuery.fn.mailtoEnabler=function(b){var e=this,c=jQuery;if(e.length){b=c.extend({dotSymbols:['dot','punktur','period','\\.'],atSymbols:['at','hj[aá]','@'],openBracket:[' ','\\-','_','{','\\[','('],closeBracket:[' ','\\-','_','}','\\]',')'],createLinks:true},b);var g='['+b.openBracket.join('')+']+(',h=')['+b.closeBracket.join('')+']+',l=new RegExp(g+b.atSymbols.join('|')+h,'i'),m=new RegExp(g+b.dotSymbols.join('|')+h,'gi'),i=/^.*\/?mailto\s*:\s*/,j=window.decodeURI||function(a){return a};return e.each(function(){var a=c('a',this)[0]||this,f=a.tagName=='A',d=(a.href)?j(a.href).replace(i,''):'',k=!d||d==j(a.href);if(k){c('img',a).each(function(){c(this).replaceWith(this.alt)});d=c(a).text().replace(i,'')}if(d){d=d.replace(l,'@').replace(m,'.');b.successClass&&c(a).addClass(b.successClass);if(b.createLinks&&!f){a=c(a).wrapInner('<a />').find('a')[0];f=1}if(f){a.href='mailto:'+d}if(k){c(a).text(d)}}})}return e};
