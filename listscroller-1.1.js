/* jQuery.fn.listscroller 1.1  -- (c) 2009-2017 Hugsmiðjan ehf.  @preserve */
!function(g,h,x){function l(e,t){return"visible"==t.overflow?e.length-(e.length%t.stepSize||t.stepSize):e.length-t.windowSize}function b(e,t,a){clearTimeout(e.scrollTimeout),a=a||{};var s=e.block,l=e.list;if(e.lastIndex=e.index,e.index=g.listscroller.wrap[e.wrap||"none"](t,l,e),e.index!=e.lastIndex){s.trigger("beforeMove",{newIndex:e.index}),l.addClass(e.hideClass).removeClass(e.cursorItemClass).removeClass(e.currentItemClass).slice(e.index,e.index+e.windowSize).addClass(e.currentItemClass).removeClass(e.hideClass).eq(0).addClass(e.cursorItemClass),g.isFunction(e.moveCallback)&&e.moveCallback.call(s,l,e),g.isFunction(e.animation)?e.animation.call(s,l,e):g.listscroller.animate[e.animation||"none"].call(s,l,e),!a._noFocus&&e.setFocus&&setTimeout(function(){l.eq(e.index).setFocus()},e.speed||1),s.removeClass(e.topClass).removeClass(e.bottomClass),0==e.index&&s.addClass(e.topClass),l.length-e.index<=e.windowSize&&s.addClass(e.bottomClass),a._noFlash||(s.addClass(e.classPrefix+"-changed"),setTimeout(function(){s.removeClass(e.classPrefix+"-changed")},e.speed||1));var i=Math.ceil(e.index/e.stepSize);e.jumps&&e.jumps.removeClass(e.currentPageClass).eq(i).addClass(e.currentPageClass);var o=e.itemStatusPager?e.index:i;if(e.inputPager&&e.inputPager.val(i+1),e.status&&e.status.text(o+1),e.status&&e.itemStatusPager&&1<e.windowSize){var n=o+e.windowSize;n=n>l.length?l.length:n,e.status.append("-"+n)}e.autoScrollDelay&&s.queue(function(){s.trigger("afterMove").dequeue()})}}function m(e){var t=e.data;b(t,t.index-t.stepSize),e.preventDefault()}function f(e){var t=e.data;b(t,t.index+t.stepSize),e.preventDefault()}function v(e){var t=e.data;b(t,(parseInt(g(this).text(),10)-1||0)*t.stepSize),e.preventDefault()}function C(e){var t=e.data,a=Math.max(0,parseInt("0"+g(this).val(),10)-1)||0;b(t,Math.min(a*t.stepSize,l(t.list,t))),e.preventDefault()}function T(e){var t,a,s=g(e.nextBtnTemplate),l=g(e.prevBtnTemplate);if(g(s.find("a")[0]||s).bind("click",e,f).attr("title",e.titleNext).text(e.labelNext),g(l.find("a")[0]||l).bind("click",e,m).attr("title",e.titlePrev).text(e.labelPrev),e.paging){var i=Math.ceil(e.index/e.stepSize),o=Math.ceil(e.list.length/e.stepSize),n=e.itemStatusPager?e.list.length:o;if(e.statusPager||e.inputPager){a=g(e.statusTempl),g(e.statusLabelTempl).html(e.statusLabel).appendTo(a);var r=g(e.statusWrapTempl).appendTo(a);g(e.statusTotalTempl).html(e.ofTotalSeparator+n+e.statusLabelAfter).appendTo(r),e.inputPager?e.inputPager=g(e.inputPagerTempl).prependTo(r).val(i+1).bind("change",e,C):e.status=g(e.statusCurrTempl).prependTo(r)}if(e.jumpPager){var p=[];t=g(e.jumpTemplate),e.jumpLabelTemplate&&g(e.jumpLabelTemplate).text(e.jumpLabel).appendTo(t);for(var u=0;u<o;u++){var c=g(e.jumpBtnTemplate),d=g(c.find("a")[0]||c).text(u+1).attr("title",e.statusLabel+(u+1)).addClass("p"+(u+1)).bind("click",e,v);e.index==u&&d.addClass(e.currentPageClass),p.push(c[0])}e.jumps=g(p),g(e.jumpWrapTemplate||[]).append(e.jumps).appendTo(t)}}return g(e.pagingTemplate).deepest().append(s,l,t).end().prepend(a)}function n(t,a,e){var s,l,i,o,n,r,p=a.data("listscrollerCfg");if(p){a.removeData("listscrollerCfg"),l=(s=p.list.parent()).parent(),t.destroy&&(s.filter("div").zap(),l.zap(),s=l=void 0),clearTimeout(p.scrollTimeout);var u=a[0].style.display||"";a.hide().removeClass(p.classPrefix+"-active").removeClass(p.topClass).removeClass(p.bottomClass).removeClass("block-mouseover").unbind(".lscr").data("lstscr_pagingElms").remove(),a.removeData("lstscr_pagingElms"),p.list.removeClass(p.hideClass).removeClass(p.cursorItemClass).removeClass(p.currentItemClass).css({display:""}),p.flipover&&p.flipover.remove(),s&&s.removeClass(p.classPrefix+"-clip").css("position",""),l&&l.scroll(0,0).removeClass(p.classPrefix+"-wrapper").removeClass(p.classPrefix+"-"+p.aspect).css("position",""),a.css("display",u)}if(!t.destroy){e="string"==typeof e?a.find(e):e,p||(l=(s=e.eq(0).is("li")?e.parent():e.wrapAll("<div />").parent()).wrap("<div />").parent()),t.list=e,(t.block=a).data("listscrollerCfg",t),a.addClass(t.classPrefix+"-active"),l.addClass(t.classPrefix+"-wrapper").addClass(t.classPrefix+"-"+t.aspect),s.addClass(t.classPrefix+"-clip").add(l).css("position","relative"),"loop"==t.wrap&&(t.flipover=e.slice(0,t.windowSize).clone(h).addClass("listscroller-clone"),e.parent().append(t.flipover));var c=[];"none"!==t.controls&&0<e.length&&(/^(above|both)$/.test(t.controls)&&(c.unshift(T(t).addClass(t.pagingTopClass)[0]),l.before(c[0])),/^(below|both)$/.test(t.controls)&&(c.unshift(T(t).addClass(t.pagingBottomClass)[0]),l.after(c[0]))),a.data("lstscr_pagingElms",g(c)),"auto"==t.aspect&&(t.aspect=(o=(i=e).eq(1),n=i.eq(0).offset(),((r=o.offset())&&o.is(":visible")?Math.abs(r.top-n.top)<=Math.abs(r.left-n.left)?"horizontal":"vertical":x)||g.listscroller.aspectDefaults[t.animation]||"horizontal")),l.addClass(t.classPrefix+"-"+t.aspect),"random"==t.startPos&&(t.startPos=Math.floor(Math.ceil(e.length/t.stepSize)*Math.random())*t.stepSize),b(t,t.startPos||0,{_noFlash:h,_noFocus:h});var d=function(e){b(t,t.index+t.stepSize,{_noFlash:h,_noFocus:h})},m=function(e){b(t,t.index-t.stepSize,{_noFlash:h,_noFocus:h})},f=t.autoScrollDelay;if(f){var v=t.pauseOnMouseOver;t.scrollTimeout=setTimeout(d,f),a.bind("mouseenter.lscr",function(e){a.addClass("block-mouseover"),v&&clearTimeout(t.scrollTimeout)}).bind("mouseleave.lscr",function(e){a.removeClass("block-mouseover"),v&&(clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(d,f))}).bind("afterMove.lscr",function(e){v&&a.is(".block-mouseover")||(clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(d,f))})}"horizontal"==t.aspect?a.on("swipeleft",function(e){d()}).on("swiperight",function(e){m()}):"vertical"==t.aspect&&a.on("swipeup",function(e){d()}).on("swipedown",function(e){m()})}}g.listscroller={version:1,defaultConfig:{item:"",windowSize:3,stepSize:1,startPos:0,hideClass:"overflow",topClass:"at-top",bottomClass:"at-bottom",wrap:"both",overflow:"visible",controls:"below",animation:"none",easing:"swing",speed:600,aspect:"auto",jumpPager:h,autoScrollDelay:0,pauseOnMouseOver:!0,setFocus:h,moveCallback:function(){},classPrefix:"listscroller",currentPageClass:"current",currentItemClass:"visible",cursorItemClass:"current",pagingTopClass:"paging paging-top",pagingBottomClass:"paging paging-bottom",pagingTemplate:'<div><ul class="stepper"/></div>',nextBtnTemplate:'<li class="next"><a href="#"/></li>',prevBtnTemplate:'<li class="prev"><a href="#"/></li>',jumpTemplate:'<li class="jump"/>',jumpLabelTemplate:"<strong/>",jumpWrapTemplate:"<span/>",jumpBtnTemplate:'<a href="#"/>',statusTempl:'<div class="status"/>',statusLabelTempl:"<strong/>",statusWrapTempl:"<span/>",statusCurrTempl:"<b/>",statusTotalTempl:"<i/>",inputPagerTempl:'<input type="text" value="" size="2"/>'},i18n:{en:{labelNext:"Next",labelPrev:"Previous",titleNext:"Page forward",titlePrev:"Page back",jumpLabel:"Pages:",statusLabel:"Page: ",ofTotalSeparator:" of ",statusLabelAfter:""},is:{labelNext:"Næsta",labelPrev:"Fyrri",titleNext:"Fletta áfram",titlePrev:"Fletta til baka",jumpLabel:"Síður:",statusLabel:"Síða: ",ofTotalSeparator:" af ",statusLabelAfter:""},no:{labelNext:"Neste",labelPrev:"Tidligere",titleNext:"Bla frem",titlePrev:"Bla tilbake",jumpLabel:"Sider:",statusLabel:"Side: ",ofTotalSeparator:" af ",statusLabelAfter:""},da:{labelNext:"Næste",labelPrev:"Tidligere",titleNext:"Rul frem",titlePrev:"Rul tilbage",jumpLabel:"Sider:",statusLabel:"Side: ",ofTotalSeparator:" af ",statusLabelAfter:""}},animate:{none:function(e,t){},carousel:function(e,t){var a,s=e.eq(0).closest("."+t.classPrefix+"-wrapper"),l=e.eq(e.length-1),i=e.length-t.stepSize,o="horizontal"===t.aspect,n=o?"scrollLeft":"scrollTop",r=o?"left":"top",p=o?"outerWidth":"outerHeight",u={};s.stop(),a=e.eq(t.index).position(),u[n]=a[r],"loop"==t.wrap&&0==t.lastIndex&&t.index==i?(s[n](l.position()[r]+l[p]()),s.animate(u,t.speed,t.easing)):"loop"==t.wrap&&t.lastIndex==i&&0==t.index?(u[n]=l.position()[r]+l[p](),s.animate(u,t.speed,t.easing,function(){s[n](0)})):s.animate(u,t.speed,t.easing)},crossfade:function(e,s){e.each(function(e,t,a){t=e>=s.index&&e<s.index+s.windowSize,a=null==s.lastIndex||e>=s.lastIndex&&e<s.lastIndex+s.windowSize,t||null!=s.lastIndex?t&&!a?g(this).stop().hide().fadeIn(s.speed):!t&&a&&g(this).stop().show().css({opacity:1}).fadeOut(s.speed):g(this).stop().hide()})},accordion:function(e,s){var l,i="vertical"==s.aspect?"height":"width";e.each(function(e,t,a){t=e>=s.index&&e<s.index+s.windowSize,a=null==s.lastIndex||e>=s.lastIndex&&e<s.lastIndex+s.windowSize,l={},t||null!=s.lastIndex?(l[i]=t&&!a?"show":!t&&a?"hide":void 0,l[i]&&g(this).stop().animate(l,s.speed,s.easing,function(){this.style[i]=""})):g(this).stop().hide()})}},wrap:{none:function(e,t,a){return Math.max(Math.min(e,l(t,a)),0)},start:function(e,t,a){var s=l(t,a);return e<0?0==a.index?s:0:s<e?s:e},end:function(e,t,a){var s=l(t,a);return e<0?0:s<e?a.index==s?0:s:e},both:function(e,t,a){var s=l(t,a);return e<0?0==a.index?s:0:s<e?a.index==s?0:s:e},random:function(e,t,a){return Math.floor(Math.random()*t.length)},loop:function(e,t,a){return(t.length+e)%t.length}},aspectDefaults:{none:"vertical",carousel:"horizontal",crossfade:"horizontal",accordion:"vertical"}},g.fn.listscroller=function(i){var o=g.listscroller.defaultConfig;return i&&(i.item||i.destroy)||o.item?this.each(function(){var e=g(this),t=e.closest("[lang]").attr("lang")||"",a=g.listscroller.i18n,s=a[t.toLowerCase()]||a[t.substr(0,2)]||a.en,l=g.extend({},o,s,i);l.itemStatusPager&&(l.inputPager=x),n(l,e,l.item)}):this.length&&this.eq(0).parent().listscroller(g.extend({},i,{item:this})),this}}(jQuery,!0,!1);
