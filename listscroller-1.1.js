/* jQuery.fn.listscroller 1.1  -- (c) 2009-2017 Hugsmiðjan ehf.  @preserve */
!function(f,v,g){function l(e,t){return"visible"===t.overflow?e.length-(e.length%t.stepSize||t.stepSize):e.length-t.windowSize}function h(e,t,a){clearTimeout(e.scrollTimeout),a=a||{};var s=e.block,l=e.list;if(e.lastIndex=e.index,e.index=f.listscroller.wrap[e.wrap||"none"](t,l,e),e.index!==e.lastIndex){s.trigger("beforeMove",{newIndex:e.index}),l.addClass(e.hideClass).removeClass(e.cursorItemClass).removeClass(e.currentItemClass).slice(e.index,e.index+e.windowSize).addClass(e.currentItemClass).removeClass(e.hideClass).eq(0).addClass(e.cursorItemClass),f.isFunction(e.moveCallback)&&e.moveCallback.call(s,l,e),f.isFunction(e.animation)?e.animation.call(s,l,e):f.listscroller.animate[e.animation||"none"].call(s,l,e),!a._noFocus&&e.setFocus&&setTimeout(function(){l.eq(e.index).setFocus()},e.speed||1),s.removeClass(e.topClass).removeClass(e.bottomClass),0===e.index&&s.addClass(e.topClass),l.length-e.index<=e.windowSize&&s.addClass(e.bottomClass),a._noFlash||(s.addClass(e.classPrefix+"-changed"),setTimeout(function(){s.removeClass(e.classPrefix+"-changed")},e.speed||1));var i=Math.ceil(e.index/e.stepSize);e.jumps&&e.jumps.removeClass(e.currentPageClass).eq(i).addClass(e.currentPageClass);var n=e.itemStatusPager?e.index:i;if(e.inputPager&&e.inputPager.val(i+1),e.status&&e.status.text(n+1),e.status&&e.itemStatusPager&&1<e.windowSize){var o=n+e.windowSize;o=o>l.length?l.length:o,e.status.append("-"+o)}e.autoScrollDelay&&s.queue(function(){s.trigger("afterMove").dequeue()})}}function m(e){x(e.data,!0),e.preventDefault()}function x(e,t){if(t=t?{}:{_noFlash:v,_noFocus:v},0===e.index&&-1<["none","end"].indexOf(e.wrap))return!1;h(e,e.index-e.stepSize,t)}function b(e){C(e.data,!0),e.preventDefault()}function C(e,t){if(t=t?{}:{_noFlash:v,_noFocus:v},e.list.length-e.index<=e.windowSize&&-1<["none","start"].indexOf(e.wrap))return!1;h(e,e.index+e.stepSize,t)}function T(e){var t=e.data;h(t,(parseInt(f(this).text(),10)-1||0)*t.stepSize),e.preventDefault()}function w(e){var t=e.data,a=Math.max(0,parseInt("0"+f(this).val(),10)-1)||0;h(t,Math.min(a*t.stepSize,l(t.list,t))),e.preventDefault()}function P(e){var t,a,s=f(e.nextBtnTemplate),l=f(e.prevBtnTemplate);if(f(s.find("a")[0]||s).bind("click",e,b).attr("title",e.titleNext).text(e.labelNext),f(l.find("a")[0]||l).bind("click",e,m).attr("title",e.titlePrev).text(e.labelPrev),e.paging){var i=Math.ceil(e.index/e.stepSize),n=Math.ceil(e.list.length/e.stepSize),o=e.itemStatusPager?e.list.length:n;if(e.statusPager||e.inputPager){a=f(e.statusTempl),f(e.statusLabelTempl).html(e.statusLabel).appendTo(a);var r=f(e.statusWrapTempl).appendTo(a);f(e.statusTotalTempl).html(e.ofTotalSeparator+o+e.statusLabelAfter).appendTo(r),e.inputPager?e.inputPager=f(e.inputPagerTempl).prependTo(r).val(i+1).bind("change",e,w):e.status=f(e.statusCurrTempl).prependTo(r)}if(e.jumpPager){var p=[];t=f(e.jumpTemplate),e.jumpLabelTemplate&&f(e.jumpLabelTemplate).text(e.jumpLabel).appendTo(t);for(var u=0;u<n;u++){var c=f(e.jumpBtnTemplate),d=f(c.find("a")[0]||c).text(u+1).attr("title",e.statusLabel+(u+1)).addClass("p"+(u+1)).bind("click",e,T);e.index===u&&d.addClass(e.currentPageClass),p.push(c[0])}e.jumps=f(p),f(e.jumpWrapTemplate||[]).append(e.jumps).appendTo(t)}}return f(e.pagingTemplate).deepest().append(s,l,t).end().prepend(a)}function o(e,t,a){var s,l,i,n,o,r,p=t.data("listscrollerCfg");if(p){t.removeData("listscrollerCfg"),l=(s=p.list.parent()).parent(),e.destroy&&(s.filter("div").zap(),l.zap(),s=l=void 0),clearTimeout(p.scrollTimeout);var u=t[0].style.display||"";t.hide().removeClass(p.classPrefix+"-active").removeClass(p.topClass).removeClass(p.bottomClass).removeClass("block-mouseover").unbind(".lscr").data("lstscr_pagingElms").remove(),t.removeData("lstscr_pagingElms"),p.list.removeClass(p.hideClass).removeClass(p.cursorItemClass).removeClass(p.currentItemClass).css({display:""}),p.flipover&&p.flipover.remove(),s&&s.removeClass(p.classPrefix+"-clip").css("position",""),l&&l.scroll(0,0).removeClass(p.classPrefix+"-wrapper").removeClass(p.classPrefix+"-"+p.aspect).css("position",""),t.css("display",u)}if(!e.destroy){a="string"==typeof a?t.find(a):a,p||(l=(s=a.eq(0).is("li")?a.parent():a.wrapAll("<div />").parent()).wrap("<div />").parent()),e.list=a,(e.block=t).data("listscrollerCfg",e),t.addClass(e.classPrefix+"-active"),l.addClass(e.classPrefix+"-wrapper").addClass(e.classPrefix+"-"+e.aspect),s.addClass(e.classPrefix+"-clip").add(l).css("position","relative"),"loop"===e.wrap&&(e.flipover=a.slice(0,e.windowSize).clone(v).addClass("listscroller-clone"),a.parent().append(e.flipover));var c=[];"none"!==e.controls&&0<a.length&&(/^(above|both)$/.test(e.controls)&&(c.unshift(P(e).addClass(e.pagingTopClass)[0]),l.before(c[0])),/^(below|both)$/.test(e.controls)&&(c.unshift(P(e).addClass(e.pagingBottomClass)[0]),l.after(c[0]))),t.data("lstscr_pagingElms",f(c)),"auto"===e.aspect&&(e.aspect=(n=(i=a).eq(1),o=i.eq(0).offset(),((r=n.offset())&&n.is(":visible")?Math.abs(r.top-o.top)<=Math.abs(r.left-o.left)?"horizontal":"vertical":g)||f.listscroller.aspectDefaults[e.animation]||"horizontal")),l.addClass(e.classPrefix+"-"+e.aspect),"random"===e.startPos&&(e.startPos=Math.floor(Math.ceil(a.length/e.stepSize)*Math.random())*e.stepSize),h(e,e.startPos||0,{_noFlash:v,_noFocus:v});var d=e.autoScrollDelay;if(d){var m=e.pauseOnMouseOver;e.scrollTimeout=setTimeout(C,d,e),t.bind("mouseenter.lscr",function(){t.addClass("block-mouseover"),m&&clearTimeout(e.scrollTimeout)}).bind("mouseleave.lscr",function(){t.removeClass("block-mouseover"),m&&(clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(C,d,e))}).bind("afterMove.lscr",function(){m&&t.is(".block-mouseover")||(clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(C,d,e))})}"horizontal"===e.aspect?t.on("swipeleft",function(){C(e)}).on("swiperight",function(){x(e)}):"vertical"===e.aspect&&t.on("swipeup",function(){C(e)}).on("swipedown",function(){x(e)})}}f.listscroller={version:1,defaultConfig:{item:"",windowSize:3,stepSize:1,startPos:0,hideClass:"overflow",topClass:"at-top",bottomClass:"at-bottom",wrap:"both",overflow:"visible",controls:"below",animation:"none",easing:"swing",speed:600,aspect:"auto",jumpPager:v,autoScrollDelay:0,pauseOnMouseOver:!0,setFocus:v,moveCallback:function(){},classPrefix:"listscroller",currentPageClass:"current",currentItemClass:"visible",cursorItemClass:"current",pagingTopClass:"paging paging-top",pagingBottomClass:"paging paging-bottom",pagingTemplate:'<div><ul class="stepper"/></div>',nextBtnTemplate:'<li class="next"><a href="#"/></li>',prevBtnTemplate:'<li class="prev"><a href="#"/></li>',jumpTemplate:'<li class="jump"/>',jumpLabelTemplate:"<strong/>",jumpWrapTemplate:"<span/>",jumpBtnTemplate:'<a href="#"/>',statusTempl:'<div class="status"/>',statusLabelTempl:"<strong/>",statusWrapTempl:"<span/>",statusCurrTempl:"<b/>",statusTotalTempl:"<i/>",inputPagerTempl:'<input type="text" value="" size="2"/>'},i18n:{en:{labelNext:"Next",labelPrev:"Previous",titleNext:"Page forward",titlePrev:"Page back",jumpLabel:"Pages:",statusLabel:"Page: ",ofTotalSeparator:" of ",statusLabelAfter:""},is:{labelNext:"Næsta",labelPrev:"Fyrri",titleNext:"Fletta áfram",titlePrev:"Fletta til baka",jumpLabel:"Síður:",statusLabel:"Síða: ",ofTotalSeparator:" af ",statusLabelAfter:""},no:{labelNext:"Neste",labelPrev:"Tidligere",titleNext:"Bla frem",titlePrev:"Bla tilbake",jumpLabel:"Sider:",statusLabel:"Side: ",ofTotalSeparator:" af ",statusLabelAfter:""},da:{labelNext:"Næste",labelPrev:"Tidligere",titleNext:"Rul frem",titlePrev:"Rul tilbage",jumpLabel:"Sider:",statusLabel:"Side: ",ofTotalSeparator:" af ",statusLabelAfter:""}},animate:{none:function(){},carousel:function(e,t){var a,s=e.eq(0).closest("."+t.classPrefix+"-wrapper"),l=e.eq(e.length-1),i=e.length-t.stepSize,n="horizontal"===t.aspect,o=n?"scrollLeft":"scrollTop",r=n?"left":"top",p=n?"outerWidth":"outerHeight",u={};s.stop(),a=e.eq(t.index).position(),u[o]=a[r],"loop"===t.wrap&&0===t.lastIndex&&t.index===i?(s[o](l.position()[r]+l[p]()),s.animate(u,t.speed,t.easing)):"loop"===t.wrap&&t.lastIndex===i&&0===t.index?(u[o]=l.position()[r]+l[p](),s.animate(u,t.speed,t.easing,function(){s[o](0)})):s.animate(u,t.speed,t.easing)},crossfade:function(e,s){e.each(function(e,t,a){t=e>=s.index&&e<s.index+s.windowSize,a=null==s.lastIndex||e>=s.lastIndex&&e<s.lastIndex+s.windowSize,t||null!=s.lastIndex?t&&!a?f(this).stop().hide().fadeIn(s.speed):!t&&a&&f(this).stop().show().css({opacity:1}).fadeOut(s.speed):f(this).stop().hide()})},accordion:function(e,s){var l,i="vertical"===s.aspect?"height":"width";e.each(function(e,t,a){t=e>=s.index&&e<s.index+s.windowSize,a=null==s.lastIndex||e>=s.lastIndex&&e<s.lastIndex+s.windowSize,l={},t||null!=s.lastIndex?(l[i]=t&&!a?"show":!t&&a?"hide":void 0,l[i]&&f(this).stop().animate(l,s.speed,s.easing,function(){this.style[i]=""})):f(this).stop().hide()})}},wrap:{none:function(e,t,a){return Math.max(Math.min(e,l(t,a)),0)},start:function(e,t,a){var s=l(t,a);return e<0?0===a.index?s:0:s<e?s:e},end:function(e,t,a){var s=l(t,a);return e<0?0:s<e?a.index===s?0:s:e},both:function(e,t,a){var s=l(t,a);return e<0?0===a.index?s:0:s<e?a.index===s?0:s:e},random:function(e,t){return Math.floor(Math.random()*t.length)},loop:function(e,t){return(t.length+e)%t.length}},aspectDefaults:{none:"vertical",carousel:"horizontal",crossfade:"horizontal",accordion:"vertical"}},f.fn.listscroller=function(i){var n=f.listscroller.defaultConfig;return i&&(i.item||i.destroy)||n.item?this.each(function(){var e=f(this),t=e.closest("[lang]").attr("lang")||"",a=f.listscroller.i18n,s=a[t.toLowerCase()]||a[t.substr(0,2)]||a.en,l=f.extend({},n,s,i);l.itemStatusPager&&(l.inputPager=g),o(l,e,l.item)}):this.length&&this.eq(0).parent().listscroller(f.extend({},i,{item:this})),this}}(window.jQuery,!0,!1);
