// encoding: utf-8
// $.fn.labelizor 1.0  -- (c) 2009 Hugsmi√∞jan ehf. 
(function(e){e.fn.labelizor=function(a,n){var l=a&&a.charAt?a:'';a=e.extend({lRe:/(\*|:[\W\S]*$)/g,useLabel:true,blurClass:n||'labelized',hideClass:l||'stream'},!l&&a);var j=a.hideClass,k=a.blurClass,f=a.labelFilter,g=a.useLabel;return this.each(function(){var d=this,c=e(d);if(!c.data('labelizor')){var o=d.placeholder,b=c.attr('placeholder');c.data('labelizor',true);if(b||((d.id||d.title)&&c.is(':text, :password, textarea'))){b=a.labelText||b;var h=d.title,i=!g&&b&&!j?e([]):e(c.parents('form:first, :last').eq(0).find('label[for="'+d.id+'"]:first')),m=function(p){if(c.val()==b){c.val('').removeClass(k)}};if(!b){b=!g||!f?(a.preferTitle&&h)||(g&&i.text())||h:e.isFunction(f)?f(i,c):i.find(f).text();b=e.trim(b.replace(a.lRe||'',a.lPlace||''))}if(j&&(!a.condHide||(g&&(a.preferTitle&&b!=h)&&!a.labelText))){i.addClass(j)}if(!o){c.attr('title',h||b).bind('focus',m).bind('blur',function(p){if(!c.val()){c.val(b).addClass(k)}});if(b&&!d.getAttribute('value')&&(!d.value||d.value==b)){c.val(b).addClass(k)}e(d.form).bind('submit',m)}}}})}})(jQuery);
