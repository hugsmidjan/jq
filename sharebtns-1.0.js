// $.fn.sharebtns 1.0  -- (c) 2012 HugsmiÃ°jan ehf.
(function(t,e,o,n){var i=t.fn.sharebtns=function(e){var n=[];if(this.length){e=t.extend(true,{},r,e);t.each(l,function(i,r){var a=e[i];if(a){var s=e[i]=t.extend({},r,a);t.each(c,function(o,n){n=n[i];e[o]&&n&&t.extend(s,n)});s.url=s.url||e.url;t.extend(s,a);s.$pos=typeof a==="number"?a:s.$pos||0;s.$prep&&s.$prep(e);var l=s.$tmpl.replace(/(%=?)?\{(.+?)\}/g,function(t,e,n){var i=s[n];return!e?i:e==="%"?o(i):i?n+"="+o(i)+"&":""});l=t(e.process?e.process(l,i,s):l);l.$pos=s.$pos;n.push(l);s.$init&&setTimeout(function(){s.$init(l,e)},0)}});n=t.map(n.sort(function(t,e){var o=t.$pos-e.$pos;return o>0?1:o<0?-1:0}),function(t){return t.toArray()});this[e.insertion](n)}return this.pushStack(n)},r=i.defaults={twitter:true,facebook:true,insertion:"append",url:t('link[rel="canonical"]').prop("href")||e.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,"")},a={count:"none"},s={count:"vertical"},c={dark:{fbshare:{color:"dark"},facebook:{color:"dark"}},large:{twitter:{size:"l"},facebook:{},gplus:{size:""},pinterest:{}},countNone:{twitter:a,facebook:{count:"standard"},gplus:a,pinterest:a},countV:{twitter:s,facebook:{count:"box_count"},gplus:{count:"",size:"tall"},pinterest:s}},l=i.btnDefaults={twitter:{size:"m",count:"",via:"",related:"",lang:"",hashtags:"",text:"",$prep:function(){var t=this,e=!t.count||t.count==="horizontal",o=t.count==="vertical",n=t.size==="l";t.width=e&&n?"138px":e?"110px":n?"76px":"58px";t.height=n?"28px":o?"62px":"20px"},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={count}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" />',$pos:10},fbshare:{color:"",$prep:function(){var t=this;t.width="5.636em";t.height="1.818em";t.$prep2()},$prep2:function(){var e=this,o={en:"Share",is:"Deila"};if(!e.txt){e.lang=t("html").attr("lang").substr(0,2);e.txt=o[e.lang];if(!e.txt){e.lang="en";e.txt=o.en}}},$lnk:'<a onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="fbshare" href="//www.facebook.com/sharer.php?u=',$init:function(t){var e=this,n=t.filter('iframe').add(t.find('iframe')).eq(0).contents()[0];n.write('<!DOCTYPE html><html lang="'+e.lang+'">'+'<head><meta charset="UTF-8" /><title>.</title>'+'<link href="https://codecentre.eplica.is/f/fb-share.css" rel="stylesheet" type="text/css" />'+'</head><body class="'+(e.color||"")+'">'+e.$lnk+o(e.url)+'">'+e.txt+"</a>"+"</body></html>");n.close()},$tmpl:'<iframe data-sharebtns="fbshare" style="width:{width};height:{height};font-size:11px;" allowtransparency="true" frameborder="0" scrolling="no" />',$pos:40},facebook:{width:null,count:"button_count",sendBtn:false,faces:false,color:"",verb:"",$prep:function(){var t=this;t.width=t.width||(t.count==="box_count"?85:120)},$tmpl:'<div class="fb-like" data-send="{sendBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-colorscheme="{color}" data-href="{url}" />',$init:function(){if(!t("#fb-root")[0]){t("body").prepend('<div id="fb-root"/>')}h("//connect.facebook.net/"+this.$locale()+"/all.js#xfbml=1",function(){window.FB&&FB.XFBML.parse()})},$loc:"",$locs:{is:"is_IS",dk:"dk_DK",pl:"pl_PL",fo:"fo_FO",no:"nn_NO",se:"sv_SE",de:"de_DE"},$locale:function(){this.$loc=this.$loc||this.$locs[t("html").attr("lang").substr(0,2)]||"en_US";return this.$loc},$pos:50},gplus:{count:"",size:"medium",$tmpl:'<div class="g-plusone" data-size="{size}" data-annotation="{count}" data-href="{url}"/>',$init:function(){h("//apis.google.com/js/plusone.js",function(){window.gapi&&gapi.plusone.go()})},$pos:20},pinterest:{imgsrc:"",count:"",imgSelector:".pgmain img",$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" count-layout="{count}" lang="en">Pin It</a>',$prep:function(){var o=this;if(!o.imgsrc){o.imgsrc=o.imgSelector&&t(o.imgSelector).attr(o.imgSrcAttr||"src")||t('meta[property="og:image"]').attr("content")||t("img").attr("src");if(!/^(https?:)?\/\//.test(o.imgsrc)){o.imgsrc=e.protocol+"//"+e.host+"/"+o.imgsrc.replace(/^\//,"")}}},$init:function(){p("https://assets.pinterest.com/js/pinit.js")},$pos:30}},u={},p=function(e){clearTimeout(u[e]);u[e]=setTimeout(function(){t.ajax({dataType:"script",cache:true,url:e})},100)},h=function(e,o){var i=u[e];if(!i){u[e]=i={};t("<script/>").attr("src",e).each(function(){t("head")[0].appendChild(this)}).on(n,function(){var e=this;if(!e.readyState||/^(loaded|complete)$/.test(e.readyState)){i.loaded=1;if(o){clearTimeout(i.timeout);i.timeout=setTimeout(o,100)}t(e).off(n)}})}else if(o&&i.loaded){clearTimeout(i.timeout);i.timeout=setTimeout(o,100)}};l.fbshare2={url:"",$prep:function(){l.fbshare.$prep2.call(this)},$tmpl:l.fbshare.$lnk+'%{url}" class="fbsharebtn">{txt}</a>',$pos:40}})(jQuery,document.location,encodeURIComponent,"load readystatechange");
