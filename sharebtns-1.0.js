// $.fn.sharebtns 1.0  -- (c) 2012 HugsmiÃ°jan ehf.
(function(b,j,n){var o=b.fn.sharebtns=function(f){var h=[];if(this.length){f=b.extend(true,{},p,f);b.each(q,function(k,r){var l=f[k];if(l){var c=f[k]=b.extend({},r,l);b.each(s,function(a,d){d=d[k];f[a]&&d&&b.extend(c,d)});c.url=c.url||f.url;b.extend(c,l);c.$pos=c.$pos||1*l||0;c.$prep&&c.$prep(c,f);var i=c.$tmpl.replace(/(%)?\{(.+?)\}/g,function(a,d,g){var e=c[g];return!d?e:e?g+'='+encodeURIComponent(e)+'&':''});i=b(f.process?f.process(i,k,c):i);i.$pos=c.$pos;h.push(i);c.$init&&setTimeout(function(){c.$init()},0)}});h=b.map(h.sort(function(a,d){var g=a.$pos-d.$pos;return g>0?1:g<0?-1:0}),function(a){return a.toArray()});this[f.insertion](h)}return this.pushStack(h)},p=o.defaults={twitter:true,facebook:true,insertion:'append',url:''},s={large:{twitter:{size:'l'},facebook:{},gplus:{size:''},pinterest:{}},countNone:{twitter:{count:'none'},facebook:{count:'standard'},gplus:{count:'none'},pinterest:{count:'none'}},countV:{twitter:{count:'vertical'},facebook:{count:'box_count'},gplus:{count:'',size:'tall'},pinterest:{count:'vertical'}}},q=o.btnDefeaults={twitter:{size:'m',count:'',via:'',related:'',lang:'',hashtags:'',text:'',url:'',$prep:function(a){var d=!a.count||a.count==='horizontal',g=a.count==='vertical',e=a.size==='l';a.width=(d&&e)?'138px':d?'110px':e?'76px':'58px';a.height=e?'28px':g?'62px':'20px'},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%{size}%{count}%{via}%{related}%{hashtags}%{text}%{url}%{lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" />',$pos:10},facebook:{width:100,count:'button_count',sendBtn:false,faces:false,color:'',verb:'',url:'',$tmpl:'<div class="fb-like" data-send="{sendBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-colorscheme="{color}" data-href="{url}" />',$init:function(){if(!b('#fb-root')[0]){b('body').prepend('<div id="fb-root"/>');m('facebook-jssdk','//connect.facebook.net/'+this.$locale()+'/all.js#xfbml=1')}window.FB&&FB.XFBML.parse()},$loc:'',$locs:{is:'is_IS',dk:'dk_DK',pl:'pl_PL',fo:'fo_FO',no:'nn_NO',se:'sv_SE',de:'de_DE'},$locale:function(){this.$loc=this.$loc||this.$locs[b('html').attr('lang').substr(0,2)]||'en_US';return this.$loc},$pos:40},gplus:{url:'',count:'',size:'medium',$tmpl:'<div class="g-plusone" data-size="{size}" data-annotation="{count}" data-href="{url}"/>',$init:function(){m('gplus-script','https://apis.google.com/js/plusone.js');window.gapi&&gapi.plusone.go()},$pos:20},pinterest:{url:'',imgsrc:'',count:'',imgSelector:'.pgmain img',$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" count-layout="{count}" lang="en">Pin It</a>',$prep:function(a){a.url=a.url||j.location.href;if(!a.imgsrc){a.imgsrc=(a.imgSelector&&b(a.imgSelector).attr(a.imgSrcAttr||'src'))||b('meta[property="og:image"]').attr('content')||b('img').attr('src')}},$init:function(){m('pinterest-script','https://assets.pinterest.com/js/pinit.js')},$pos:30}},m=function(a,d){if(!j.getElementById(a)){var g=j.getElementsByTagName(n)[0],e=j.createElement(n);e.id=a;e.src=d;g.parentNode.insertBefore(e,g)}}})(jQuery,document,'script');
