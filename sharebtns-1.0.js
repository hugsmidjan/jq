// $.fn.sharebtns 1.0  -- (c) 2012 HugsmiÃ°jan ehf.
(function(d,s,m){var p=d.fn.sharebtns=function(f){var i=[];if(this.length){f=d.extend(true,{},t,f);d.each(j,function(k,u){var l=f[k];if(l){var e=f[k]=d.extend({},u,l);d.each(v,function(a,b){b=b[k];f[a]&&b&&d.extend(e,b)});e.url=e.url||f.url;d.extend(e,l);e.$pos=e.$pos||1*l||0;e.$prep&&e.$prep(f);var h=e.$tmpl.replace(/(%=?)?\{(.+?)\}/g,function(a,b,c){var g=e[c];return!b?g:b==='%'?m(g):g?c+'='+m(g)+'&':''});h=d(f.process?f.process(h,k,e):h);h.$pos=e.$pos;i.push(h);e.$init&&setTimeout(function(){e.$init(h,f)},0)}});i=d.map(i.sort(function(a,b){var c=a.$pos-b.$pos;return c>0?1:c<0?-1:0}),function(a){return a.toArray()});this[f.insertion](i)}return this.pushStack(i)},t=p.defaults={twitter:true,facebook:true,insertion:'append',url:''},n={count:'none'},q={count:'vertical'},v={large:{twitter:{size:'l'},facebook:{},gplus:{size:''},pinterest:{}},countNone:{twitter:n,facebook:{count:'standard'},gplus:n,pinterest:n},countV:{twitter:q,facebook:{count:'box_count'},gplus:{count:'',size:'tall'},pinterest:q}},j=p.btnDefaults={twitter:{size:'m',count:'',via:'',related:'',lang:'',hashtags:'',text:'',url:'',$prep:function(){var a=this,b=!a.count||a.count==='horizontal',c=a.count==='vertical',g=a.size==='l';a.width=(b&&g)?'138px':b?'110px':g?'76px':'58px';a.height=g?'28px':c?'62px':'20px'},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={count}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" />',$pos:10},fbshare:{color:'',url:'',$prep:function(){var a=this;a.width='5.6363em';a.height='2.1818em';a.$prep2()},$prep2:function(){var a=this,b={en:'Share',is:'Deila'};if(!a.txt){a.lang=d('html').attr('lang').substr(0,2);a.txt=b[a.lang];if(!a.txt){a.lang='en';a.txt=b.en}}a.url=a.url||document.location.href},$lnk:'<a onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="fbshare" href="//www.facebook.com/sharer.php?u=',$init:function(a){var b=this,c=a.find('iframe').andSelf().filter('iframe').first();c.contents()[0].write('<!DOCTYPE html><html lang="'+b.lang+'"><head><meta charset="UTF-8" /><title>.</title><link href="https://codecentre.eplica.is/f/fb-share.css" rel="stylesheet" type="text/css" /></head><body class="'+(b.color||'')+'">'+b.$lnk+m(b.url)+'">'+b.txt+'</a></body></html>')},$tmpl:'<iframe style="width:{width};height:{height};font-size:11px;" allowtransparency="true" frameborder="0" scrolling="no" />',$pos:40},facebook:{width:100,count:'button_count',sendBtn:false,faces:false,color:'',verb:'',url:'',$tmpl:'<div class="fb-like" data-send="{sendBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-colorscheme="{color}" data-href="{url}" />',$init:function(){if(!d('#fb-root')[0]){d('body').prepend('<div id="fb-root"/>')}o('https://connect.facebook.net/'+this.$locale()+'/all.js#xfbml=1',function(){window.FB&&FB.XFBML.parse()},this)},$loc:'',$locs:{is:'is_IS',dk:'dk_DK',pl:'pl_PL',fo:'fo_FO',no:'nn_NO',se:'sv_SE',de:'de_DE'},$locale:function(){this.$loc=this.$loc||this.$locs[d('html').attr('lang').substr(0,2)]||'en_US';return this.$loc},$pos:50},gplus:{url:'',count:'',size:'medium',$tmpl:'<div class="g-plusone" data-size="{size}" data-annotation="{count}" data-href="{url}"/>',$init:function(){o('https://apis.google.com/js/plusone.js',function(){window.gapi&&gapi.plusone.go()},this)},$pos:20},pinterest:{url:'',imgsrc:'',count:'',imgSelector:'.pgmain img',$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" count-layout="{count}" lang="en">Pin It</a>',$prep:function(){var a=this;a.url=a.url||s.location.href;if(!a.imgsrc){a.imgsrc=(a.imgSelector&&d(a.imgSelector).attr(a.imgSrcAttr||'src'))||d('meta[property="og:image"]').attr('content')||d('img').attr('src')}},$init:function(){o('https://assets.pinterest.com/js/pinit.js')},$pos:30}},r={},o=function(a,b){var c=r[a];if(!c){r[a]=c={};d.getScript(a,function(){c.loaded=1;if(b){clearTimeout(c.timeout);c.timeout=setTimeout(b,100)}})}else if(b&&c.loaded){clearTimeout(c.timeout);c.timeout=setTimeout(b,100)}};j.fbshare2={url:'',$prep:function(){j.fbshare.$prep2.call(this)},$tmpl:j.fbshare.$lnk+'%{url}" class="fbsharebtn">{txt}</a>',$pos:40}})(jQuery,document,encodeURIComponent);
