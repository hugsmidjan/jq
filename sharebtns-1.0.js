// $.fn.sharebtns 1.0  -- (c) 2012-2014 Hugsmi√∞jan ehf.
(function(b,k,q,t,u){var r,l,v=b.fn.sharebtns=function(a){r=r||b("html").attr("lang").substr(0,2)||"en";var f=[],c=this.eq(0);c[0]&&(a=b.extend(!0,{},x,a),l=l||b("<a/>")[0],b.each(m,function(g,e){var c=a[g];if(c){var d=a[g]=b.extend({custom:a.custom,url:a.url,lang:r},e);b.each(y,function(e,c){c=c[g];a[e]&&c&&b.extend(d,c)});b.isPlainObject(c)&&b.extend(d,c);l.href=d.url;d.url=l.href;d.$pos="number"===typeof c?c:d.$pos||0;d.$prep&&d.$prep(a);var h=(d.custom&&d.$tmpl2||d.$tmpl).replace(/(%=?)?\{(.+?)\}/g, function(a,b,c){a=d[c];return b?"%"===b?t(a):null!=a?c+"="+t(a)+"&amp;":"":a});a.wrap&&(h="<"+a.wrap+" class="+g+">"+h+"</"+a.wrap+">");h=b(a.process?a.process(h,g,d):h);h.$pos=d.$pos;f.push(h);!d.custom&&d.$init&&setTimeout(function(){d.$init(h,a)},0)}}),f=b.map(f.sort(function(a,b){var c=a.$pos-b.$pos;return 0<c?1:0>c?-1:0}),function(a){return a.toArray()}),c[a.insertion](f));return this.pushStack(f)},x=v.defaults={twitter:!0,facebook:!0,insertion:"append",url:b('link[rel="canonical"]').prop("href")|| q.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,"")},s={count:"none"},y={large:{twitter:{size:"l"},gplus:{size:""}},countNone:{twitter:s,gplus:s,fbshare:{count:"button"},pinterest:s,linkedin:{count:""}},countV:{twitter:{count:"vertical"},gplus:{count:"",size:"tall"},fbshare:{count:"box_count"},facebook:{count:"box_count"},pinterest:{count:"above"},linkedin:{count:"top"}}},n={is:"is_IS",dk:"dk_DK",pl:"pl_PL",fo:"fo_FO",no:"nn_NO",se:"sv_SE",de:"de_DE",fr:"fr_FR",es:"es_ES",en:"en_US"},m=v.btnDefaults= {twitter:{size:"m",count:"",via:"",related:"",hashtags:"",text:"",$prep:function(){if(this.custom){var a={en:"Tweet this!",is:"Senda \u00e1 Twitter"};this.txt=this.txt||a[this.lang]||a.en}else{var a=!this.count||"horizontal"===this.count,b="vertical"===this.count,c="l"===this.size;this.width=a&&c?"138px":a?"110px":c?"76px":"58px";this.height=c?"28px":b?"62px":"20px"}},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={count}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" />', $tmpl2:'<a onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="tweetit" href="https://twitter.com/intent/tweet?%={via}%={related}%={hashtags}%={text}%={url}%={lang}">{txt}</a>',$pos:20},fbshare:{width:10,count:"button_count",$prep:function(){if(this.custom&&!this.txt){var a={en:"Share on Facebook",is:"Deila \u00e1 Facebook"};this.txt=a[this.lang];this.txt||(this.lang="en",this.txt=a.en)}},$tmpl:'<div class="fb-share-button" data-href="{url}" data-width="{width}" data-type="{count}"/>', $tmpl2:'<a onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="fbshare" href="//www.facebook.com/sharer.php?u=%{url}" class="fbsharebtn">{txt}</a>',$init:function(){m.facebook.$init()},$pos:11},facebook:{width:10,count:"button_count",shareBtn:!1,faces:!1,color:"",verb:"",$tmpl:'<div class="fb-like" data-share="{shareBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-href="{url}" data-colorScheme="{color}"/>', $init:function(){b("#fb-root")[0]||b("body").prepend('<div id="fb-root"/>');p("//connect.facebook.net/"+(n[this.lang]||n.en)+"/all.js#xfbml=1",function(){k.FB&&k.FB.XFBML.parse()})},$pos:10},gplus:{count:"",size:"medium",$prep:function(){if(this.custom){var a={en:"Share on Google+",is:"Deila \u00e1 Google+"};this.txt=this.txt||a[this.lang]||a.en}else this.count=this.count?' data-annotation="'+this.count+'"':""},$tmpl:'<div class="g-plusone" data-size="{size}"{count} data-href="{url}"/>',$tmpl2:'<a href="https://plus.google.com/share?url=%{url}" class="gplusbtn" onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="gpluswin">{txt}</a>', $init:function(){p("//apis.google.com/js/platform.js",function(){k.gapi&&k.gapi.plusone.go()})},$pos:30},linkedin:{count:"right",$prep:function(){this.count=this.count?' data-counter="'+this.count+'"':""},$tmpl:'<script type="IN/Share" data-url="{url}"{count} data-showzero="true"/>',$init:function(a){p("//platform.linkedin.com/in.js",null,"lang: "+(n[a.lang]||n.en))},$pos:50},pinterest:{imgsrc:"",count:"beside",imgSelector:".pgmain img",custom:!1,txt:"Pin it",$prep:function(){this.imgsrc||(this.imgsrc= this.imgSelector&&b(this.imgSelector).attr(this.imgSrcAttr||"src")||b('meta[property="og:image"]').attr("content")||b("img").attr("src"),/^(https?:)?\/\//.test(this.imgsrc)||(this.imgsrc=q.protocol+"//"+q.host+"/"+this.imgsrc.replace(/^\//,"")))},$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" data-pin-do="buttonPin" data-pin-config="{count}" lang="en">{txt}</a>',$tmpl2:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pinitbtn" onclick="window.open(this.href,null,\'toolbar=0,status=0,width=626,height=436\');return false;" target="pinitwin" lang="en">{txt}</a>', $init:function(){p("https://assets.pinterest.com/js/pinit.js",void 0,void 0,!0)},$pos:40}};m.fbshare2=b.extend({},m.fbshare,{custom:1});var w={},p=function(a,f,c,g){var e=w[a];g||!e?(w[a]=e=e||{},clearTimeout(e.s),e.s=setTimeout(function(){b("<script/>").attr("src",a).html(c||"").each(function(){b("head")[0].appendChild(this)}).on(u,function(){if(!this.readyState||/^(loaded|complete)$/.test(this.readyState))e.loaded=1,f&&(clearTimeout(e.t),e.t=setTimeout(f,g?0:300)),b(this).off(u)})},g?300:0)):f&& e.loaded&&(clearTimeout(e.t),e.t=setTimeout(f,300))}})(jQuery,window,document.location,encodeURIComponent,"load readystatechange");
