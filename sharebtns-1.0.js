/* $.fn.sharebtns 1.0  -- (c) 2012-2014 Hugsmiðjan ehf.  @preserve */
!function(t,e,n,o){"use strict";var r,i,a=t.jQuery,s=a.fn.sharebtns=function(t){r=r||a("html").attr("lang").substr(0,2)||"en";var e=[],o=this.eq(0);return o[0]&&(t=a.extend(!0,{},l,t),i=i||a("<a/>")[0],a.each($,function(o,s){var l=t[o];if(l){var c=t[o]=a.extend({custom:t.custom,url:t.url,lang:r,source:t.source,sourceSel:t.sourceSel,title:t.title,titleSel:t.titleSel,description:t.description,descriptionSel:t.descriptionSel},s);a.each(u,function(e,n){n=n[o],t[e]&&n&&a.extend(c,n)}),a.isPlainObject(l)&&a.extend(c,l),i.href=c.url,c.url=i.href,c.$pos="number"==typeof l?l:c.$pos||0,c.$prep&&c.$prep(t);var p=(c.custom&&c.$tmpl2||c.$tmpl).replace(/(%=?)?\{(.+?)\}/g,function(t,e,o){var r=c[o];return r=null==r?"":r,e?"%"===e?n(r):r?o+"="+n(r)+"&amp;":"":r});t.wrap&&(p="<"+t.wrap+' class="'+(t.wrapClassPrefix||"")+o+'">'+p+"</"+t.wrap+">"),p=a(t.process?t.process(p,o,c):p),p.$pos=c.$pos,e.push(p),!c.custom&&c.$init&&setTimeout(function(){c.$init(p,t)},0)}}),e=a.map(e.sort(function(t,e){var n=t.$pos-e.$pos;return n>0?1:n<0?-1:0}),function(t){return t.toArray()}),o[t.insertion](e)),this.pushStack(e)},l=s.defaults={twitter:!0,facebook:!0,insertion:"append",url:a('link[rel="canonical"]').prop("href")||e.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,"")},c={count:"none"},u={large:{twitter:{size:"l"},gplus:{size:""}},countNone:{gplus:c,fbshare:{count:"button"},pinterest:c,linkedin:{count:""},tumblr:c},countV:{gplus:{count:"",size:"tall"},fbshare:{count:"box_count"},facebook:{count:"box_count"},pinterest:{count:"above"},linkedin:{count:"top"},tumblr:{count:"top"}}},p={is:"is_IS",dk:"dk_DK",pl:"pl_PL",fo:"fo_FO",no:"nn_NO",se:"sv_SE",de:"de_DE",fr:"fr_FR",es:"es_ES",en:"en_US"},m=function(t,e){return p[t]||p[e||"en"]},d=function(t,e,n){return t[n||"txt"]||e[t.lang]||e.en},h=function(t){return t.source||a(t.sourceSel).text()||a(".brand > a").text()||a(".brand img.logo").attr("alt")},f=function(t){return t.title||a(t.titleSel).text()||a('meta[property="og:title"]').attr("content")||a("h1:first").text()||document.title},b=function(t){return t.description||a(t.descriptionSel).text()||a('meta[property="og:description"]').attr("content")||a('meta[name="description"]').attr("content")},g=" onclick=\"window.open(this.href,null,'toolbar=0,status=0,width=626,height=436');return false;\" target=",w="<a"+g+'"fbshare" role="button" href="//www.facebook.com/sharer.php?u=',$=s.btnDefaults={twitter:{size:"m",$prep:function(){var t=this;if(t.text=t.text||f(t)+"\n",t.custom)t.txt=d(t,{en:"Tweet this!",is:"Senda á Twitter"});else{var e="l"===t.size;t.width=e?"78px":"62px",t.height=e?"28px":"20px"}},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" title="Twitter Tweet Button" />',$tmpl2:"<a"+g+'"tweetit" class="twitterbtn" role="button" href="https://twitter.com/intent/tweet?%={via}%={related}%={hashtags}%={text}%={url}%={lang}">{txt}</a>',$pos:20},fbshare:{width:10,count:"button_count",$prep:function(){var t=this;t.custom&&!t.txt&&(t.txt=d(t,{en:"Share on Facebook",is:"Deila á Facebook"}))},$tmpl:'<div class="fb-share-button" data-href="{url}" data-width="{width}" data-type="{count}"/>',$tmpl2:w+'%{url}" class="fbsharebtn">{txt}</a>',$init:function(){$.facebook.$init.call(this)},$pos:11},facebook:{width:10,count:"button_count",shareBtn:!1,faces:!1,custom:!1,$tmpl:'<div class="fb-like" data-share="{shareBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-href="{url}" data-colorScheme="{color}"/>',$init:function(){a("#fb-root")[0]||a("body").prepend('<div id="fb-root"/>'),S("//connect.facebook.net/"+m(this.lang,"en")+"/sdk.js#xfbml=1&version=v2.0&appId=113869198637480",function(){t.FB&&t.FB.XFBML.parse()}).attr("id","facebook-jssdk")},$pos:10},gplus:{count:"",size:"medium",$prep:function(){var t=this;t.custom?t.txt=d(t,{en:"Share on Google+",is:"Deila á Google+"}):t.count=t.count?' data-annotation="'+t.count+'"':""},$tmpl:'<div class="g-plusone" data-size="{size}"{count} data-href="{url}"/>',$tmpl2:'<a href="https://plus.google.com/share?url=%{url}" role="button" class="gplusbtn"'+g+'"gpluswin">{txt}</a>',$init:function(){S("//apis.google.com/js/platform.js",function(){t.gapi&&t.gapi.plusone.go()})},$pos:30},email:{$prep:function(){var t=this,e=f(t);t.txt=d(t,{en:"Share by e-mail",is:"Deila í tölvupósti"}),t.subject=d(t,{en:"Look at this!",is:"Kíktu á þetta!"},"subject"),t.body=(t.body?t.body+"\n\n":"")+(e?e+"\n":"")+t.url+"\n\n"},$tmpl:'<a href="mailto:?body=%{body}&amp;subject=%{subject}" class="emailbtn" title="{txt}">{txt}</a>'},linkedin:{count:"right",$prep:function(){var t=this;t.custom?(t.txt=d(t,{en:"Share on LinkedIn",is:"Deila á LinkedIn"}),t.source=h(t),t.title=f(t),t.description=b(t)):t.count=t.count?' data-counter="'+t.count+'"':""},$tmpl:'<script type="IN/Share" data-url="{url}"{count} data-showzero="true"/>',$tmpl2:'<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%{url}&amp;title=%{title}&amp;summary=%{description}&amp;source=%{source}" class="linkedinbtn"'+g+'"linkedinwin" role="button">{txt}</a>',$init:function(t){S("//platform.linkedin.com/in.js",null,"lang: "+m(t.lang))},$pos:50},pinterest:{count:"beside",txt:"Pin it",imgsrc:"",imgSelector:".pgmain img",$prep:function(){var t=this;t.imgsrc||(t.imgsrc=t.imgSelector&&a(t.imgSelector).attr(t.imgSrcAttr||"src")||a('meta[property="og:image"]').attr("content")||a("img").attr("src"),/^(https?:)?\/\//.test(t.imgsrc)||(t.imgsrc=e.protocol+"//"+e.host+"/"+t.imgsrc.replace(/^\//,"")))},$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" data-pin-do="buttonPin" data-pin-config="{count}" lang="en" role="button">{txt}</a>',$tmpl2:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pinitbtn"'+g+'"pinitwin" lang="en" role="button">{txt}</a>',$init:function(){v("https://assets.pinterest.com/js/pinit.js")},$pos:40},tumblr:{count:"none",color:"blue",txt:"Post",$tmpl:'<a class="tumblr-share-button" data-color="{color}" data-notes="{count}" href="https://www.tumblr.com/share" role="button">{txt}</a>',$tmpl2:'<a class="tumblrbtn" href="https://www.tumblr.com/share/link?url=%{url}"'+g+'"tumblrwin" role="button">{txt}</a>',$init:function(){v("https://secure.assets.tumblr.com/share-button.js")},$pos:50}};$.fbshare2=a.extend({},$.fbshare,{custom:1});var x={},k=300,v=function(t,e,n){S(t,e,n,!0)},S=function(t,e,n,r){var i=x[t];return r||!i?(x[t]=i=i||{elm:a("<script/>")},clearTimeout(i.s),i.s=setTimeout(function(){i.elm.attr("src",t).html(n||"").each(function(){a("head")[0].appendChild(this)}).on(o,function(){var t=this;t.readyState&&!/^(loaded|complete)$/.test(t.readyState)||(i.loaded=1,e&&(clearTimeout(i.t),i.t=setTimeout(e,r?0:k)),a(t).off(o))})},r?k:0)):e&&i.loaded&&(clearTimeout(i.t),i.t=setTimeout(e,k)),i.elm}}(window,document.location,encodeURIComponent,"load readystatechange");
