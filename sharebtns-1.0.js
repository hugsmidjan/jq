// $.fn.sharebtns 1.0  -- (c) 2012 Hugsmiðjan ehf.
(function(t,e,a,o,n){var i,r,s=t.fn.sharebtns=function(e){i=i||t("html").attr("lang").substr(0,2)||"en";var a=[];if(this.length){e=t.extend(true,{},c,e);r=r||t("<a/>")[0];t.each(f,function(n,s){var c=e[n];if(c){var l=e[n]=t.extend({custom:e.custom,url:e.url,lang:i},s);t.each(u,function(a,o){o=o[n];e[a]&&o&&t.extend(l,o)});t.extend(l,c);r.href=l.url;l.url=r.href;l.$pos=typeof c==="number"?c:l.$pos||0;l.$prep&&l.$prep(e);var p=(l.custom&&l.$tmpl2||l.$tmpl).replace(/(%=?)?\{(.+?)\}/g,function(t,e,a){var n=l[a];return!e?n:e==="%"?o(n):n!=null?a+"="+o(n)+"&amp;":""});if(e.wrap){p="<"+e.wrap+" class="+n+">"+p+"</"+e.wrap+">"}p=t(e.process?e.process(p,n,l):p);p.$pos=l.$pos;a.push(p);!l.custom&&l.$init&&setTimeout(function(){l.$init(p,e)},0)}});a=t.map(a.sort(function(t,e){var a=t.$pos-e.$pos;return a>0?1:a<0?-1:0}),function(t){return t.toArray()});this[e.insertion](a)}return this.pushStack(a)},c=s.defaults={twitter:true,facebook:true,insertion:"append",url:t('link[rel="canonical"]').prop("href")||a.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,"")},l={count:"none"},u={dark:{fbshare:{color:"dark"},facebook:{color:"dark"}},large:{twitter:{size:"l"},facebook:{},gplus:{size:""},pinterest:{}},countNone:{twitter:l,facebook:{count:"standard"},gplus:l,pinterest:l},countV:{twitter:{count:"vertical"},facebook:{count:"box_count"},gplus:{count:"",size:"tall"},pinterest:{count:"above"}}},p=" onclick=\"window.open(this.href,null,'toolbar=0,status=0,width=626,height=436');return false;\" target=",h="<a"+p+'"fbshare" href="//www.facebook.com/sharer.php?u=',f=s.btnDefaults={twitter:{size:"m",count:"",via:"",related:"",hashtags:"",text:"",$prep:function(){var t=this;if(t.custom){var e={en:"Tweet this!",is:"Senda á Twitter"};t.txt=t.txt||e[t.lang]||e.en}else{var a=!t.count||t.count==="horizontal",o=t.count==="vertical",n=t.size==="l";t.width=a&&n?"138px":a?"110px":n?"76px":"58px";t.height=n?"28px":o?"62px":"20px"}},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={count}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" />',$tmpl2:"<a"+p+'"tweetit" href="https://twitter.com/intent/tweet?%={via}%={related}%={hashtags}%={text}%={url}%={lang}">{txt}</a>',$pos:10},fbshare:{color:"",$prep:function(){var t=this;if(!t.txt){var e={en:"Share on Facebook",is:"Deila á Facebook"};t.txt=e[t.lang];if(!t.txt){t.lang="en";t.txt=e.en}}t.height="1.818em";t.width=t.width||(t.lang==="is"?"10.2em":"11.2em")},$tmpl:'<iframe data-sharebtns="fbshare" style="width:{width};height:{height};font-size:11px;" allowtransparency="true" frameborder="0" scrolling="no" />',$tmpl2:h+'%{url}" class="fbsharebtn">{txt}</a>',$init:function(t){var e=this,a=t.filter("iframe").add(t.find("iframe")).eq(0).contents()[0];a.write('<!DOCTYPE html><html lang="'+(e.lang||"en")+'">'+'<head><meta charset="UTF-8" /><title>.</title>'+'<link href="https://codecentre.eplica.is/f/fb-share.css" rel="stylesheet" type="text/css" />'+'</head><body class="'+(e.color||"")+'">'+h+o(e.url)+'">'+e.txt+"</a>"+"</body></html>");a.close()},$pos:40},facebook:{width:null,count:"button_count",sendBtn:false,faces:false,color:"",verb:"",custom:false,$prep:function(){var t=this;t.width=t.width||(t.count==="box_count"?85:120)},$tmpl:'<div class="fb-like" data-send="{sendBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-colorscheme="{color}" data-href="{url}" />',$init:function(){if(!t("#fb-root")[0]){t("body").prepend('<div id="fb-root"/>')}g("//connect.facebook.net/"+this.$locale()+"/all.js#xfbml=1",function(){e.FB&&e.FB.XFBML.parse()})},$loc:null,$locs:{is:"is_IS",dk:"dk_DK",pl:"pl_PL",fo:"fo_FO",no:"nn_NO",se:"sv_SE",de:"de_DE"},$locale:function(){var t=this;return t.$loc||(t.$loc=t.$locs[t.lang]||"en_US")},$pos:50},gplus:{count:"",size:"medium",$prep:function(){var t=this;if(t.custom){var e={en:"Share on Google+",is:"Deila á Google+"};t.txt=t.txt||e[t.lang]||e.en}else{t.count=t.count?' data-annotation="'+t.count+'"':""}},$tmpl:'<div class="g-plusone" data-size="{size}"{count} data-href="{url}"/>',$tmpl2:'<a href="https://plus.google.com/share?url=%{url}" class="gplusbtn"'+p+'"gpluswin">{txt}</a>',$init:function(){g("//apis.google.com/js/plusone.js",function(){e.gapi&&e.gapi.plusone.go()})},$pos:20},pinterest:{imgsrc:"",count:"beside",imgSelector:".pgmain img",txt:"Pin it",$prep:function(){var e=this;if(!e.imgsrc){e.imgsrc=e.imgSelector&&t(e.imgSelector).attr(e.imgSrcAttr||"src")||t('meta[property="og:image"]').attr("content")||t("img").attr("src");if(!/^(https?:)?\/\//.test(e.imgsrc)){e.imgsrc=a.protocol+"//"+a.host+"/"+e.imgsrc.replace(/^\//,"")}}},$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" data-pin-do="buttonPin" data-pin-config="{count}" lang="en">{txt}</a>',$tmpl2:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pinitbtn"'+p+'"pinitwin" lang="en">{txt}</a>',$init:function(){m("https://assets.pinterest.com/js/pinit.js")},$pos:30}};f.fbshare2=t.extend({},f.fbshare,{custom:1});var d={},m=function(e){clearTimeout(d[e]);d[e]=setTimeout(function(){t.ajax({dataType:"script",cache:true,url:e})},100)},g=function(e,a){var o=d[e];if(!o){d[e]=o={};t("<script/>").attr("src",e).each(function(){t("head")[0].appendChild(this)}).on(n,function(){var e=this;if(!e.readyState||/^(loaded|complete)$/.test(e.readyState)){o.loaded=1;if(a){clearTimeout(o.timeout);o.timeout=setTimeout(a,100)}t(e).off(n)}})}else if(a&&o.loaded){clearTimeout(o.timeout);o.timeout=setTimeout(a,100)}}})(jQuery,window,document.location,encodeURIComponent,"load readystatechange");
