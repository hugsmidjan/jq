/* $.fn.sharebtns 1.0  -- (c) 2012-2014 Hugsmiðjan ehf.  @preserve */
!function(t,e,n,o){"use strict";var i,a,r=t.jQuery,s=r.fn.sharebtns=function(t){i=i||r("html").attr("lang").substr(0,2)||"en";var e=[],o=this.eq(0);return o[0]&&(t=r.extend(!0,{},c,t),a=a||r("<a/>")[0],r.each(w,function(o,s){var c=t[o];if(c){var u=t[o]=r.extend({custom:t.custom,url:t.url,lang:i,source:t.source,sourceSel:t.sourceSel,title:t.title,titleSel:t.titleSel,description:t.description,descriptionSel:t.descriptionSel},s);r.each(l,function(e,n){n=n[o],t[e]&&n&&r.extend(u,n)}),r.isPlainObject(c)&&r.extend(u,c),a.href=u.url,u.url=a.href,u.$pos="number"==typeof c?c:u.$pos||0,u.$prep&&u.$prep(t);var p=(u.custom&&u.$tmpl2||u.$tmpl).replace(/(%=?)?\{(.+?)\}/g,function(t,e,o){var i=u[o];return i=null==i?"":i,e?"%"===e?n(i):i?o+"="+n(i)+"&amp;":"":i});t.wrap&&(p="<"+t.wrap+' class="'+(t.wrapClassPrefix||"")+o+'">'+p+"</"+t.wrap+">"),p=r(t.process?t.process(p,o,u):p),p.$pos=u.$pos,e.push(p),!u.custom&&u.$init&&setTimeout(function(){u.$init(p,t)},0)}}),e=r.map(e.sort(function(t,e){var n=t.$pos-e.$pos;return n>0?1:0>n?-1:0}),function(t){return t.toArray()}),o[t.insertion](e)),this.pushStack(e)},c=s.defaults={twitter:!0,facebook:!0,insertion:"append",url:r('link[rel="canonical"]').prop("href")||e.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,"")},u={count:"none"},l={large:{twitter:{size:"l"},gplus:{size:""}},countNone:{gplus:u,fbshare:{count:"button"},pinterest:u,linkedin:{count:""},tumblr:u},countV:{gplus:{count:"",size:"tall"},fbshare:{count:"box_count"},facebook:{count:"box_count"},pinterest:{count:"above"},linkedin:{count:"top"},tumblr:{count:"top"}}},p={is:"is_IS",dk:"dk_DK",pl:"pl_PL",fo:"fo_FO",no:"nn_NO",se:"sv_SE",de:"de_DE",fr:"fr_FR",es:"es_ES",en:"en_US"},m=function(t,e){return p[t]||p[e||"en"]},d=function(t,e,n){return t[n||"txt"]||e[t.lang]||e.en},h=function(t){return t.source||r(t.sourceSel).text()||r(".brand > a").text()||r(".brand img.logo").attr("alt")},f=function(t){return t.title||r(t.titleSel).text()||r('meta[property="og:title"]').attr("content")||r("h1:first").text()||document.title},b=function(t){return t.description||r(t.descriptionSel).text()||r('meta[property="og:description"]').attr("content")||r('meta[name="description"]').attr("content")},g=" onclick=\"window.open(this.href,null,'toolbar=0,status=0,width=626,height=436');return false;\" target=",$="<a"+g+'"fbshare" aria-type="button" href="//www.facebook.com/sharer.php?u=',w=s.btnDefaults={twitter:{size:"m",$prep:function(){var t=this;if(t.custom)t.txt=d(t,{en:"Tweet this!",is:"Senda á Twitter"});else{var e="l"===t.size;t.width=e?"78px":"62px",t.height=e?"28px":"20px"}},$tmpl:'<iframe src="//platform.twitter.com/widgets/tweet_button.html?%={size}%={via}%={related}%={hashtags}%={text}%={url}%={lang}" style="width:{width}; height:{height};" allowtransparency="true" frameborder="0" scrolling="no" title="Twitter Tweet Button" />',$tmpl2:"<a"+g+'"tweetit" aria-type="button" href="https://twitter.com/intent/tweet?%={via}%={related}%={hashtags}%={text}%={url}%={lang}">{txt}</a>',$pos:20},fbshare:{width:10,count:"button_count",$prep:function(){var t=this;t.custom&&!t.txt&&(t.txt=d(t,{en:"Share on Facebook",is:"Deila á Facebook"}))},$tmpl:'<div class="fb-share-button" data-href="{url}" data-width="{width}" data-type="{count}"/>',$tmpl2:$+'%{url}" class="fbsharebtn">{txt}</a>',$init:function(){w.facebook.$init.call(this)},$pos:11},facebook:{width:10,count:"button_count",shareBtn:!1,faces:!1,custom:!1,$tmpl:'<div class="fb-like" data-share="{shareBtn}" data-layout="{count}" data-width="{width}" data-show-faces="{faces}" data-action="{verb}" data-href="{url}" data-colorScheme="{color}"/>',$init:function(){r("#fb-root")[0]||r("body").prepend('<div id="fb-root"/>'),k("//connect.facebook.net/"+m(this.lang,"en")+"/sdk.js#xfbml=1&version=v2.0&appId=113869198637480",function(){t.FB&&t.FB.XFBML.parse()}).attr("id","facebook-jssdk")},$pos:10},gplus:{count:"",size:"medium",$prep:function(){var t=this;t.custom?t.txt=d(t,{en:"Share on Google+",is:"Deila á Google+"}):t.count=t.count?' data-annotation="'+t.count+'"':""},$tmpl:'<div class="g-plusone" data-size="{size}"{count} data-href="{url}"/>',$tmpl2:'<a href="https://plus.google.com/share?url=%{url}" aria-type="button" class="gplusbtn"'+g+'"gpluswin">{txt}</a>',$init:function(){k("//apis.google.com/js/platform.js",function(){t.gapi&&t.gapi.plusone.go()})},$pos:30},email:{$prep:function(){var t=this,e=f(t);t.txt=d(t,{en:"Share by e-mail",is:"Deila í tölvupósti"}),t.subject=d(t,{en:"Look at this!",is:"Kíktu á þetta!"},"subject"),t.body=(t.body?t.body+"\n\n":"")+(e?e+"\n":"")+t.url+"\n\n"},$tmpl:'<a href="mailto:?body=%{body}&amp;subject=%{subject}" class="emailbtn" title="{txt}">{txt}</a>'},linkedin:{count:"right",$prep:function(){var t=this;t.custom?(t.txt=d(t,{en:"Share on LinkedIn",is:"Deila á LinkedIn"}),t.source=h(t),t.title=f(t),t.description=b(t)):t.count=t.count?' data-counter="'+t.count+'"':""},$tmpl:'<script type="IN/Share" data-url="{url}"{count} data-showzero="true"/>',$tmpl2:'<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%{url}&amp;title=%{title}&amp;summary=%{description}&amp;source=%{source}" class="linkedinbtn"'+g+'"linkedinwin" aria-type="button">{txt}</a>',$init:function(t){k("//platform.linkedin.com/in.js",null,"lang: "+m(t.lang))},$pos:50},pinterest:{count:"beside",txt:"Pin it",imgsrc:"",imgSelector:".pgmain img",$prep:function(){var t=this;t.imgsrc||(t.imgsrc=t.imgSelector&&r(t.imgSelector).attr(t.imgSrcAttr||"src")||r('meta[property="og:image"]').attr("content")||r("img").attr("src"),/^(https?:)?\/\//.test(t.imgsrc)||(t.imgsrc=e.protocol+"//"+e.host+"/"+t.imgsrc.replace(/^\//,"")))},$tmpl:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pin-it-button" data-pin-do="buttonPin" data-pin-config="{count}" lang="en" aria-type="button">{txt}</a>',$tmpl2:'<a href="http://pinterest.com/pin/create/button/?url=%{url}&amp;media=%{imgsrc}" class="pinitbtn"'+g+'"pinitwin" lang="en" aria-type="button">{txt}</a>',$init:function(){y("https://assets.pinterest.com/js/pinit.js")},$pos:40},tumblr:{count:"right",color:"blue",txt:"Post",$tmpl:'<a class="tumblr-share-button" data-color="{color}" data-notes="{count}" href="https://embed.tumblr.com/share" aria-type="button">{txt}</a>',$init:function(){y("https://secure.assets.tumblr.com/share-button.js")},$pos:50}};w.fbshare2=r.extend({},w.fbshare,{custom:1});var x={},v=300,y=function(t,e,n){k(t,e,n,!0)},k=function(t,e,n,i){var a=x[t];return i||!a?(x[t]=a=a||{elm:r("<script/>")},clearTimeout(a.s),a.s=setTimeout(function(){a.elm.attr("src",t).html(n||"").each(function(){r("head")[0].appendChild(this)}).on(o,function(){var t=this;t.readyState&&!/^(loaded|complete)$/.test(t.readyState)||(a.loaded=1,e&&(clearTimeout(a.t),a.t=setTimeout(e,i?0:v)),r(t).off(o))})},i?v:0)):e&&a.loaded&&(clearTimeout(a.t),a.t=setTimeout(e,v)),a.elm}}(window,document.location,encodeURIComponent,"load readystatechange");
