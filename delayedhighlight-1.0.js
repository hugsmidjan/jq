// encoding: utf-8
// $.fn.delayedHighlight 1.0  -- (c) 2010 Hugsmi√∞jan ehf. 
(function(f){var j=0,k='.dh'+(new Date()).getTime()+'-';f.fn.delayedHighlight=function(b){b=f.extend({},b);var a=this,c=k+(j++);className=b.className||'focused',delegate=b.delegate||'li',evPrefix='highlight';a.bind(evPrefix+'on '+evPrefix+'off',false).delegate(delegate,'mouseleave focusout',function(e){clearTimeout(a.data('timeout'+c))}).delegate(delegate,'mouseenter focusin click',function(i){var d=f(this),g=i.type=='click';if(!g||!(d[0]==(a.data('item'+c)||[])[0]&&f(i.target).closest(b.cancelOff||'a, area, :input',this)[0])){a.data('timeout'+c,setTimeout(function(){var e=f(a.data('item'+c)),h;if(e[0]!=d[0]||g){className&&e.removeClass(className);e.trigger(evPrefix+'off');h=true}if(!g||e[0]!=d[0]){className&&d.addClass(className);d.trigger(evPrefix+'on');a.data('item'+c,d);h=false}h&&a.removeData('item'+c)},g?0:b.delay||500))}});return this}})(jQuery);
