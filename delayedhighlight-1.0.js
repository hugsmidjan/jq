// encoding: utf-8
// $.fn.delayedHighlight 1.0  -- (c) 2010 Hugsmi√∞jan ehf. 
(function(e){var j=0,k='.dh'+(new Date()).getTime()+'-';e.fn.delayedHighlight=function(a){a=e.extend({},a);var b=this,c=k+(j++);className=a.className||'focused',delegate=a.delegate||'li',evPrefix='highlight';b.bind(evPrefix+'on '+evPrefix+'off',false).delegate(delegate,'mouseleave focusout',function(f){clearTimeout(b.data('timeout'+c))}).delegate(delegate,'mouseenter focusin click',function(i){var d=e(this),g=i.type=='click';if(!g||!(d[0]==(b.data('item'+c)||[])[0]&&e(i.target).closest(a.cancelOff||'a, area, :input',this)[0])){b.data('timeout'+c,setTimeout(function(){var f=e(b.data('item'+c)),h;if(f[0]!=d[0]||(g&&a.clickToggles)){className&&f.removeClass(className);f.trigger(evPrefix+'off');h=true}if(!g||f[0]!=d[0]){className&&d.addClass(className);d.trigger(evPrefix+'on');b.data('item'+c,d);h=false}h&&b.removeData('item'+c)},g?0:a.delay||500))}});return this}})(jQuery);