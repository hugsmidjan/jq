/* jQuery.fn.delayedHighlight 1.0  -- (c) 2010-2014 Hugsmi√∞jan ehf.   @preserve */
!function(e,t){e.fn.delayedHighlight=function(i){if(this.length){i=e.extend({className:"focused",delay:500,delayOut:300,onFocus:!0,clickGrace:300,cancelOff:"a, area, :input"},i);var a,o,c,n,l,s,r=this,u=i.className,f="delegate"in i?i.delegate:"li",g=i.holes,h="highlight",d=h+"on",y=h+"off",m="before"+d,v="before"+y,k=h+"-wasclicked",p=i.onFocus,T="mouseover"+(p?" focusin":""),O="mouseout"+(p?" focusout":""),D="isDefaultPrevented",b=clearTimeout,C=i.clickGrace;i.noBubble&&r.on(m+" "+v+" "+d+" "+y,function(e){e.stopPropagation()});var j=function(r){if(g&&e(r.target).closest(g,this)[0])w.call(this,r);else{var f=e(this);b(a),b(o),"m"===r.type.charAt(0)&&(n=this),a=setTimeout(function(){var e,i=c&&c[0];f[0]!==i&&(e=jQuery.Event(m),e.fromTarget=i,f.trigger(e),e[D]()||(c&&c.removeClass(u).trigger(y),c=f,f.addClass(u).trigger({type:d,fromTarget:i}),C&&(s=f[0],b(l),l=setTimeout(function(){s=t},C))))},r.delay||"focusin"===r.type&&i.focusDelay||i.delay)}},w=function(e){var l="click"===e.type;b(a),b(o),(!i.sticky||l)&&("m"===e.type.charAt(0)&&(n=t),o=setTimeout(function(){if(c&&c[0]!==n||l){var e=jQuery.Event(v);c.trigger(e),e[D]()||(c.removeClass(u).trigger(y),c=t)}},e.delay||"focusout"===e.type&&i.focusDelayOut||i.delayOut))},Q=function(a,o){var n="highlightOn"!==o&&c&&this===c[0]?"highlightOff"===o||i.clickToggles&&this!==s&&!e(a.target).closest(i.cancelOff||"")[0]?w:t:j;n&&n.call(this,{type:"click",delay:1})},A=function(){if(!c||this!==c[0]){var t=e(this);t.data(k,!0),clearTimeout(t.data(k+"to")),t.data(k+"to",setTimeout(function(){t.removeData(k)},i.delay))}};f?r.on(T,f,j).on(O,f,w):r.on(T,j).on(O,w),i.click?f?r.on("click",f,Q):r.on("click",Q):i.clickCancels&&(f?r.on("click",f,A):r.on("click",A),r.on(m,function(t){var i=e(t.target);i.data(k)&&(t.preventDefault(),i.removeData(k))}))}return this}}(window.jQuery);
