// encoding: utf-8
// $.fn.bigimgSwitcher 1.0 -- (c) 2012 HugsmiÃ°jan ehf. 
(function(b){b.fn.bigimgSwitcher=function(a){a=b.extend({itemSelector:'li',cloneSelector:'>*',currentClass:'current',bigimgTmpl:'<div class="bigimage"><a class="img"/></li>',insertion:'before',bigSrc:'data-medimg',bigimgReplace:'.img',hideSingles:true},a);return this.each(function(){var c=b(this),h=c.find(a.itemSelector),g=b(a.bigimgTmpl),e,i=function(j){j&&j.preventDefault();if(e!=this){var f=b(this),d=f.find(a.cloneSelector).clone(),k=b.isFunction(a.bigSrc)?a.bigSrc(d):d.attr(a.bigSrc);if(k){var l=d.is('img')?d:d.find('img');l.attr('src',k)}f.addClass(a.currentClass);e&&b(e).removeClass(a.currentClass);e=f[0];g.find(a.bigimgReplace).replaceWith(d);c.trigger('newbigimg',[{cfg:a,item:f,bigimg:g}])}};b(!a.insertElm?c:a.insertElm.charAt?c.find(a.container):a.insertElm)[a.insertion](g);c.on('click.makeBig',a.itemSelector,i);c.find(a.itemSelector).first().each(i);if(a.hideSingles&&h.length==1){h.remove()}})}})(jQuery);
