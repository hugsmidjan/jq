/* jQuery.fn.treeCollapse v 2.0  -- (c) 2009 Hugsmiðjan ehf.  @preserve */
!function(p){p.fn.treeCollapse=function(r){r=p.extend({rootClass:"tree-active",branch:"li:has(>ul)",toggler:"> a",openClass:"open",closedClass:"closed",leaf:"li",parentClass:"parent",selectClass:"selected",doSelect:0,startOpen:".parent, .selected, .open",togglerInt:"> a.expand",togglerHtml:'<a class="expand" href="#"></a>',togglerPlus:"+",togglerMinus:"-",doTogglers:0},r);var e={en:{plusTitle:"Show sub-items",minusTitle:"Hide sub-items"},is:{plusTitle:"Birta undirlínur",minusTitle:"Fela undirlínur"}},t=(this.closest("[lang]").attr("lang")||"en").substr(0,2),s=e[t]||e.en;e=t=void 0;var l=!r.branch;l&&this.aquireId();var n=r.branch,a=r.openClass,i=r.closedClass,o=r.parentClass,d=r.selectClass,g=r.togglerInt,c=r.togglerPlus,u=r.togglerMinus,f=s.plusTitle,h=s.minusTitle,C=r.doTogglers;return this.addClass(r.rootClass).if_(r.doSelect).each(function(){var l=p(this),a=p(l).find(r.leaf+"."+d).eq(0);p(l).on("click",function(e){var t=p(e.target).closest(r.leaf);if(t[0]&&t[0]!==a[0]){var s=n||"#"+l.id;a.length&&a.removeClass(d).parents(s).removeClass(o),(a=t).addClass(d).parents(s).addClass(o)}})}).end().each(function(){var l=n||"#"+this.id;p(this).on("click",function(e){if(p(e.target).closest(l+" "+r.toggler)[0]){var t=p(e.target).closest(l),s=t.hasClass(i);return p(this).trigger("Branch"+(s?"Open":"Close"),{branch:t[0]}),t.toggleClasses(a,i).if_(C).find(g).attr("title",s?h:f).text(s?u:c),!1}})}),(l?this:this.find(n)).if_(C).prepend(p(r.togglerHtml).attr("title",f).text(c)).end().addClass(i).filter(r.startOpen).removeClass(i).addClass(a).if_(C).find(g).attr("title",h).text(u),this}}(jQuery);
