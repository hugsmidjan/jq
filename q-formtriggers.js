// $.fn.formTriggers -- (c) 2014 Hugsmi√∞jan ehf.
(function(c){var h={triggerSel:'.trigger',subreqClass:'subreq',showFunc:'fadeIn',showSpeed:'fast',hideFunc:'hide',hideSpeed:0,closedClass:'closed'},f=function(d,a){if(d){d=d.split(/\s+/);c.each(d,function(g){var b=d[g].split('-'),e=b.pop();b=b.join('-');if(e=='open'){c('#'+b)[a.showFunc](a.showSpeed).find('.'+a.subreqClass).addBack().filter('.'+a.subreqClass).addClass('req')}else{c('#'+b)[a.hideFunc](a.hideSpeed).find('.'+a.subreqClass).addBack().filter('.'+a.subreqClass).removeClass('req')}})}};c.fn.formTriggers=function(d){var a=c.extend(h,d);return this.each(function(){c(this).find('.'+a.closedClass).hide().find('.req').addBack().filter('.req').removeClass('req').addClass(a.subreqClass);c(this).find(a.triggerSel).each(function(){var e=c(this);e.on('change.formtriggers','input:radio',function(g){f(e.find('input:checked').attr('data-trigger'),a)}).on('change.formtriggers','input:checkbox',function(g){var b=c(this);if(b.is('.inverse')){f(b.attr('data-trigger')+'-'+(b.is(':checked')?'close':'open'),a)}else{f(b.attr('data-trigger')+'-'+(b.is(':checked')?'open':'close'),a)}}).on('change.formtriggers','select',function(g){f(e.find('option:selected').attr('data-trigger'),a)}).find('select, input:checked, .inverse:checkbox').trigger('change.formtriggers')})})}})(jQuery);
