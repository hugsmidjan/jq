// $.fn.formTriggers -- (c) 2014 Hugsmi√∞jan ehf.
(function(b){var h={triggerSel:'.trigger',subreqClass:'subreq',showFunc:'fadeIn',showSpeed:'fast',hideFunc:'hide',hideSpeed:0,closedClass:'closed'},g=function(d,a){if(d){d=d.split(/\s+/);b.each(d,function(f){var c=d[f].split('-'),e=c.pop();c=c.join('-');if(e=='open'){b('#'+c)[a.showFunc](a.showSpeed).find('.'+a.subreqClass).removeClass(a.subreqClass).addClass('req')}else{b('#'+c)[a.hideFunc](a.hideSpeed).find('.req').removeClass('req').addClass(a.subreqClass)}})}};b.fn.formTriggers=function(d){var a=b.extend(h,d);return this.each(function(){b(this).find('.'+a.closedClass).hide().find('.req').removeClass('req').addClass(a.subreqClass);b(this).find(a.triggerSel).each(function(){var e=b(this);e.on('change.formtriggers','input:radio',function(f){g(e.find('input:checked').attr('data-trigger'),a)}).on('change.formtriggers','input:checkbox',function(f){var c=b(this);g(c.attr('data-trigger')+'-'+(c.is(':checked')?'open':'close'),a)}).on('change.formtriggers','select',function(f){g(e.find('option:selected').attr('data-trigger'),a)}).find('select, input:checked').trigger('change.formtriggers')})})}})(jQuery);
