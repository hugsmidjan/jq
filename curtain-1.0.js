jQuery(function($){$.curtain=function(a,c){a=$.extend({className:'curtain-overlay'},typeof(a)=='string'?{className:a}:typeof(a)=='boolean'&&a?{bgcol:'#888',opacity:.5}:a);var d=$(c||'<div />').remove().addClass(a.className).css({position:'absolute',top:0,left:0}).hide().bind('click',function(e){e.stopPropagation();return false}),w=$(window),b=$(document.body),_0=function(e){if(d.parent()){var s=d[0].style;if($.browser.msie){s.width=s.height='0'}s.width=Math.max(w.width(),b.innerWidth())+'px';s.height=Math.max(w.height(),b.innerHeight())+'px'}};if(a.bgcol){d.css({backgroundColor:a.bgcol,opacity:a.opacity})}w.bind('resize',_0);$(_0);return d};$.fn.curtain=function(a){return this.each(function(){$.curtain(a,this)})}});
