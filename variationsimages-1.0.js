// $.fn.variationsImages 1.0 -- (c) 2013 HugsmiÃ°jan ehf.
!function(t){var a="variationimages-",i;t.fn.variationsImages=i=function(r){r=t.extend({},i.defaults,r);this.addClass(r.containerClass).on("variationchanged",function(i,s){s=s===""?null:s;var e=t(this),l=e.find(r.itemSelector),n=[],d=l.filter(function(){var i=t(this),e=i.attr(r.varAttr),l=e?t.inArray(s,e.split(r.varDelim))>-1:s==null;e&&n.push(i[0]);i.toggleClass(r.disabledClass,!l);if((r.activateAll||l)&&!i.data(a+"init")){i.data(a+"init",true);r.onFirstActivate&&r.onFirstActivate(i)}return l});if(!d[0]&&s!=null){t(n).removeClass(r.disabledClass)}if(r.clickFirstImg&&(d[0]||e.data(a+"first"))){e.data(a+"first",true);t(d[0]||n[0]).trigger("click")}});return this};i.defaults={itemSelector:">*",containerClass:"variated",disabledClass:"disabled",varAttr:"data-forvariation",varDelim:"|",onFirstActivate:function(a){if(!a.is(".image")){var i=a.find("a");a.addClass("image");i.addClass("img");t("<img/>").attr({src:i.attr("data-img"),alt:i.text()}).appendTo(i.empty())}},initAll:false,clickFirstImg:!!t.fn.bigimgSwitcher}}(jQuery);
