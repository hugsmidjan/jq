// $.fn.variationsImages 1.0 -- (c) 2013 HugsmiÃ°jan ehf.
!function(t){var a="variationimages-",i;t.fn.variationsImages=i=function(r){r=t.extend({},i.defaults,r);this.addClass(r.containerClass).on("variationchanged",function(i,s){s=s===""?null:s;var e=t(this),n=e.find(r.itemSelector),l=[],c=n.filter(function(){var i=t(this),e=i.attr(r.varAttr),n=e?t.inArray(s,e.split(r.varDelim))>-1:s==null;!e&&l.push(i[0]);i.toggleClass(r.activeClass,n);if(n&&!i.data(a+"init")){i.data(a+"init",true);r.onFirstActivate&&r.onFirstActivate(i)}return n});if(!c[0]){t(l).addClass(r.activeClass)}if(r.clickFirstImg&&(c[0]||e.data(a+"first"))){e.data(a+"first",true);t(c[0]||l[0]).trigger("click")}});return this};i.defaults={itemSelector:">*",containerClass:"variated",activeClass:"active",varAttr:"data-forvariation",varDelim:"|",onFirstActivate:function(a){if(!a.is(".image")){var i=a.find("a");a.addClass("image");i.addClass("img");t("<img/>").attr({src:i.attr("data-img"),alt:i.text()}).appendTo(i.empty())}},clickFirstImg:!!t.fn.bigimgSwitcher}}(jQuery);
