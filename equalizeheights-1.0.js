// encoding: utf-8
// $.fn.equalizeHeights 1.0  -- (c) 2009 Hugsmi√∞jan ehf. 
(function(c,s){var t=!!(c.browser.msie&&(parseInt(c.browser.version,10)<7||document.compatMode=='BackCompat')),l=(t)?'height':'min-height',n,u=0,f=[],i=[],m,o,p=function(g){if(!m){clearTimeout(o);o=setTimeout(q,100)}},q=function(g){m=1;var d=f.length;while(d--){r(f[d],i[d].margins)}setTimeout(function(){m=0},0)},r=function(e,k){var a=e.filter(':visible');if(a.length){var b=0,j=[];a.each(function(g){var d=c(this);d.css(l,'');var h=d.outerHeight(!!k);j[g]=h-d.height();b=Math.max(h,b)}).each(function(g){c(this).css(l,b-j[g]+.5)}).triggerHandler('equalizeheights',b);document.body.className+=''}};c.fn.equalizeHeights=function(a){var b=this;if(a=='destroy'){b.each(function(g){var d=c(this),h=d.data('eqh_setsIdx'),e=f[h];if(e){var k=e.index(this);if(k>-1){d.removeData('eqh_setsIdx').css(l,'');[].splice.call(e,k,1);f[h]=e;if(e.length==1&&b[g+1]!=e[0]){e.equalizeHeights('destroy')}else if(!e.length){f=f.splice(h,1);i=i.splice(h,1)}if(!f.length){c(window).unbind('.eqh')}}}})}else if(b.length>1){{var j=b.data('eqh_setsIdx');a=a=='refresh'?i[j]:a&&a.$$done?a:c.extend({$$done:1},(typeof a=='boolean')?{margins:a}:a||{});if(a){if(!a.onceOnly){if(j==s){b.data('eqh_setsIdx',u++);f.push(b);i.push(a)}if(!n){n=1;c(window).bind('resize.eqh',p).bind('load fontresize.eqh',q)}}r(b,a.margins)}}}return b};c.equalizeHeights=p})(jQuery);
