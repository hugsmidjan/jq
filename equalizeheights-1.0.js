// $.fn.equalizeHeights 1.0  -- (c) 2009 Hugsmi√∞jan ehf.
(function(c,t){var u=!!(c.browser.msie&&(parseInt(c.browser.version,10)<7||document.compatMode==='BackCompat')),m=(u)?'height':'min-height',o,k=0,f=[],i=[],n,p,q=function(){if(!n){clearTimeout(p);p=setTimeout(r,100)}},r=function(){n=1;var e=f.length;while(e--){s(f[e],i[e].margins)}setTimeout(function(){n=0},0)},s=function(d,l){var a=d.filter(':visible');if(a.length){var b=0,j=[];a.each(function(e){var h=c(this);h.css(m,'');var g=h.outerHeight(!!l);j[e]=g-h.height();b=Math.max(g,b)}).each(function(e){c(this).css(m,b-j[e]+0.5)}).triggerHandler('equalizeheights',b);document.body.className+=''}};c.fn.equalizeHeights=function(a){var b=this;if(a==='destroy'){b.each(function(e){var h=c(this),g=h.data('eqh_setsIdx'),d=f[g];if(d){var l=d.index(this);if(l>-1){h.removeData('eqh_setsIdx').css(m,'');[].splice.call(d,l,1);f[g]=d;if(d.length===1&&b[e+1]!==d[0]){d.equalizeHeights('destroy')}else if(!d.length){f=f.splice(g,1);i=i.splice(g,1)}if(!f.length){c(window).unbind('.eqh')}}}})}else if(b.length>1){var j=b.data('eqh_setsIdx');a=a==='refresh'?i[j]:a&&a.$$done?a:c.extend({$$done:1},(typeof a==='boolean')?{margins:a}:a||{});if(a){if(!a.onceOnly){if(j===t){f[k]=b;i[k]=a;b.data('eqh_setsIdx',k);k++}if(!o){o=1;c(window).bind('resize.eqh',q).bind('load fontresize.eqh',r)}}s(b,a.margins)}}return b};c.equalizeHeights=q})(jQuery);
