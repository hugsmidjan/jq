/*! $.fn.autoValidate/.defangEnter/.defangReset  1.0  -- (c) 2009-2014 Hugsmiðjan ehf.  @preserve */
!function(y){y.fn.addBack=y.fn.addBack||y.fn.andSelf;var a="tmp_"+(new Date).getTime(),r=0,i={lang:"en",maxLabelLength:35,errorAction:"focus",focusElmClass:"stream",formInvalidClass:"is-invalid",submittedClass:"issubmitted",validateEachField:"",errorMsgType:"alertonly",inlineErrorClass:"errmsg",nextErrorLinkClass:"nexterror",customReqCheck:{},reqClassPattern:"req",reqErrorClass:"reqerror",typeErrorClass:"typeerror",defangReset:!0,defangEnter:"auto",consumeRequired:!0,consumeMinlength:!0};y.extend({av:{lang:{en:{bullet:" • ",errorReqMsg:"Please fill out these fields:\n\n",errorTypeMsg:"These fields contain invalid input:\n\n",inlineMsgPrefix:"Error:",inlineReqMsg:"This field is required ",inlineTypeMsg:"This field contains an invalid value ",inlineNextError:"Next error",resetAlert:"Note: You are about to reset all values in the form..."}},id:function(e){var t=(e=y(e)).attr("id");return t||e.attr("id",a+"_"+r++).attr("id")},cleanLabelString:function(e,t){return e?(t=t||35,(e=e.replace(/\s\s+/g," ").replace(/ - /g,", ").replace(/\[/g,"(").replace(/\]/g,")").replace(/\([^)]+\)/g,"").replace(/[\s*:#]+$/,"").replace(/^[\s*#]+/,"")).length>t+2&&(e=e.substr(0,t-2).replace(/[.,:;\s]+$/,"")+"..."),e):""},getLabel:function(e,t,a){var r=e.find(":input:first"),n=r.data("av-labeltext");if(!n){n=y.av.cleanLabelString(r.attr("title"),a.maxLabelLength);var i=r.attr("id");if(!n&&i){var s=r.closest("form").find("label[for="+i+"]").text()||r.parent("label").text()||e.find("label").eq(0).text();n=y.av.cleanLabelString(s,a.maxLabelLength)}if(e.is("fieldset")&&e.find('input[name="'+r.attr("name")+'"]')[1]){var o=e.find(":header,legend,p").eq(0).text()||e.attr("title");n=o?y.av.cleanLabelString(o,a.maxLabelLength):n}n||(n=r.attr("name"));var l=t.find("fieldset:has(#"+y.av.id(e)+"):last"),c=l.children(":header,legend,p").eq(0);c.length&&(n+=" ["+y.av.cleanLabelString(c.text()||l.attr("title"),a.maxLabelLength)+"]"),y(r).data("av-labeltext",n)}return n},getText:function(e,t){return y.av.getError(e,t)||y.av.getError(e,"en")||""},getError:function(e,t){return y.av.lang[t]&&y.av.lang[t][e]||""},config:function(e,t){var a=y(e),r=y(a.closest("form")[0]||a.find("form")[0]);return t?r.data("av-config",t):(t=r.data("av-config"))||(t=y.extend({},i),r.data("av-config",t)),t},addInlineLabels:function(n){var i=y.av.config(n[0]);y.each(n,function(e){var t=y(this),a=t.closest("[lang]").attr("lang");t.attr("lang",a);var r=y.av.getText("inlineReqMsg",a);t.is("."+i.typeErrorClass)&&(r=t.data("av-error")||y.av.getText("inlineTypeMsg",a)),t.prepend('<strong class="'+i.inlineErrorClass+'">'+r+"</strong>"),e<n.length-1&&t.append('<a href="#'+y.av.id(n[e+1])+'" class="'+i.nextErrorLinkClass+'">'+y.av.getText("inlineNextError",a)+"</a>")})},alertErrors:function(e,r){var n=y.av.config(e[0]),t=y(e[0]).closest("[lang]").attr("lang");y(e[0]).attr("lang",t);var i=[],s=[],a="";y.each(e,function(){var e=y(this),t=y.av.getLabel(e,r,n),a=e.data("av-error-short");a&&(t+=" ("+a+")"),y(this).is("."+n.typeErrorClass)?s.push(t):i.push(t)});var o=y.av.getText("bullet",t);i.length&&(a+=y.av.getText("errorReqMsg",t)+o+i.join("\n"+o)),s.length&&(a+="\n\n",a+=y.av.getText("errorTypeMsg",t)+o+s.join("\n"+o)),alert(y.trim(a))},focusNext:function(e){var t=y(":input").get();t=t.sort(function(e,t){var a=0<e.tabIndex?e.tabIndex:99999,r=0<t.tabIndex?t.tabIndex:99999;return-1*(a<r)+1*(r<a)});for(var a=y.inArray(e,t);t[++a]&&-1===t[a].tabIndex;);var r=y(t[a]||t[0]);return setTimeout(function(){r.trigger("focus")},1),r}}});var e=function(e){return!!e},t=function(){var e=y(this),t=e.closest("form").find('input[name="'+e.attr("name")+'"]:checked');return!(!t[0]||t.is(":radio")&&!t.filter(function(){return!!y(this).val()})[0])};y.extend(y.av,{type:{fi_btn:function(){return!0},fi_txt:e,fi_sel:e,fi_bdy:e,fi_file:e,fi_chk:t,fi_rdo:t}}),function(s){s.fn.constrainNumberInput=function(e){var t=(e=e?e.charAt?{selector:e}:e:{}).selector,a=this;return e.arrows&&(t?a.on("keydown",t,r).on("focusin",t,n):a.on("keydown",r).on("focusin",n)),t?a.on("keypress",t,u(e.floats)).on("keyup",t,i):a.on("keypress",u(e.floats)).on("keyup",i),a};var o="cni_focused",l="cni_changed",c=function(e){var t=e.value;return t="object"==typeof s.prettyNum?s.prettyNum.read(t,s(e).closest("[lang]").attr("lang")||"en"):t,parseFloat(t)},r=function(e){var t=this,a=38===e.which?1:40===e.which?-1:0;if(t.autocomplete="off",a){a=a*(t.step||1)*(e.shiftKey?10:1);var r=c(t),n=f(t,(r||0)+a);if(r!==n){t.value=n;var i=s(t);i.data(o)?i.data(l,!0):i.trigger("change")}}},n=function(){var e=s(this);e.data(o,!0).off(".cni").one("change.cni",function(){e.removeData(o).removeData(l).off("focusout.cni")}).one("focusout.cni",function(){setTimeout(function(){e.data(o)&&e.data(l)&&e.removeData(o).trigger("change"),e.removeData(l)},100)})},a={44:1,45:1,46:1},f=function(e,t){var a,r;return e.min&&!isNaN(a=parseFloat(e.min))&&t<a?a:e.max&&!isNaN(r=parseFloat(e.max))&&r<t?r:t},i=function(){var e=this,t=e.value;if(t){t=c(e);var a=f(e,t||0);t!==a&&(e.value=a,s(e).trigger("keyup.outofbounds"))}},u=function(t){return function(e){e.ctrlKey||e.metaKey||!e.which||8===e.which||13===e.which||!(e.which<48||57<e.which)||t&&a[e.which]||e.preventDefault()}}}(jQuery),y.fn.extend({defangReset:function(){return this.on("click",function(){var e=y(this),t=e.closest("[lang]").attr("lang")||"en";return e.attr("lang",t),!!confirm(y.av.getText("resetAlert",t))&&("reset"!==e.attr("type")&&e.closest("form").trigger("reset"),!0)})},defangEnter:function(){return this.on("keydown",function(e){var t=e.target;return 13!==e.which||"INPUT"!==t.tagName||/^(button|reset|submit)$/i.test(t.type)})},autoValidate:function(a){return this.each(function(){var e=y(this),n=y(e.closest("form")[0]||e.find("form")[0]);if(!n.length)return!1;var t=y.extend({},i,a);y.av.config(this,t),t.defangReset&&n.find(":reset").defangReset(t),(!t.emulateTab&&!0===t.defangEnter||"true"===t.defangEnter||"auto"===t.defangEnter&&1<y(":submit",n).length)&&n.defangEnter(),t.emulateTab&&n.on("keydown",function(e){if(13===e.keyCode&&y(e.target).is(":input:not(:button):not(:reset):not(:submit):not(textarea)"))return y.av.focusNext(e.target),!1}),t.maxLengthTab&&n.on("keyup",function(e){var t=y(e.target),a=e.which;0<a&&8!==a&&9!==a&&13!==a&&16!==a&&17!==a&&t.attr("maxlength")===t.val().length&&y.av.focusNext(e.target)}),t.consumeRequired&&e.find("[required]").each(function(){var e=y(this).closest('[class^="fi_"], [class*=" fi_"]');e.length&&(e.addClass(t.reqClassPattern),y(this)[0].required=!1)}),t.consumeMinlength&&e.find("[minlength]").each(function(){y(this).closest('[class^="fi_"], [class*=" fi_"]').length&&(y(this).attr("data-minlength",y(this).attr("minlength")),y(this).removeAttr("minlength"))}),"change"===t.validateEachField&&"inlineonly"===t.errorMsgType&&n.on("change",function(e){y(e.target).isValid()}),n.on("submit",function(e){var t=y(this);if(!t.data("av.skip")||t.data("av.disabled")){var a=y.av.config(this),r=t.isValid();return r?t.addClass(a.submittedClass):e.preventDefault(),n.trigger({type:"autovalidateSubmit",isValid:r}),r}t.removeData("av.skip")})})},isValid:function(m){m=!(!m&&null!=m);var a=[],r="",n=!1;this.each(function(){var e=y(this),v=[],p=y.av.config(this);if(n=n||/both|alertonly/.test(p.errorMsgType),m){var t=e.is(":input")?e.parent():e;r=r||"strong."+p.inlineErrorClass+", a."+p.nextErrorLinkClass,t.find(r).remove()}(e.is(":input")?e:e.find(":input")).not(p.includeDisabled?"":":disabled").not(':submit,:reset,:button,[type="hidden"]').each(function(){var e=y(this),t="checkbox"===this.type?{fi_chk:y.av.type.fi_chk}:"radio"===this.type?{fi_rdo:y.av.type.fi_rdo}:{fi_txt:y.av.type.fi_txt},a=e.closest('[class^="fi_"], [class*=" fi_"]'),r=a.closest("[lang]").attr("lang"),n=a.hasClass(p.reqClassPattern)||e.hasClass(p.reqClassPattern);if(m&&(a.removeClass(p.reqErrorClass),a.removeClass(p.typeErrorClass)),0!==a.length)for(var i,s=y.trim(a.attr("class")).split(/\s+/);i=s.pop();)/^fi_/.test(i)&&y.isFunction(y.av.type[i])&&(t[i]=y.av.type[i]);e.is("[data-minlength]")&&(t.minlength=y.av.type.minlength);var o=e.attr("name"),l=p.customReqCheck&&p.customReqCheck[o];if(l&&y.isFunction(l))n=l.call(this,y.trim(e.val()),a.get(0)||this,r);else if(l&&"string"==typeof l){var c=/^(!)?(.*)$/.exec(l),f=y(':input[name="'+c[2]+'"]',this.form);f.length&&(n=f.is(":checkbox, :radio")?!c[1]^!f.filter(":checked").length:!c[1]^""===f.val())}for(var u in p.customTypeCheck&&y.isFunction(p.customTypeCheck[o])&&(t[o]=p.customTypeCheck[o]),t){a.attr("lang",r);var g=t[u].call(this,y.trim(e.val()),a.get(0)||this,r);if(!0!==g){!1;var d,h="string"==typeof g;if(g||h){if(v.push(a.get(0)),m)h||(d=g.alert,g=g.inline),a.data("av-error",g),a.data("av-error-short","string"==typeof d?d:g),a.removeClass(p.reqErrorClass),a.addClass(p.typeErrorClass)}else n&&(v.push(a.get(0)),m&&a.addClass(p.reqErrorClass))}}}),m&&/both|inlineonly/.test(p.errorMsgType)&&y.av.addInlineLabels(y.unique(v)),a=a.concat(v)});var e=!a.length;if(m){if(!e){var t=y(a[0]).find("*").addBack().filter("input, select, textarea");t.focusHere?t.focusHere():t.setFocus?t.focusHere():t[0].focus(),n&&y.av.alertErrors(y.unique(a),this)}var i=y(a).closest("form"),s=i.data("av-config")||{};i.toggleClass(s.formInvalidClass||"",!e).trigger({type:"autovalidated",isValid:e,invalids:y(a)})}return e}})}(jQuery);
jQuery.av.lang.is={bullet:" • ",errorReqMsg:"Það þarf að fylla út þessa liði:\n\n",errorTypeMsg:"Þessir liðir eru rangt útfylltir:\n\n",inlineMsgPrefix:"Villa:",inlineReqMsg:"Það þarf að fylla út þennan lið ",inlineTypeMsg:"Þessi liður er rangt út fylltur ",inlineNextError:"Næsta villa",resetAlert:"Ath: Þú ert í þann mund að afturkalla öll innslegin gildi...",fi_kt_fyrirt:"Sláðu inn fyrirtækiskennitölu",fi_kt_einst:"Sláðu inn kennitölu einstaklings",fi_email:{inline:"Vinsamlega sláðu inn rétt netfang (dæmi: notandi@daemi.is)",alert:"e.g. nafn@domain.is"},fi_url:{inline:"Vinsamlega sláðu inn löggilda vefslóð (dæmi: http://www.example.is)",alert:"e.g. http://www.domain.is"},fi_year:{inline:"Vinsamlega sláðu inn rétt ártal (dæmi: 1998)",alert:"t.d. 1998"},fi_ccnum_noamex:"American Express kort virka ekki",fi_valuemismatch:"Staðfesting stemmir ekki",minlength:"Lágmarks stafafjöldi: "};
!function(u){u.extend(u.av.lang.en,{fi_kt_fyrirt:"Only company 'kennitala's allowed",fi_kt_einst:"Only people's 'kennitala's allowed",fi_email:{inline:"Please provide a valid e-mail address (example: user@example.com)",alert:"e.g. user@example.com"},fi_url:{inline:"Please provide a valid web address (example: http://www.example.is)",alert:"e.g. http://www.example.com"},fi_year:{inline:"Please provide a valid four digit year (example: 1998)",alert:"e.g. 1998"},fi_valuemismatch:"Confirmation doesn't match",minlength:"Minimum characters: "});var a=u.av.type;u.extend(a,{fi_kt:function(e,t,r){if(e){var i=u.av.getError("fi_kt",r),a=e.replace(/[\s\-]/g,"");if(u(this).val(a),/010130(2(12|20|39|47|55|63|71|98)|3(01|36)|4(33|92)|506|778)9/.test(a)||!/^\d{9}[90]$/.test(a))return i;for(var n=[3,2,7,6,5,4,3,2,1],s=0,f=9;f--;)s+=n[f]*a.charAt(f);if(s%11)return i}return!!e},fi_kt_einst:function(e,t,r){var i=a.fi_kt.call(this,e,t,r);return!0===i&&(e=u(this).val(),3<parseInt(e.substr(0,1),10)&&(i=u.av.getError("fi_kt_einst",r))),i},fi_kt_fyrirt:function(e,t,r){var i=a.fi_kt.call(this,e,t,r);return!0===i&&((i="string"==typeof a.fi_kt_einst.call(this,e,t,r))||(i=u.av.getError("fi_kt_fyrirt",r))),i},fi_email:function(e,t,r){return e&&!/^[a-z0-9\-._+]+@(?:[a-z0-9\-_]+\.)+[a-z0-9\-_]{2,99}$/i.test(e)?u.av.getError("fi_email",r):!!e},fi_url:function(e,t,r){return!!e&&(/^www\./.test(e)&&(e="http://"+e,u(this).val(e)),!(!/^[a-z]+:\/\/.+\..+$/.test(e)||/[\(\)<\>\,\"\[\]\\\s]/.test(e))||u.av.getError("fi_url",r))},fi_tel:function(e,t){if(e){var r=t.className.match(/(?:^| )fi_tel_min_(\d+)(?: |$)/);return!e.replace(/(?:\s|[\-+()]|\d)/g,"")&&(!r||r[1]<=e.replace(/\D/g,"").length)||""}return!1},fi_tel_is:function(e){return!!e&&(/^(?:\+354)?\d{7}$/.test(e.replace(/[ -()]/g,""))||"")},fi_postal_is:function(e,t,r){if(e){var i=u.av.postCodes&&u.av.postCodes.is;if(!i)return/^\d\d\d$/.test(e)||u.av.getError("fi_pnr",r);if(i[e]){if(this.nodeType){var a=u(this).siblings("span.unit");a.length||(a=u('<span class="unit"></span>'),u(this).after(a)),a.html(i[e])}return!0}return u.av.getError("fi_pnr",r)}return!1},fi_pnrs:function(e,t,r){if(e){for(var i=e.replace(/(^[ ,;]+|[ ,;]+$)/g,"").split(/[ ,;]+/),a=0;a<i.length;a++)if(!0!==(e=u.av.type.fi_postal_is(i[a],null,r)))return e;return!0}return!1},fi_qty:function(e){return u(this).val(e),!e||/^\d+$/.test(e)||""},fi_num:function(e){return e=e.replace(/^-\s+/,"-").replace(/[,.]$/,""),u(this).val(e),!e||/\d/.test(e)&&/^-?\d*[.,]?\d*$/.test(e)||""},fi_year:function(e,t,r){return e&&!/^(19|20)\d\d$/.test(e)?u.av.getError("fi_year",r):!!e},fi_date:function(e,t,r){if(e){var i=u.av.getError("fi_year",r),a=window.datePicker;if(a&&a.VERSION<2){var n=u.av.id(this),s=a.fields[n];if(s){var f=a.parseDate(n);if(f){var l=a.printDateValue(f,s.dateFormat,r).replace(/(^\s+|\s+$)/g,"");return s.caseSensitive||(e=e.toLowerCase(),l=l.toLowerCase()),l===e||a.printDateValue(new Date(2e3,4,27),s.dateFormat,r)}return i}}return e=e.replace(/[ .\-\/]+/g,".").replace(/\.(\d\d)$/,".20$1"),/^(3[01]|[12]?[0-9]|(0)?[1-9])\.(1[012]|(0)?[1-9])\.(19|20)?\d\d$/.test(e)||i}return!!e},fi_time:function(e,t,r){if(e){var i=u.av.getError("fi_time",r);if(/^([01]?\d|2[01234])(?:[:.]([0-5]\d))?(?:[:.]([0-5]\d))?\s*([ap]\.?m\.?)?$/i.test(e)){var a=RegExp.$1,n=RegExp.$2||"00",s=RegExp.$3,f=(RegExp.$4+"").replace(/\./g,"").toLowerCase();"pm"===f&&(a=1*a+12);var l=60*a*60+60*n+60*(s||0)<=86400;return l&&u(this).val(a+":"+n+(s?":"+s:"")+f),l||i}return i}return!!e},fi_ccnum:function(e,t,r){var i=u.av.getError("fi_ccnum",r);if(e){var a=e.replace(/[ \-]/g,"");if(!/^\d{13,19}$/.test(a))return i;u(this).val(a);for(var n=0,s=!1,f=a.length;f--;){var l=1*a.charAt(f);s&&(l+=l-(4<l?9:0)),s=!s,n+=l}return n%10==0||i}return!!e},fi_ccexp:function(e,t,r){return e?(e=e.replace(/(\d\d)\s*[ -\/]?\s*(\d\d)/,"$1/$2").replace(/\s+/g,""),/^(0\d|1[012])\/(\d\d)$/.test(e)||u.av.getError("fi_ccexp",r)):!!e},fi_sameasprev:function(e,t,r){if(e=u(this).val()){var i=u(this.form).find(".fi_txt>input,select,textarea"),a=i.index(this),n=0<a?i.eq(a-1).val():"";if(n&&e!==n)return u.av.getError("fi_valuemismatch",r)}return!!e},minlength:function(e,t,r){var i=parseInt(u(t).find("[data-minlength]").attr("data-minlength"),10);return e&&e.length<i?u.av.getError("minlength",r)+i:!!e}}),a.fi_pnr=a.fi_postal_is}(window.jQuery);
