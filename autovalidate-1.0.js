// encoding: utf-8
// $.fn.autoValidate/.defangEnter/.defangReset  1.0  -- (c) 2009 Hugsmiðjan ehf. 
(function(d){var A='tmp_'+(new Date()).getTime();var B=0;var z={lang:'en',maxLabelLength:35,errorAction:'focus',focusElmClass:'stream',submittedClass:'issubmitted',validateEachField:'',errorMsgType:'alertonly',inlineErrorClass:'errmsg',nextErrorLinkClass:'nexterror',customReqCheck:{},reqClassPattern:'req',reqErrorClass:'reqerror',typeErrorClass:'typeerror',defangReset:true,defangEnter:'auto'};d.extend({av:{lang:{en:{bullet:' • ',errorReqMsg:'Please fill out these fields:\n\n',errorTypeMsg:'These fields contain invalid input:\n\n',inlineMsgPrefix:'Error:',inlineReqMsg:'This field is required ',inlineTypeMsg:'This field contains an invalid value ',inlineNextError:'Next error',resetAlert:'Note: You are about to reset all values in the form...'}},id:function(b){b=d(b);var c=b.attr('id');return(c)?c:b.attr('id',A+'_'+(B++)).attr('id')},cleanLabelString:function(b,c){if(!b){return''}c=c||35;b=b.replace(/\s\s+/g,' ').replace(/ - /g,', ').replace(/\[/g,'(').replace(/\]/g,')').replace(/\([^)]+\)/g,'').replace(/[\s*:#]+$/,'').replace(/^[\s*#]+/,'');if(b.length>(c+2)){b=b.substr(0,(c-2)).replace(/[.,:;\s]+$/,'')+'...'}return b},getLabel:function(b,c,a){var f=b.find(':input:first');var e=f.data('av-labeltext');if(!e){e=d.av.cleanLabelString(f.attr('title'),a.maxLabelLength);var g=f.attr('id');if(!e&&g){var h=f.parents('form').find('label[for='+g+']').text()||f.parent('label').text()||b.find('label').eq(0).text();e=d.av.cleanLabelString(h,a.maxLabelLength)}var j=b.is('fieldset:has(input[name='+f.attr('name')+']:odd)');if(j){var l=b.find(':header, legend, p').eq(0).text();e=(l)?d.av.cleanLabelString(l,a.maxLabelLength):e}if(!e){e=f.attr('name')}var n=c.find('fieldset:has(#'+d.av.id(b)+'):last').children(':header:first-child, legend:first-child, p:first-child');if(n.length){e=e+' ['+d.av.cleanLabelString(n.text(),a.maxLabelLength)+']'}d(f).data('av-labeltext',e)}return e},getText:function(b,c){return d.av.getError(b,c)||d.av.getError(b,'en')||''},getError:function(b,c){return(d.av.lang[c]&&d.av.lang[c][b])||''},config:function(b,c){var a=d(b),f=d(a.filter('form')[0]||a.parents('form')[0]||a.find('form')[0]);if(c){f.data('av-config',c)}else{c=f.data('av-config');if(!c){c=d.extend({},z);f.data('av-config',c)}}return c},addInlineLabels:function(e){var g=d.av.config(e[0]);d.each(e,function(b){var c=d(this);var a=c.attr('lang')||c.parents('[lang]').attr('lang');c.attr('lang',a);var f=d.av.getText('inlineReqMsg',a);if(c.is('.'+g.typeErrorClass)){f=c.data('av-error')||d.av.getText('inlineTypeMsg',a)}c.prepend('<strong class="'+g.inlineErrorClass+'">'+f+'</strong>');if(b<e.length-1){c.append('<a href="#'+d.av.id(e[b+1])+'" class="'+g.nextErrorLinkClass+'">'+d.av.getText('inlineNextError',a)+'</a>')}})},alertErrors:function(e,g){var h=d.av.config(e[0]);var j=d(e[0]).attr('lang')||d(e[0]).parents('[lang]').attr('lang');d(e[0]).attr('lang',j);var l=[];var n=[];var p='';d.each(e,function(b){var c=d(this),a=d.av.getLabel(c,g,h),f=c.data('av-error-short');if(f){a+=' ('+f+')'}if(d(this).is('.'+h.typeErrorClass)){n.push(a)}else{l.push(a)}});var i=d.av.getText('bullet',j);if(l.length){p+=d.av.getText('errorReqMsg',j)+i+l.join('\n'+i)}if(n.length){p+='\n\n';p+=d.av.getText('errorTypeMsg',j)+i+n.join('\n'+i)}alert(d.trim(p))},focusNext:function(e){var g=d(':input').get();g=g.sort(function(b,c){var a=(b.tabIndex>0)?b.tabIndex:99999;var f=(c.tabIndex>0)?c.tabIndex:99999;return((a<f)*-1)+((a>f)*1)});var h=d.inArray(e,g);while(g[++h]&&g[h].tabIndex==-1){}var j=d(g[h]||g[0]);setTimeout(function(){j.trigger('focus')},1);return j}}});var o=function(b){return!!b},C=function(b){var c=d(this),a=c.parents('form').find('input[name='+c.attr('name')+']:checked');return!!a[0]&&(!a.is(':radio')||!!a.filter(function(){return!!d(this).val()})[0])};d.extend(d.av,{type:{'fi_btn':function(b){return true},'fi_txt':o,'fi_sel':o,'fi_bdy':o,'fi_file':o,'fi_chk':C,'fi_rdo':C}});d.fn.extend({defangReset:function(){return this.bind('click',function(b){var c=d(this);var a=c.attr('lang')||c.parents('[lang]').attr('lang')||'en';c.attr('lang',a);if(confirm(d.av.getText('resetAlert',a))){if(c.attr('type')!=="reset"){var f=c.parents('form').get(0);if(f){f.trigger('reset')}}return true}return false})},defangEnter:function(){return this.bind('keydown',function(b){var c=b.target;return(b.which!=13||c.tagName!='INPUT'||/^(button|reset|submit)$/i.test(c.type))})},autoValidate:function(j){return this.each(function(){var e=d(this),g=d(e.filter('form')[0]||e.parents('form')[0]||e.find('form')[0]);if(!g.length){return false}var h=d.extend({},z,j);d.av.config(this,h);if(h.defangReset){g.find(':reset').defangReset(h)}if(!h.emulateTab&&h.defangEnter===true||h.defangEnter==='true'||(h.defangEnter==='auto'&&d(':submit',g).length>1)){g.defangEnter()}if(h.emulateTab){g.bind('keydown',function(b){if(b.keyCode==13&&d(b.target).is(':input:not(:button):not(:reset):not(:submit):not(textarea)')){d.av.focusNext(b.target);return false}})}if(h.maxLengthTab){g.bind('keyup',function(b){var c=d(b.target);var a=b.which;if((a>0&&a!=8&&a!=9&&a!=13&&a!=16&&a!=17)&&c.attr('maxlength')==c.val().length){d.av.focusNext(b.target)}})}if(/blur|change/.test(h.validateEachField)){}g.bind('submit',function(b){var c=d(this);if(!c.data('av.skip')||c.data('av.disabled')){var a=d.av.config(this);var f=c.isValid();if(f){c.addClass(a.submittedClass)}else{b.preventDefault()}return f}c.removeData('av.skip')})})},isValid:function(u){u=!!(u||u==null);var r=[],t='',q=false;this.each(function(){var w=d(this),k=[],x=true,m=d.av.config(this);q=q||/both|alertonly/.test(m.errorMsgType);t=t||'strong.'+m.inlineErrorClass+', a.'+m.nextErrorLinkClass;w.find(t).remove();var D=w.is(':input')?w:w.find(':input');D.not(m.includeDisabled?'':':disabled').each(function(){var b=d(this);b.removeData('av-malformed');var c=(this.type=='checkbox')?{'fi_chk':d.av.type['fi_chk']}:(this.type=='radio')?{'fi_rdo':d.av.type['fi_rdo']}:{'fi_txt':d.av.type['fi_txt']},a=b.parents('[class^="fi_"], [class*=" fi_"]').eq(0),f=a.attr('lang')||a.parents('[lang]').attr('lang'),e=a.hasClass(m.reqClassPattern)||b.hasClass(m.reqClassPattern);a.removeClass(m.reqErrorClass);a.removeClass(m.typeErrorClass);if(a.length!==0){var g,h=d.trim(a.attr('class')).split(' ');while(g=h.pop()){if(/^fi_/.test(g)&&d.isFunction(d.av.type[g])){c[g]=d.av.type[g]}}}var j=b.attr('name'),l=m.customReqCheck&&m.customReqCheck[j];if(l&&d.isFunction(l)){e=l.call(this,d.trim(b.val()),a.get(0)||this,f)}else if(l&&typeof(l)==='string'){var n=/^(!)?(.*)$/.exec(l);var p=d(':input[name='+n[2]+']',this.form);if(p.length){e=p.is(':checkbox, :radio')?!n[1]^!p.filter(':checked').length:!n[1]^(p.val()=='')}}if(m.customTypeCheck&&d.isFunction(m.customTypeCheck[j])){c[j]=m.customTypeCheck[j]}for(var i in c){a.attr('lang',f);var s=c[i].call(this,d.trim(b.val()),a.get(0)||this,f);if(s!==true){x=false;var y=typeof s=='string';if(s||y){var v;if(!y){v=s.alert;s=s.inline}k.push(a.get(0));a.data('av-error',s);a.data('av-error-short',(typeof v=='string'?v:s));a.removeClass(m.reqErrorClass);a.addClass(m.typeErrorClass)}else if(e){k.push(a.get(0));a.addClass(m.reqErrorClass)}}}});if(u&&/both|inlineonly/.test(m.errorMsgType)){d.av.addInlineLabels(d.unique(k))}r=r.concat(k)});if(u&&q&&r.length){d.av.alertErrors(d.unique(r),this)}return!r.length}})})(jQuery);(function(k,x){k.injectBaseHrefToHtml=function(b,c){var a=c.split('#')[0],f=a[o](/([^?]*\/)?(.*)/,'$2'),e=a.split('?')[0][o](/(.*\/)?.*/,'$1');b=b[o](/(<[^>]+ (href|src|action)=["'])(["'#])/gi,'$1'+f+'$3')[o](/(<[^>]+ (href|src|action)=["'])\?/gi,'$1'+f.split('?')[0]+'?')[o](/(["'])([a-z]{3,12}:)/gi,'$1`<<`>>$2')[o](/(<[^>]+ (href|src|action)=["'])([^\/`])/gi,'$1'+e+'$3')[o](/\`<<`>>/g,'');return b};k.getResultBody=function(b){return k('<div/>').append(k(b||[]).not('script,title,meta,link,style').find('script,style').remove().end())};var m=document.location,D='isDefaultPrevented',u='preventDefault',r='stopPropagation',t='passThrough',q='virtualBrowser',d='VBbeforeload',A='VBdisengaged',B='VBload',z='VBloaded',o='replace',C=/^(https?:)?\/\//,F={'load':function(a){var f=typeof a!='string'?k(a):x,e=k(this),g=e.data(q),h=g.cfg,j=k.Event(d),l,n,p=h.loadmsgMode,i={elm:f};if(g.$$empty){i.isFirst=true;delete g.$$empty}if(f){a=f.attr('href');a=a===x?f.attr('action'):a}a=i.url=a===''?m.href:a;if(a){j[r]();e.trigger(j,i);if(!j[t]&&((j[t]===x&&f&&f[0].target&&f[0].target!=window.name)||(/^([a-z]{3,12}:|\/\/)/i.test(a)&&!a.toLowerCase()[o](C,'').indexOf(m.href.toLowerCase()[o](C,'').split('/')[0])==0))){j[t]=true}j[t]&&j[u]();if(!j[D]()){var s=i.noCache=i.noCache!==x?i.noCache:h.noCache,y=h.params||'',v='GET';if(f&&f.is('form')){v=f.attr('method')||v;y+='&'+f.serialize();var w=g._0;if(w){y+='&'+k.param(w);delete g._0}}i.params=y;i.method=v;k.ajax({url:i.url.split('#')[0],data:y,type:v,cache:!s,complete:function(b,c){i.result=k.injectBaseHrefToHtml(b.responseText,i.url);i.xhr=b;i.status=c;if(h.selector){i.resultDOM=k.getResultBody(i.result).find(h.selector)}l=k.Event(B);l[r]();e.trigger(l,i);if(!l[D]()){n=k.Event(z);n[r]();h.loadmsgElm.detach();i.resultDOM=i.resultDOM||k.getResultBody(i.result).contents();e.empty().append(i.resultDOM);g.lastRequest=i;e.trigger(n,i);delete i.resultDOM;delete i.result;delete i.xhr}if(h.disengage){e[q]('disengage')}}});if(p&&p!='none'){h.loadmsgMode=='replace'&&e.empty();e.append(h.loadmsgElm)}}}return j},'data':function(){return k(this).data(q)},'disengage':function(){var b=k(this);b.removeData(q).unbind('click submit',G).unbind(B+' '+z+' '+d).trigger(A).unbind(A)}},G=function(b){var c=k(b.target).closest(b.type=='click'?'[href], input:submit, button:submit':'form');if(c[0]){if(!b[D]()){if(!c.is(':submit')){var a=F['load'].call(this,c);if(!a[t]){b[u]();a.isPropagationStopped()&&b[r]()}}else if(c.is('[name]')){var f=k(this).data(q);f._0=c;setTimeout(function(){delete f._0},0)}}}},E=k.fn[q]=function(e,g){var h=this,j=typeof e=='string';if(j){var l=F[e],n;if(l){h.each(function(b){var c=l.apply(this,[].concat(g));if(!b){n=c}})}if(n!==x){return n}}else{h.each(function(){var b=k(this),c=k.extend({},E.defaults,e);g&&(c.url=g);var a=c.loadmsgElm||'<div class="loading" />',f=(E.i18n[b.closest('*[lang]').attr('lang')]||{}).loading||E.i18n.en.loading;if(a.charAt){a=a.replace(/%\{msg\}/g,f)}a=c.loadmsgElm=k(a);if(!a.text()){a.append(f)}b.data(q,{cfg:c,$$empty:1})}).bind('click submit',G);e.onLoad&&h.bind(B,e.onLoad);e.onLoaded&&h.bind(z,e.onLoaded);e.onBeforeload&&h.bind(d,e.onBeforeload);e.onDisengaged&&h.bind(A,e.onDisengaged);e.params=typeof e.params=='string'?e.params:k.param(e.params||{});e.url&&h[q]('load',e.url)}return this};E.defaults={loadmsgMode:'none'};E.i18n={en:{loading:'Loading...'},is:{loading:'Sæki gögn...'}}})(jQuery);
// encoding: utf-8
jQuery.av.lang.is={bullet:' • ',errorReqMsg:'Það þarf að fylla út þessa liði:\n\n',errorTypeMsg:'Þessir liðir eru rangt útfylltir:\n\n',inlineMsgPrefix:'Villa:',inlineReqMsg:'Það þarf að fylla út þennan lið ',inlineTypeMsg:'Þessi liður er rangt út fylltur ',inlineNextError:'Næsta villa',resetAlert:'Ath: Þú ert í þann mund að afturkalla öll innslegin gildi...',fi_kt_fyrirt:'Sláðu inn fyrirtækiskennitölu',fi_kt_einst:'Sláðu inn kennitölu einstaklings',fi_email:{inline:'Vinsamlega sláðu inn rétt netfang (dæmi: notandi@daemi.is)',alert:'e.g. nafn@domain.is'},fi_url:{inline:'Vinsamlega sláðu inn löggilda vefslóð (dæmi: http://www.example.is)',alert:'e.g. http://www.domain.is'},fi_year:{inline:'Vinsamlega sláðu inn rétt ártal (dæmi: 1998)',alert:'t.d. 1998'},fi_ccnum_noamex:'American Express kort virka ekki'};

// encoding: utf-8
(function(d){d.extend(d.av.lang.en,{fi_kt_fyrirt:'Only company \'kennitala\'s allowed',fi_kt_einst:'Only people\'s \'kennitala\'s allowed',fi_email:{inline:'Please provide a valid e-mail address (example: user@example.com)',alert:'e.g. user@example.com'},fi_url:{inline:'Please provide a valid web address (example: http://www.example.is)',alert:'e.g. http://www.example.com'},fi_year:{inline:'Please provide a valid four digit year (example: 1998)',alert:'e.g. 1998'},fi_ccnum_noamex:{inline:'American Express cards not accepted',alert:'AmEx not accepted'}});var k=d.av.type;d.extend(k,{fi_kt:function(a,f,b){if(a){var c=d.av.getError('fi_kt',b),e=a.replace(/[\s\-]/g,'');d(this).val(e);var g=/010130(2(12|20|39|47|55|63|71|98)|3(01|36)|4(33|92)|506|778)9/.test(e);if(g||!/^\d{9}[90]$/.test(e)){return c}var i=[3,2,7,6,5,4,3,2,1],h=0,j=9;while(j--){h+=(i[j]*e.charAt(j))}if(h%11){return c}}return!!a},fi_kt_einst:function(a,f,b){var c=k.fi_kt.call(this,a,f,b);if(c===true){a=d(this).val();if(parseInt(a.substr(0,1),10)>3){c=d.av.getError('fi_kt_einst',b)}}return c},fi_kt_fyrirt:function(a,f,b){var c=k.fi_kt.call(this,a,f,b);if(c===true){c=typeof k.fi_kt_einst.call(this,a,f,b)=='string';if(!c){c=d.av.getError('fi_kt_fyrirt',b)}}return c},fi_email:function(a,f,b){if(a&&!/^[a-z0-9-._+]+@([a-z0-9-_]+\.)+[a-z0-9-_]{2,99}$/i.test(a)){return d.av.getError('fi_email',b)}return!!a},fi_url:function(a,f,b){if(a){var c=a.replace(/^[a-z]+:\/\/.+$/i,'');if(!/^[a-z]+:\/\/.+\..+$/.test(a)||/[\(\)\<\>\,\:\"\[\]\\]/.test(c)){return d.av.getError('fi_url',b)}return true}return false},fi_tel:function(a,f,b){if(a){return!a.replace(/(\s|[-+()]|\d)/g,'')||''}return false},fi_postal_is:function(a,f,b){if(a){var c=d.av.postCodes&&d.av.postCodes.is;if(!c){return/^\d\d\d$/.test(a)||d.av.getError('fi_pnr',b)}else if(c[a]){if(this.nodeType){var e=d(this).siblings('span.unit');if(!e.length){e=d('<span class="unit"></span>');d(this).after(e)}e.html(c[a])}return true}return d.av.getError('fi_pnr',b)}return false},fi_pnrs:function(a,f,b){if(a){var c=a.replace(/(^[ ,;]+|[ ,;]+$)/g,'').split(/[ ,;]+/);var a,e=false;for(var g=0;g<c.length;g++){a=d.av.type['fi_postal_is'](c[g],null,b);if(a!==true){return a}}return true}return false},fi_qty:function(a,f,b){d(this).val(a);return!a||/^\d+$/.test(a)||''},fi_num:function(a,f,b){var a=a.replace(/^-\s+/,'-').replace(/[,.]$/,'');d(this).val(a);return!a||(/\d/.test(a)&&/^-?\d*[.,]?\d*$/.test(a))||''},fi_year:function(a,f,b){if(a&&!/^(19|20)\d\d$/.test(a)){return d.av.getError('fi_year',b)}return!!a},fi_date:function(a,f,b){if(a){var c=d.av.getError('fi_year',b);if(window.datePicker&&datePicker.VERSION<2){var e=d.av.id(this),g=datePicker.fields[e];if(g){var i=datePicker.parseDate(e);if(!i){return c}else{var h=datePicker.printDateValue(i,g.dateFormat,b).replace(/(^\s+|\s+$)/g,'');if(!g.caseSensitive){a=a.toLowerCase();h=h.toLowerCase()}return(h==a)||datePicker.printDateValue(new Date(2000,4,27),g.dateFormat,b)}}}a=a.replace(/[ .-\/]+/g,'.').replace(/\.(\d\d)$/,'.20$1');return/^(3[01]|[12]?[0-9]|(0)?[1-9])\.(1[012]|(0)?[1-9])\.(19|20)?\d\d$/.test(a)||c}return!!a},fi_time:function(a,f,b){if(a){var c=d.av.getError('fi_time',b);if(/^([01]?\d|2[01234])(:([0-5]\d))?(:([0-5]\d))?\s*([ap]\.?m\.?)?$/i.test(a)){var e=parseInt(RegExp.$1,10),g=parseInt(RegExp.$3||'0',10),i=parseInt(RegExp.$5||'0',10),h=(RegExp.$6+'').replace('.','').toLowerCase();if(h=='pm'){e+=12}var j=(e*60*60)+(g*60)+(i*60);return(j<=86400)||c}else{return c}}return!!a},fi_ccnum:function(a,f,b){var c=d.av.getError('fi_ccnum',b);if(a){var e=a.replace(/[ -]/g,'');if(!/^(\d{16}|3[47]\d{13})$/.test(e)){return c}d(this).val(e);var g=0,i,h=e.length;while(h-->0){g+=e.charAt(h--)*1;i=e.charAt(h)*2;g+=Math.floor(i/10)+(i%10)}var j=(g%10)===0;return j||c}return!!a},fi_ccnum_noamex:function(a,f,b){if(a&&a.replace(/[ -]/g,'').length==15){return d.av.getError('fi_ccnum_noamex',b)}return!!a},fi_ccexp:function(a,f,b){if(a){a=a.replace(/(\d\d)\s*[ -\/]?\s*(\d\d)/,'$1/$2').replace(/\s+/g,'');return/^(0\d|1[012])\/(\d\d)$/.test(a)||d.av.getError('fi_ccexp',b)}return!!a}});k.fi_pnr=k.fi_postal_is})(jQuery);
