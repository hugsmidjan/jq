// $.fn.autoValidate/.defangEnter/.defangReset  1.0  -- (c) 2009 Hugsmiðjan ehf.
(function(a){var B='tmp_'+(new Date()).getTime();var C=0;var y={lang:'en',maxLabelLength:35,errorAction:'focus',focusElmClass:'stream',submittedClass:'issubmitted',validateEachField:'',errorMsgType:'alertonly',inlineErrorClass:'errmsg',nextErrorLinkClass:'nexterror',customReqCheck:{},reqClassPattern:'req',reqErrorClass:'reqerror',typeErrorClass:'typeerror',defangReset:true,defangEnter:'auto'};a.extend({av:{lang:{en:{bullet:' • ',errorReqMsg:'Please fill out these fields:\n\n',errorTypeMsg:'These fields contain invalid input:\n\n',inlineMsgPrefix:'Error:',inlineReqMsg:'This field is required ',inlineTypeMsg:'This field contains an invalid value ',inlineNextError:'Next error',resetAlert:'Note: You are about to reset all values in the form...'}},id:function(c){c=a(c);var b=c.attr('id');return(b)?b:c.attr('id',B+'_'+(C++)).attr('id')},cleanLabelString:function(c,b){if(!c){return''}b=b||35;c=c.replace(/\s\s+/g,' ').replace(/ - /g,', ').replace(/\[/g,'(').replace(/\]/g,')').replace(/\([^)]+\)/g,'').replace(/[\s*:#]+$/,'').replace(/^[\s*#]+/,'');if(c.length>(b+2)){c=c.substr(0,(b-2)).replace(/[.,:;\s]+$/,'')+'...'}return c},getLabel:function(c,b,d){var f=c.find(':input:first');var e=f.data('av-labeltext');if(!e){e=a.av.cleanLabelString(f.attr('title'),d.maxLabelLength);var g=f.attr('id');if(!e&&g){var h=f.parents('form').find('label[for='+g+']').text()||f.parent('label').text()||c.find('label').eq(0).text();e=a.av.cleanLabelString(h,d.maxLabelLength)}var j=c.is('fieldset')&&c.find('input[name='+f.attr('name')+']')[1];if(j){var k=c.find(':header,legend,p').eq(0).text()||c.attr('title');e=(k)?a.av.cleanLabelString(k,d.maxLabelLength):e}if(!e){e=f.attr('name')}var m=b.find('fieldset:has(#'+a.av.id(c)+'):last'),l=m.children(':header,legend,p').eq(0);if(l.length){e+=' ['+a.av.cleanLabelString(l.text()||m.attr('title'),d.maxLabelLength)+']'}a(f).data('av-labeltext',e)}return e},getText:function(c,b){return a.av.getError(c,b)||a.av.getError(c,'en')||''},getError:function(c,b){return(a.av.lang[b]&&a.av.lang[b][c])||''},config:function(c,b){var d=a(c),f=a(d.filter('form')[0]||d.parents('form')[0]||d.find('form')[0]);if(b){f.data('av-config',b)}else{b=f.data('av-config');if(!b){b=a.extend({},y);f.data('av-config',b)}}return b},addInlineLabels:function(e){var g=a.av.config(e[0]);a.each(e,function(c){var b=a(this);var d=b.attr('lang')||b.parents('[lang]').attr('lang');b.attr('lang',d);var f=a.av.getText('inlineReqMsg',d);if(b.is('.'+g.typeErrorClass)){f=b.data('av-error')||a.av.getText('inlineTypeMsg',d)}b.prepend('<strong class="'+g.inlineErrorClass+'">'+f+'</strong>');if(c<e.length-1){b.append('<a href="#'+a.av.id(e[c+1])+'" class="'+g.nextErrorLinkClass+'">'+a.av.getText('inlineNextError',d)+'</a>')}})},alertErrors:function(e,g){var h=a.av.config(e[0]);var j=a(e[0]).attr('lang')||a(e[0]).parents('[lang]').attr('lang');a(e[0]).attr('lang',j);var k=[];var m=[];var l='';a.each(e,function(c){var b=a(this),d=a.av.getLabel(b,g,h),f=b.data('av-error-short');if(f){d+=' ('+f+')'}if(a(this).is('.'+h.typeErrorClass)){m.push(d)}else{k.push(d)}});var p=a.av.getText('bullet',j);if(k.length){l+=a.av.getText('errorReqMsg',j)+p+k.join('\n'+p)}if(m.length){l+='\n\n';l+=a.av.getText('errorTypeMsg',j)+p+m.join('\n'+p)}alert(a.trim(l))},focusNext:function(e){var g=a(':input').get();g=g.sort(function(c,b){var d=(c.tabIndex>0)?c.tabIndex:99999;var f=(b.tabIndex>0)?b.tabIndex:99999;return((d<f)*-1)+((d>f)*1)});var h=a.inArray(e,g);while(g[++h]&&g[h].tabIndex==-1){}var j=a(g[h]||g[0]);setTimeout(function(){j.trigger('focus')},1);return j}}});var s=function(c){return!!c},z=function(c){var b=a(this),d=b.parents('form').find('input[name='+b.attr('name')+']:checked');return!!d[0]&&(!d.is(':radio')||!!d.filter(function(){return!!a(this).val()})[0])};a.extend(a.av,{type:{'fi_btn':function(c){return true},'fi_txt':s,'fi_sel':s,'fi_bdy':s,'fi_file':s,'fi_chk':z,'fi_rdo':z}});a.fn.extend({defangReset:function(){return this.bind('click',function(c){var b=a(this);var d=b.attr('lang')||b.parents('[lang]').attr('lang')||'en';b.attr('lang',d);if(confirm(a.av.getText('resetAlert',d))){if(b.attr('type')!=="reset"){var f=b.parents('form').get(0);if(f){f.trigger('reset')}}return true}return false})},defangEnter:function(){return this.bind('keydown',function(c){var b=c.target;return(c.which!=13||b.tagName!='INPUT'||/^(button|reset|submit)$/i.test(b.type))})},autoValidate:function(j){return this.each(function(){var e=a(this),g=a(e.filter('form')[0]||e.parents('form')[0]||e.find('form')[0]);if(!g.length){return false}var h=a.extend({},y,j);a.av.config(this,h);if(h.defangReset){g.find(':reset').defangReset(h)}if(!h.emulateTab&&h.defangEnter===true||h.defangEnter==='true'||(h.defangEnter==='auto'&&a(':submit',g).length>1)){g.defangEnter()}if(h.emulateTab){g.bind('keydown',function(c){if(c.keyCode==13&&a(c.target).is(':input:not(:button):not(:reset):not(:submit):not(textarea)')){a.av.focusNext(c.target);return false}})}if(h.maxLengthTab){g.bind('keyup',function(c){var b=a(c.target);var d=c.which;if((d>0&&d!=8&&d!=9&&d!=13&&d!=16&&d!=17)&&b.attr('maxlength')==b.val().length){a.av.focusNext(c.target)}})}if(/blur|change/.test(h.validateEachField)){}g.bind('submit',function(c){var b=a(this);if(!b.data('av.skip')||b.data('av.disabled')){var d=a.av.config(this);var f=b.isValid();if(f){b.addClass(d.submittedClass)}else{c.preventDefault()}return f}b.removeData('av.skip')})})},isValid:function(q){q=!!(q||q==null);var o=[],v='',w=false;this.each(function(){var t=a(this),u=[],D=true,i=a.av.config(this);w=w||/both|alertonly/.test(i.errorMsgType);v=v||'strong.'+i.inlineErrorClass+', a.'+i.nextErrorLinkClass;t.find(v).remove();var E=t.is(':input')?t:t.find(':input');E.not(i.includeDisabled?'':':disabled').not(':submit,:reset,:button').each(function(){var c=a(this);c.removeData('av-malformed');var b=(this.type=='checkbox')?{'fi_chk':a.av.type['fi_chk']}:(this.type=='radio')?{'fi_rdo':a.av.type['fi_rdo']}:{'fi_txt':a.av.type['fi_txt']},d=c.parents('[class^="fi_"], [class*=" fi_"]').eq(0),f=d.attr('lang')||d.parents('[lang]').attr('lang'),e=d.hasClass(i.reqClassPattern)||c.hasClass(i.reqClassPattern);d.removeClass(i.reqErrorClass);d.removeClass(i.typeErrorClass);if(d.length!==0){var g,h=a.trim(d.attr('class')).split(' ');while(g=h.pop()){if(/^fi_/.test(g)&&a.isFunction(a.av.type[g])){b[g]=a.av.type[g]}}}var j=c.attr('name'),k=i.customReqCheck&&i.customReqCheck[j];if(k&&a.isFunction(k)){e=k.call(this,a.trim(c.val()),d.get(0)||this,f)}else if(k&&typeof(k)==='string'){var m=/^(!)?(.*)$/.exec(k);var l=a(':input[name='+m[2]+']',this.form);if(l.length){e=l.is(':checkbox, :radio')?!m[1]^!l.filter(':checked').length:!m[1]^(l.val()=='')}}if(i.customTypeCheck&&a.isFunction(i.customTypeCheck[j])){b[j]=i.customTypeCheck[j]}for(var p in b){d.attr('lang',f);var n=b[p].call(this,a.trim(c.val()),d.get(0)||this,f);if(n!==true){D=false;var A=typeof n=='string';if(n||A){var x;if(!A){x=n.alert;n=n.inline}u.push(d.get(0));d.data('av-error',n);d.data('av-error-short',(typeof x=='string'?x:n));d.removeClass(i.reqErrorClass);d.addClass(i.typeErrorClass)}else if(e){u.push(d.get(0));d.addClass(i.reqErrorClass)}}}});if(q&&/both|inlineonly/.test(i.errorMsgType)){a.av.addInlineLabels(a.unique(u))}o=o.concat(u)});if(o.length){var r=a(o[0]).find('*').andSelf().filter('input, select, textarea');r.focusHere?r.focusHere():r.setFocus?r.focusHere():r[0].focus()}if(q&&w&&o.length){a.av.alertErrors(a.unique(o),this)}return!o.length}})})(jQuery);
jQuery.av.lang.is={bullet:' • ',errorReqMsg:'Það þarf að fylla út þessa liði:\n\n',errorTypeMsg:'Þessir liðir eru rangt útfylltir:\n\n',inlineMsgPrefix:'Villa:',inlineReqMsg:'Það þarf að fylla út þennan lið ',inlineTypeMsg:'Þessi liður er rangt út fylltur ',inlineNextError:'Næsta villa',resetAlert:'Ath: Þú ert í þann mund að afturkalla öll innslegin gildi...',fi_kt_fyrirt:'Sláðu inn fyrirtækiskennitölu',fi_kt_einst:'Sláðu inn kennitölu einstaklings',fi_email:{inline:'Vinsamlega sláðu inn rétt netfang (dæmi: notandi@daemi.is)',alert:'e.g. nafn@domain.is'},fi_url:{inline:'Vinsamlega sláðu inn löggilda vefslóð (dæmi: http://www.example.is)',alert:'e.g. http://www.domain.is'},fi_year:{inline:'Vinsamlega sláðu inn rétt ártal (dæmi: 1998)',alert:'t.d. 1998'},fi_ccnum_noamex:'American Express kort virka ekki',fi_valuemismatch:'Staðfesting stemmir ekki'};
(function(c){c.extend(c.av.lang.en,{fi_kt_fyrirt:'Only company \'kennitala\'s allowed',fi_kt_einst:'Only people\'s \'kennitala\'s allowed',fi_email:{inline:'Please provide a valid e-mail address (example: user@example.com)',alert:'e.g. user@example.com'},fi_url:{inline:'Please provide a valid web address (example: http://www.example.is)',alert:'e.g. http://www.example.com'},fi_year:{inline:'Please provide a valid four digit year (example: 1998)',alert:'e.g. 1998'},fi_ccnum_noamex:{inline:'American Express cards not accepted',alert:'AmEx not accepted'},fi_valuemismatch:'Confirmation doesn\'t match'});var k=c.av.type;c.extend(k,{fi_kt:function(a,f,b){if(a){var e=c.av.getError('fi_kt',b),d=a.replace(/[\s\-]/g,'');c(this).val(d);var g=/010130(2(12|20|39|47|55|63|71|98)|3(01|36)|4(33|92)|506|778)9/.test(d);if(g||!/^\d{9}[90]$/.test(d)){return e}var h=[3,2,7,6,5,4,3,2,1],i=0,j=9;while(j--){i+=(h[j]*d.charAt(j))}if(i%11){return e}}return!!a},fi_kt_einst:function(a,f,b){var e=k.fi_kt.call(this,a,f,b);if(e===true){a=c(this).val();if(parseInt(a.substr(0,1),10)>3){e=c.av.getError('fi_kt_einst',b)}}return e},fi_kt_fyrirt:function(a,f,b){var e=k.fi_kt.call(this,a,f,b);if(e===true){e=typeof k.fi_kt_einst.call(this,a,f,b)==='string';if(!e){e=c.av.getError('fi_kt_fyrirt',b)}}return e},fi_email:function(a,f,b){if(a&&!/^[a-z0-9\-._+]+@(?:[a-z0-9\-_]+\.)+[a-z0-9\-_]{2,99}$/i.test(a)){return c.av.getError('fi_email',b)}return!!a},fi_url:function(a,f,b){if(a){if(/^www\./.test(a)){a='http://'+a;c(this).val(a)}if(!/^[a-z]+:\/\/.+\..+$/.test(a)||/[\(\)<\>\,\"\[\]\\\s]/.test(a)){return c.av.getError('fi_url',b)}return true}return false},fi_tel:function(a,f){if(a){var b=f.className.match(/(?:^| )fi_tel_min_(\d+)(?: |$)/);return(!a.replace(/(?:\s|[\-+()]|\d)/g,'')&&(!b||b[1]<=a.replace(/\D/g,'').length))||''}return false},fi_tel_is:function(a){if(a){return(/^(?:\+354)?\d{7}$/).test(a.replace(/[ -()]/g,''))||''}return false},fi_postal_is:function(a,f,b){if(a){var e=c.av.postCodes&&c.av.postCodes.is;if(!e){return(/^\d\d\d$/).test(a)||c.av.getError('fi_pnr',b)}else if(e[a]){if(this.nodeType){var d=c(this).siblings('span.unit');if(!d.length){d=c('<span class="unit"></span>');c(this).after(d)}d.html(e[a])}return true}return c.av.getError('fi_pnr',b)}return false},fi_pnrs:function(a,f,b){if(a){var e=a.replace(/(^[ ,;]+|[ ,;]+$)/g,'').split(/[ ,;]+/);for(var d=0;d<e.length;d++){a=c.av.type.fi_postal_is(e[d],null,b);if(a!==true){return a}}return true}return false},fi_qty:function(a){c(this).val(a);return!a||/^\d+$/.test(a)||''},fi_num:function(a){a=a.replace(/^-\s+/,'-').replace(/[,.]$/,'');c(this).val(a);return!a||(/\d/.test(a)&&/^-?\d*[.,]?\d*$/.test(a))||''},fi_year:function(a,f,b){if(a&&!/^(19|20)\d\d$/.test(a)){return c.av.getError('fi_year',b)}return!!a},fi_date:function(a,f,b){if(a){var e=c.av.getError('fi_year',b);var d=window.datePicker;if(d&&d.VERSION<2){var g=c.av.id(this),h=d.fields[g];if(h){var i=d.parseDate(g);if(!i){return e}else{var j=d.printDateValue(i,h.dateFormat,b).replace(/(^\s+|\s+$)/g,'');if(!h.caseSensitive){a=a.toLowerCase();j=j.toLowerCase()}return(j===a)||d.printDateValue(new Date(2000,4,27),h.dateFormat,b)}}}a=a.replace(/[ .-\/]+/g,'.').replace(/\.(\d\d)$/,'.20$1');return(/^(3[01]|[12]?[0-9]|(0)?[1-9])\.(1[012]|(0)?[1-9])\.(19|20)?\d\d$/).test(a)||e}return!!a},fi_time:function(a,f,b){if(a){var e=c.av.getError('fi_time',b);if((/^([01]?\d|2[01234])(?:[:.]([0-5]\d))?(?:[:.]([0-5]\d))?\s*([ap]\.?m\.?)?$/i).test(a)){var d=RegExp.$1,g=RegExp.$2||'00',h=RegExp.$3,i=(RegExp.$4+'').replace(/\./g,'').toLowerCase();if(i==='pm'){d=1*d+12}var j=(d*60*60+g*60+(h||0)*60)<=86400;j&&c(this).val(d+':'+g+(h?':'+h:'')+i);return j||e}else{return e}}return!!a},fi_ccnum:function(a,f,b){var e=c.av.getError('fi_ccnum',b);if(a){var d=a.replace(/[ \-]/g,'');if(!/^(\d{16}|3[47]\d{13})$/.test(d)){return e}c(this).val(d);var g=0,h,i=d.length;while(i-->0){g+=d.charAt(i--)*1;h=d.charAt(i)*2;g+=Math.floor(h/10)+(h%10)}var j=(g%10)===0;return j||e}return!!a},fi_ccnum_noamex:function(a,f,b){if(a&&a.replace(/[ \-]/g,'').length===15){return c.av.getError('fi_ccnum_noamex',b)}return!!a},fi_ccexp:function(a,f,b){if(a){a=a.replace(/(\d\d)\s*[ -\/]?\s*(\d\d)/,'$1/$2').replace(/\s+/g,'');return(/^(0\d|1[012])\/(\d\d)$/).test(a)||c.av.getError('fi_ccexp',b)}return!!a},fi_sameasprev:function(a,f,b){a=c(this).val();if(a){var e=c(this.form).find('.fi_txt>input,select,textarea'),d=e.index(this),g=d>0?e.eq(d-1).val():'';if(g&&a!==g){return c.av.getError('fi_valuemismatch',b)}}return!!a}});k.fi_pnr=k.fi_postal_is})(jQuery);
