// $.fn.alistDateSplit 1.0  -- (c) 2010 Hugsmiðjan ehf.
(function(b){b.alistDateSplit={i18n:{en:{months:'January,February,March,April,May,June,July,August,September,October,November,December'.split(','),weekdays:'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'.split(',')},is:{months:'janúar,febrúar,mars,apríl,maí,júní,júlí,ágúst,september,október,nóvember,desember'.split(','),weekdays:'Sunnudagur,Mánudagur,Þriðjudagur,Miðvikudagur,Fimmtudagur,Föstudagur,Laugardagur'.split(',')}}};b.fn.alistDateSplit=function(a){a=b.extend({shortMonths:1,monthAfterDate:1,dateSel:'.item .date',showWeekday:0,showTime:0,allowRange:0,rangeSplitter:/-/,dateSplitter:/\.|\s+/},a);return this.each(function(){var h=b(this),i=b.alistDateSplit.i18n[h.lang()]||b.alistDateSplit.i18n.en;h.find(a.dateSel).each(function(){var j=b(this),k=j.text().split(a.rangeSplitter),e=b('<span class="js-date" />');for(var d=0;d<k.length;d++){var c=b.trim(k[d]).split(a.dateSplitter),l=new Date(c[2],c[1]-1,c[0]),m=a.allowRange?b('<span class="day'+(d+1)+'" />'):e,f=i.months[l.getMonth()]||'',g=i.weekdays[l.getDay()]||'',n=a.shortMonths&&f.length>4?f.substr(0,3):f,o=a.shortMonths&&f.length>4?'<i>.</i> ':' ',p=a.showTime&&c[3]?'<span class="t">'+c[3]+'</span>':'',q=a.monthAfterDate?'append':'prepend';g=a.showWeekday=='short'?'<span class="wd">'+g.substr(0,3)+'<i>.</i></span> ':a.showWeekday?'<span class="wd">'+g+'</span> ':'';m.append('<span class="d">'+c[0]+'<i>.</i></span> ')[q]('<span class="m">'+n+o+'</span>').append('<span class="y">'+c[2]+'</span> ').append(p).prepend(g);if(a.allowRange){if(d>0){e.append('<span class="sep"> - </span>')}e.append(m)}else{break}}j.before(e).remove()})})}})(jQuery);
