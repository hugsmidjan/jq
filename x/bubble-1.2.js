// (c)2007 Ariel Flesler - GPL
(function($){$.fn.bubble=function(c,d){d=$.makeArray(d||[]);var e=c.split('.');c=e[0];return this.each(function(){var a=this,event=new Event(c,a),args=[event].concat(d);var b,ev,handler;setTimeout(function(){while(a!=document&&!event.cancelBubble){if(b=$.data(a,'events')&&$.data(a,'events')[c]){for(ev in b){if((handler=b[ev])&&!e[1]||handler.type==e[1]){event.handler=handler;event.data=handler.data;if(handler.apply(a,args)===false){event.preventDefault();event.stopPropagation()}}}}a=a.parentNode}event.target=null},0)})};function Event(a,b){this.type=a;this.target=b};$.extend(Event.prototype,{returnValue:true,cancelBubble:false,stopPropagation:function(){this.cancelBubble=true},preventDefault:function(){this.returnValue=false}})})(jQuery);
