(function(e){e.widget("ui.slider",e.extend({},e.ui.mouse,{_h:function(){var f=this,d=this.options;this._4=false;this._2=null;this._b();this._i();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this.range=e([]);if(d.range){if(d.range===true){this.range=e('<div></div>');if(!d.values)d.values=[this._0(),this._0()];if(d.values.length&&d.values.length!=2){d.values=[d.values[0],d.values[0]]}}else{this.range=e('<div></div>')}this.range.appendTo(this.element).addClass("ui-slider-range");if(d.range=="min"||d.range=="max"){this.range.addClass("ui-slider-range-"+d.range)}this.range.addClass("ui-widget-header")}if(e(".ui-slider-handle",this.element).length==0)e('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle");if(d.values&&d.values.length){while(e(".ui-slider-handle",this.element).length<d.values.length)e('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}this.handles=e(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){if(!d.disabled){e(this).addClass('ui-state-hover')}},function(){e(this).removeClass('ui-state-hover')}).focus(function(){if(!d.disabled){e(".ui-slider .ui-state-focus").removeClass('ui-state-focus');e(this).addClass('ui-state-focus')}else{e(this).blur()}}).blur(function(){e(this).removeClass('ui-state-focus')});this.handles.each(function(a){e(this).data("index.ui-slider-handle",a)});this.handles.keydown(function(a){var c=true;var b=e(this).data("index.ui-slider-handle");if(f.options.disabled)return;switch(a.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:c=false;if(!f._4){f._4=true;e(this).addClass("ui-state-active");f._c(a,b)}break}var h,g,i=f._f();if(f.options.values&&f.options.values.length){h=g=f.values(b)}else{h=g=f.value()}switch(a.keyCode){case e.ui.keyCode.HOME:g=f._0();break;case e.ui.keyCode.END:g=f._1();break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(h==f._1())return;g=h+i;break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(h==f._0())return;g=h-i;break}f._8(a,b,g);return c}).keyup(function(a){var c=e(this).data("index.ui-slider-handle");if(f._4){f._d(a,c);f._5(a,c);f._4=false;e(this).removeClass("ui-state-active")}});this._6()},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._j()},_k:function(b){var h=this.options;if(h.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var g={x:b.pageX,y:b.pageY};var i=this._9(g);var f=this._1()-this._0()+1,d;var n=this,j;this.handles.each(function(a){var c=Math.abs(i-n.values(a));if(f>c){f=c;d=e(this);j=a}});if(h.range==true&&this.values(1)==h.min){d=e(this.handles[++j])}this._c(b,j);n._2=j;d.addClass("ui-state-active").focus();var m=d.offset();var k=!e(b.target).parents().andSelf().is('.ui-slider-handle');this._3=k?{left:0,top:0}:{left:b.pageX-m.left-(d.width()/2),top:b.pageY-m.top-(d.height()/2)-(parseInt(d.css('borderTopWidth'),10)||0)-(parseInt(d.css('borderBottomWidth'),10)||0)+(parseInt(d.css('marginTop'),10)||0)};i=this._9(g);this._8(b,j,i);return true},_l:function(a){return true},_m:function(a){var c={x:a.pageX,y:a.pageY};var b=this._9(c);this._8(a,this._2,b);return false},_n:function(a){this.handles.removeClass("ui-state-active");this._d(a,this._2);this._5(a,this._2);this._2=null;this._3=null;return false},_b:function(){this.orientation=this.options.orientation=='vertical'?'vertical':'horizontal'},_9:function(a){var c,b;if('horizontal'==this.orientation){c=this.elementSize.width;b=a.x-this.elementOffset.left-(this._3?this._3.left:0)}else{c=this.elementSize.height;b=a.y-this.elementOffset.top-(this._3?this._3.top:0)}var h=(b/c);if(h>1)h=1;if(h<0)h=0;if('vertical'==this.orientation)h=1-h;var g=this._1()-this._0(),i=h*g,f=i%this.options.step,d=this._0()+i-f;if(f>(this.options.step/2))d+=this.options.step;return parseFloat(d.toFixed(5))},_c:function(a,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._7("start",a,b)},_8:function(a,c,b){var h=this.handles[c];if(this.options.values&&this.options.values.length){var g=this.values(c?0:1);if((this.options.values.length==2&&this.options.range===true)&&((c==0&&b>g)||(c==1&&b<g))){b=g}if(b!=this.values(c)){var i=this.values();i[c]=b;var f=this._7("slide",a,{handle:this.handles[c],value:b,values:i});var g=this.values(c?0:1);if(f!==false){this.values(c,b,(a.type=='mousedown'&&this.options.animate),true)}}}else{if(b!=this.value()){var f=this._7("slide",a,{handle:this.handles[c],value:b});if(f!==false){this._a('value',b,(a.type=='mousedown'&&this.options.animate))}}}},_d:function(a,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._7("stop",a,b)},_5:function(a,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._7("change",a,b)},value:function(a){if(arguments.length){this._a("value",a);this._5(null,0)}return this._g()},values:function(a,c,b,h){if(arguments.length>1){this.options.values[a]=c;this._6(b);if(!h)this._5(null,a)}if(arguments.length){if(this.options.values&&this.options.values.length){return this._e(a)}else{return this.value()}}else{return this._e()}},_a:function(a,c,b){e.widget.prototype._a.apply(this,arguments);switch(a){case'disabled':if(c){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled")}else{this.handles.removeAttr("disabled")}case'orientation':this._b();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._6(b);break;case'value':this._6(b);break}},_f:function(){var a=this.options.step;return a},_g:function(){var a=this.options.value;if(a<this._0())a=this._0();if(a>this._1())a=this._1();return a},_e:function(a){if(arguments.length){var c=this.options.values[a];if(c<this._0())c=this._0();if(c>this._1())c=this._1();return c}else{return this.options.values}},_0:function(){var a=this.options.min;return a},_1:function(){var a=this.options.max;return a},_6:function(g){var i=this.options.range,f=this.options,d=this;if(this.options.values&&this.options.values.length){var n,j;this.handles.each(function(a,c){var b=(d.values(a)-d._0())/(d._1()-d._0())*100;var h={};h[d.orientation=='horizontal'?'left':'bottom']=b+'%';e(this).stop(1,1)[g?'animate':'css'](h,f.animate);if(d.options.range===true){if(d.orientation=='horizontal'){(a==0)&&d.range.stop(1,1)[g?'animate':'css']({left:b+'%'},f.animate);(a==1)&&d.range[g?'animate':'css']({width:(b-lastValPercent)+'%'},{queue:false,duration:f.animate})}else{(a==0)&&d.range.stop(1,1)[g?'animate':'css']({bottom:(b)+'%'},f.animate);(a==1)&&d.range[g?'animate':'css']({height:(b-lastValPercent)+'%'},{queue:false,duration:f.animate})}}lastValPercent=b})}else{var m=this.value(),k=this._0(),o=this._1(),l=o!=k?(m-k)/(o-k)*100:0;var p={};p[d.orientation=='horizontal'?'left':'bottom']=l+'%';this.handle.stop(1,1)[g?'animate':'css'](p,f.animate);(i=="min")&&(this.orientation=="horizontal")&&this.range.stop(1,1)[g?'animate':'css']({width:l+'%'},f.animate);(i=="max")&&(this.orientation=="horizontal")&&this.range[g?'animate':'css']({width:(100-l)+'%'},{queue:false,duration:f.animate});(i=="min")&&(this.orientation=="vertical")&&this.range.stop(1,1)[g?'animate':'css']({height:l+'%'},f.animate);(i=="max")&&(this.orientation=="vertical")&&this.range[g?'animate':'css']({height:(100-l)+'%'},{queue:false,duration:f.animate})}}}));e.extend(e.ui.slider,{getter:"value values",version:"1.7.2",eventPrefix:"slide",defaults:{animate:false,delay:0,distance:0,max:100,min:0,orientation:'horizontal',range:false,step:1,value:0,values:null}})})(jQuery);