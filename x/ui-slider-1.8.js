(function(e){var n=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var g=this,i=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");if(i.disabled){this.element.addClass("ui-slider-disabled ui-disabled")}this.range=e([]);if(i.range){if(i.range===true){this.range=e("<div></div>");if(!i.values){i.values=[this._valueMin(),this._valueMin()]}if(i.values.length&&i.values.length!==2){i.values=[i.values[0],i.values[0]]}}else{this.range=e("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(i.range==="min"||i.range==="max"){this.range.addClass("ui-slider-range-"+i.range)}this.range.addClass("ui-widget-header")}if(e(".ui-slider-handle",this.element).length===0){e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}if(i.values&&i.values.length){while(e(".ui-slider-handle",this.element).length<i.values.length){e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}}this.handles=e(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){if(!i.disabled){e(this).addClass("ui-state-hover")}},function(){e(this).removeClass("ui-state-hover")}).focus(function(){if(!i.disabled){e(".ui-slider .ui-state-focus").removeClass("ui-state-focus");e(this).addClass("ui-state-focus")}else{e(this).blur()}}).blur(function(){e(this).removeClass("ui-state-focus")});this.handles.each(function(b){e(this).data("index.ui-slider-handle",b)});this.handles.keydown(function(b){var d=true,a=e(this).data("index.ui-slider-handle"),c,f,h,j;if(g.options.disabled){return}switch(b.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:d=false;if(!g._keySliding){g._keySliding=true;e(this).addClass("ui-state-active");c=g._start(b,a);if(c===false){return}}break}j=g.options.step;if(g.options.values&&g.options.values.length){f=h=g.values(a)}else{f=h=g.value()}switch(b.keyCode){case e.ui.keyCode.HOME:h=g._valueMin();break;case e.ui.keyCode.END:h=g._valueMax();break;case e.ui.keyCode.PAGE_UP:h=f+((g._valueMax()-g._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:h=f-((g._valueMax()-g._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(f===g._valueMax()){return}h=f+j;break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(f===g._valueMin()){return}h=f-j;break}g._slide(b,a,h);return d}).keyup(function(b){var d=e(this).data("index.ui-slider-handle");if(g._keySliding){g._keySliding=false;g._stop(b,d);g._change(b,d);e(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(a){var c=this.options,f,h,j,g,i,k,l,m,o;if(c.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f={x:a.pageX,y:a.pageY};h=this._normValueFromMouse(f);j=this._valueMax()-this._valueMin()+1;i=this;this.handles.each(function(b){var d=Math.abs(h-i.values(b));if(j>d){j=d;g=e(this);k=b}});if(c.range===true&&this.values(1)===c.min){k+=1;g=e(this.handles[k])}l=this._start(a,k);if(l===false){return false}this._mouseSliding=true;i._handleIndex=k;g.addClass("ui-state-active").focus();m=g.offset();o=!e(a.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=o?{left:0,top:0}:{left:a.pageX-m.left-(g.width()/2),top:a.pageY-m.top-(g.height()/2)-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)};h=this._normValueFromMouse(f);this._slide(a,k,h);this._animateOff=true;return true},_mouseStart:function(b){return true},_mouseDrag:function(b){var d={x:b.pageX,y:b.pageY},a=this._normValueFromMouse(d);this._slide(b,this._handleIndex,a);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(b){var d,a,c,f,h;if(this.orientation==="horizontal"){d=this.elementSize.width;a=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;a=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}c=(a/d);if(c>1){c=1}if(c<0){c=0}if(this.orientation==="vertical"){c=1-c}f=this._valueMax()-this._valueMin();h=this._valueMin()+c*f;return this._trimAlignValue(h)},_start:function(b,d){var a={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(d);a.values=this.values()}return this._trigger("start",b,a)},_slide:function(b,d,a){var c,f,h;if(this.options.values&&this.options.values.length){c=this.values(d?0:1);if((this.options.values.length===2&&this.options.range===true)&&((d===0&&a>c)||(d===1&&a<c))){a=c}if(a!==this.values(d)){f=this.values();f[d]=a;h=this._trigger("slide",b,{handle:this.handles[d],value:a,values:f});c=this.values(d?0:1);if(h!==false){this.values(d,a,true)}}}else{if(a!==this.value()){h=this._trigger("slide",b,{handle:this.handles[d],value:a});if(h!==false){this.value(a)}}}},_stop:function(b,d){var a={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(d);a.values=this.values()}this._trigger("stop",b,a)},_change:function(b,d){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(d);a.values=this.values()}this._trigger("change",b,a)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b);this._refreshValue();this._change(null,0)}return this._value()},values:function(b,d){var a,c,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(d);this._refreshValue();this._change(null,b)}if(arguments.length){if(e.isArray(arguments[0])){a=this.options.values;c=arguments[0];for(f=0;f<a.length;f+=1){a[f]=this._trimAlignValue(c[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(b)}else{return this.value()}}}else{return this._values()}},_setOption:function(b,d){var a,c=0;if(e.isArray(this.options.values)){c=this.options.values.length}e.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(d){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(a=0;a<c;a+=1){this._change(null,a)}this._animateOff=false;break}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(b){var d,a,c;if(arguments.length){d=this.options.values[b];d=this._trimAlignValue(d);return d}else{a=this.options.values.slice();for(c=0;c<a.length;c+=1){a[c]=this._trimAlignValue(a[c])}return a}},_trimAlignValue:function(b){if(b<this._valueMin()){return this._valueMin()}if(b>this._valueMax()){return this._valueMax()}var d=this.options.step,a=b%d,c=b-a;if(a>=(d/2)){c+=d}return parseFloat(c.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a=this.options.range,c=this.options,f=this,h=(!this._animateOff)?c.animate:false,j,g={},i,k,l,m;if(this.options.values&&this.options.values.length){this.handles.each(function(b,d){j=(f.values(b)-f._valueMin())/(f._valueMax()-f._valueMin())*100;g[f.orientation==="horizontal"?"left":"bottom"]=j+"%";e(this).stop(1,1)[h?"animate":"css"](g,c.animate);if(f.options.range===true){if(f.orientation==="horizontal"){if(b===0){f.range.stop(1,1)[h?"animate":"css"]({left:j+"%"},c.animate)}if(b===1){f.range[h?"animate":"css"]({width:(j-i)+"%"},{queue:false,duration:c.animate})}}else{if(b===0){f.range.stop(1,1)[h?"animate":"css"]({bottom:(j)+"%"},c.animate)}if(b===1){f.range[h?"animate":"css"]({height:(j-i)+"%"},{queue:false,duration:c.animate})}}}i=j})}else{k=this.value();l=this._valueMin();m=this._valueMax();j=(m!==l)?(k-l)/(m-l)*100:0;g[f.orientation==="horizontal"?"left":"bottom"]=j+"%";this.handle.stop(1,1)[h?"animate":"css"](g,c.animate);if(a==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[h?"animate":"css"]({width:j+"%"},c.animate)}if(a==="max"&&this.orientation==="horizontal"){this.range[h?"animate":"css"]({width:(100-j)+"%"},{queue:false,duration:c.animate})}if(a==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[h?"animate":"css"]({height:j+"%"},c.animate)}if(a==="max"&&this.orientation==="vertical"){this.range[h?"animate":"css"]({height:(100-j)+"%"},{queue:false,duration:c.animate})}}}});e.extend(e.ui.slider,{version:"1.8.1"})}(jQuery));