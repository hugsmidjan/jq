// $.formatChange  -- (c) 2012 Hugsmi√∞jan ehf.
(function(e,g,i,j,p,a,f,k,h){j=g.getComputedStyle;e.formatChange=function(d,l){if(d==='disengage'){e(g).unbind(i);f&&f.remove();a=f=h}else{var m=d===true;if(!a){d=e.extend({Small:{'narrow':1,'mobile':1},Large:{'tablet':1,'desktop':1,'wide':1}},d);a=e.extend({is:function(b,c){c=c===0?h:c||a.format;return b===c||!!(d[b]&&d[b][c])},was:function(b){return a.is(b,a.lastFormat||0)},became:function(b){return a.is(b)&&!a.is(b,a.lastFormat||0)},left:function(b){return a.is(b,a.lastFormat||0)&&!a.is(b)}},!m&&l);e(g).bind(i,function(b,c){c=c||{};if(!f){k=e('<'+(d.tagName||'del')+' style="position:absolute;visibility:hidden;width:0;height:0;overflow:hidden;"/>').appendTo('body');f=k[0];f.id=d.elmId||'mediaformat'}var n=a.lastFormat=c.force?h:a.format,o=a.format=(j&&j(f,d.before?':before':':after').getPropertyValue('content').replace(/['"]/g,''))||k.css('font-family');if((o!==n)||c.force){e(g).trigger('formatchange'+(c.ns||''),[a,n])}})}e(g).trigger(i,[m?{force:1,ns:'.'+l}:h]);return a}}})(jQuery,window,'resize.formatchange');
