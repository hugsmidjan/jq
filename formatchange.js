// $.formatChange  -- (c) 2012 Hugsmi√∞jan ehf.
(function(d,h,k,i,j,l,f,a,g,m,n){l=h.getComputedStyle;d.formatChange=function(c,o){if(c==='disengage'){d(h).unbind(k);g&&g.remove();a=g=n}else{var p=c===true;if(!a){c=d.extend({Small:{'narrow':1,'mobile':1},Large:{'tablet':1,'desktop':1,'wide':1}},c);f=function(b,e){return b===e||!!(c[b]&&c[b][e])};a=d.extend({is:function(b){return f(b,a[i])},was:function(b){return f(b,a[j])},became:function(b){return f(b,a[i])&&!f(b,a[j])},left:function(b){return f(b,a[j])&&!f(b,a[i])}},!p&&o);d(h).bind(k,function(b,e){e=e||{};if(!g){m=d('<'+(c.tagName||'del')+' style="position:absolute;visibility:hidden;width:0;height:0;overflow:hidden;"/>').appendTo('body');g=m[0];g.id=c.elmId||'mediaformat'}var q=a[j]=e.force?n:a[i],r=a[i]=(l&&l(g,c.before?':before':':after').getPropertyValue('content').replace(/['"]/g,''))||m.css('font-family');if((r!==q)||e.force){d(h).trigger('formatchange'+(e.ns||''),[a,q])}})}d(h).trigger(k,[p?{force:1,ns:'.'+o}:n]);return a}}})(jQuery,window,'resize.formatchange','format','lastFormat');
