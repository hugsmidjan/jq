// $.formatChange  -- (c) 2012 Hugsmi√∞jan ehf.
(function(e,g,h,i,p,a,f,j,k){i=g.getComputedStyle;e.formatChange=function(d,l){if(d==='disengage'){e(g).unbind(h);f&&f.remove();a=f=k}else{var m=d===true;if(!a){d=e.extend({Small:{'narrow':1,'mobile':1},Large:{'tablet':1,'desktop':1,'wide':1}},d);a=e.extend({is:function(b,c){c=c||a.format;return b===c||!!(d[b]&&d[b][c])},was:function(b){return a.is(b,a.lastFormat)},became:function(b){return a.is(b)&&!a.is(b,a.lastFormat)},left:function(b){return a.is(b,a.lastFormat)&&!a.is(b)}},!m&&l);e(g).bind(h,function(b,c){c=c||{};if(!f){j=e('<'+(d.tagName||'del')+' style="position:absolute;visibility:hidden;width:0;height:0;overflow:hidden;"/>').appendTo('body');f=j[0];f.id=d.elmId||'mediaformat'}var n=a.lastFormat=c.force?k:a.format,o=a.format=(i&&i(f,d.before?':before':':after').getPropertyValue('content').replace(/['"]/g,''))||j.css('font-family');if((o!==n)||c.force){e(g).trigger('formatchange'+(c.ns||''),[a,n])}})}e(g).trigger(h,[m?{force:1,ns:'.'+l}:k]);return a}}})(jQuery,window,'resize.formatchange');
