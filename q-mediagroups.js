// $.fn.mediaGroups -- (c) 2014 Hugsmiðjan ehf.
!function(t){t.fn.mediaGroups=function(e){return e=t.extend({},e),this.each(function(){var e=t(this).find(".group");e.each(function(){var e=t(this).find("> div:first"),i=t(this).find("a:first").attr("href"),s=t(this).find("iframe:first").attr("src"),o=e.is(".twitter-wrap")&&"twitter"||/(?:\/\/|\.)(?:youtube\.com|youtu\.be)/i.test(i)&&"youtube"||/(?:\/\/|\.)vimeo\.com/i.test(i)&&"video vimeo"||/(?:\/\/|\.)twitter\.com/i.test(i)&&"twitter"||/\.(flv|mp4|m4v)(\?|$)/i.test(i)&&"video file"||/(?:\/\/|\.)facebook\.com/i.test(i)&&"facebook"||/(?:\/\/|\.)flickr\.com/i.test(i)&&"images flickr"||/(?:\/\/|\.)spotify\.com/i.test(s)&&"spotify"||/\.(jpe?g|png|gif)(\?|$)/i.test(i)&&"images file"||"links";"youtube"==o?o=/user|channel/.test(i)?"links youtube":"video youtube":"facebook"==o&&(o=/type=2/.test(i)?"video facebook":/type=3/.test(i)?"images facebook":"links facebook"),t(this).addClass(o),/links/.test(o)?t(this).prepend("<h3>Tenglar</h3>"):/youtube/.test(o)?t(this).prepend("<h3>YouTube</h3>"):/vimeo/.test(o)?t(this).prepend("<h3>Vimeo</h3>"):/video/.test(o)?t(this).prepend("<h3>Myndbönd</h3>"):/twitter/.test(o)?t(this).prepend("<h3>Twitter</h3>"):/facebook/.test(o)?t(this).prepend("<h3>Facebook</h3>"):/flickr/.test(o)?t(this).prepend("<h3>Flickr</h3>"):/spotify/.test(o)?t(this).prepend("<h3>Spotify</h3>"):/images/.test(o)&&t(this).prepend("<h3>Myndir</h3>")}),e.filter(".video").Req("q-videolinks",function(){t(this).each(function(){t(this).find("a").videoLinks(),t(this).find("li").length>1&&t(this).listscroller({item:"li",paging:!0,statusPager:!1,jumpPager:!0,aspect:"horizontal",animation:"carousel",wrap:"both",speed:400,windowSize:1,stepSize:1})})}),e.filter(".links").find("a").attr("target","_blank"),e.filter(".flickr").each(function(){var e=t(this).find("ul"),i=e.find("li"),s=0,o=i.length;for(s=0;o>s;s+=9)t("<ul />").append(i.slice(s,s+9)).appendTo(t(this));e.remove(),t(this).find("ul").length>1&&t(this).listscroller({item:"ul",paging:!0,statusPager:!1,jumpPager:!0,aspect:"horizontal",animation:"carousel",wrap:"loop",speed:400,windowSize:1,stepSize:1})}),e.filter(".twitter").each(function(){t(this).find("a").attr("target","_blank"),t(this).find(".twitter-wrap").length>1&&t(this).listscroller({item:".twitter-wrap",paging:!0,statusPager:!1,jumpPager:!0,aspect:"horizontal",animation:"carousel",wrap:"loop",speed:400,windowSize:1,stepSize:1})}),t(this).addClass("gpc-"+t(this).find(".group").length),e.length>1&&e.Req("equalizeheights",function(){t(this).equalizeHeights()})})}}(jQuery);
